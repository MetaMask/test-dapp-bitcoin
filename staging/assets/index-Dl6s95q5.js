var bm=Object.defineProperty;var Nm=(e,r,i)=>r in e?bm(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i;var ht=(e,r,i)=>Nm(e,typeof r!="symbol"?r+"":r,i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const c of f.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(l){if(l.ep)return;l.ep=!0;const f=i(l);fetch(l.href,f)}})();function Um(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var i=function s(){return this instanceof s?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var l=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(i,s,l.get?l:{enumerable:!0,get:function(){return e[s]}})}),i}var ic={exports:{}},ss={},oc={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function Bm(){if(Dh)return Ge;Dh=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=v&&b[v]||b["@@iterator"],typeof b=="function"?b:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function B(b,G,we){this.props=b,this.context=G,this.refs=N,this.updater=we||I}B.prototype.isReactComponent={},B.prototype.setState=function(b,G){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,G,"setState")},B.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Y(){}Y.prototype=B.prototype;function X(b,G,we){this.props=b,this.context=G,this.refs=N,this.updater=we||I}var L=X.prototype=new Y;L.constructor=X,C(L,B.prototype),L.isPureReactComponent=!0;var $=Array.isArray,V=Object.prototype.hasOwnProperty,z={current:null},me={key:!0,ref:!0,__self:!0,__source:!0};function ye(b,G,we){var de,xe={},Re=null,ee=null;if(G!=null)for(de in G.ref!==void 0&&(ee=G.ref),G.key!==void 0&&(Re=""+G.key),G)V.call(G,de)&&!me.hasOwnProperty(de)&&(xe[de]=G[de]);var Le=arguments.length-2;if(Le===1)xe.children=we;else if(1<Le){for(var Qe=Array(Le),ot=0;ot<Le;ot++)Qe[ot]=arguments[ot+2];xe.children=Qe}if(b&&b.defaultProps)for(de in Le=b.defaultProps,Le)xe[de]===void 0&&(xe[de]=Le[de]);return{$$typeof:e,type:b,key:Re,ref:ee,props:xe,_owner:z.current}}function ie(b,G){return{$$typeof:e,type:b.type,key:G,ref:b.ref,props:b.props,_owner:b._owner}}function Q(b){return typeof b=="object"&&b!==null&&b.$$typeof===e}function se(b){var G={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(we){return G[we]})}var Be=/\/+/g;function ge(b,G){return typeof b=="object"&&b!==null&&b.key!=null?se(""+b.key):G.toString(36)}function Ie(b,G,we,de,xe){var Re=typeof b;(Re==="undefined"||Re==="boolean")&&(b=null);var ee=!1;if(b===null)ee=!0;else switch(Re){case"string":case"number":ee=!0;break;case"object":switch(b.$$typeof){case e:case r:ee=!0}}if(ee)return ee=b,xe=xe(ee),b=de===""?"."+ge(ee,0):de,$(xe)?(we="",b!=null&&(we=b.replace(Be,"$&/")+"/"),Ie(xe,G,we,"",function(ot){return ot})):xe!=null&&(Q(xe)&&(xe=ie(xe,we+(!xe.key||ee&&ee.key===xe.key?"":(""+xe.key).replace(Be,"$&/")+"/")+b)),G.push(xe)),1;if(ee=0,de=de===""?".":de+":",$(b))for(var Le=0;Le<b.length;Le++){Re=b[Le];var Qe=de+ge(Re,Le);ee+=Ie(Re,G,we,Qe,xe)}else if(Qe=_(b),typeof Qe=="function")for(b=Qe.call(b),Le=0;!(Re=b.next()).done;)Re=Re.value,Qe=de+ge(Re,Le++),ee+=Ie(Re,G,we,Qe,xe);else if(Re==="object")throw G=String(b),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ee}function Me(b,G,we){if(b==null)return b;var de=[],xe=0;return Ie(b,de,"","",function(Re){return G.call(we,Re,xe++)}),de}function ce(b){if(b._status===-1){var G=b._result;G=G(),G.then(function(we){(b._status===0||b._status===-1)&&(b._status=1,b._result=we)},function(we){(b._status===0||b._status===-1)&&(b._status=2,b._result=we)}),b._status===-1&&(b._status=0,b._result=G)}if(b._status===1)return b._result.default;throw b._result}var Pe={current:null},oe={transition:null},O={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:z};function M(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:Me,forEach:function(b,G,we){Me(b,function(){G.apply(this,arguments)},we)},count:function(b){var G=0;return Me(b,function(){G++}),G},toArray:function(b){return Me(b,function(G){return G})||[]},only:function(b){if(!Q(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ge.Component=B,Ge.Fragment=i,Ge.Profiler=l,Ge.PureComponent=X,Ge.StrictMode=s,Ge.Suspense=m,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,Ge.act=M,Ge.cloneElement=function(b,G,we){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var de=C({},b.props),xe=b.key,Re=b.ref,ee=b._owner;if(G!=null){if(G.ref!==void 0&&(Re=G.ref,ee=z.current),G.key!==void 0&&(xe=""+G.key),b.type&&b.type.defaultProps)var Le=b.type.defaultProps;for(Qe in G)V.call(G,Qe)&&!me.hasOwnProperty(Qe)&&(de[Qe]=G[Qe]===void 0&&Le!==void 0?Le[Qe]:G[Qe])}var Qe=arguments.length-2;if(Qe===1)de.children=we;else if(1<Qe){Le=Array(Qe);for(var ot=0;ot<Qe;ot++)Le[ot]=arguments[ot+2];de.children=Le}return{$$typeof:e,type:b.type,key:xe,ref:Re,props:de,_owner:ee}},Ge.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:f,_context:b},b.Consumer=b},Ge.createElement=ye,Ge.createFactory=function(b){var G=ye.bind(null,b);return G.type=b,G},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(b){return{$$typeof:p,render:b}},Ge.isValidElement=Q,Ge.lazy=function(b){return{$$typeof:g,_payload:{_status:-1,_result:b},_init:ce}},Ge.memo=function(b,G){return{$$typeof:w,type:b,compare:G===void 0?null:G}},Ge.startTransition=function(b){var G=oe.transition;oe.transition={};try{b()}finally{oe.transition=G}},Ge.unstable_act=M,Ge.useCallback=function(b,G){return Pe.current.useCallback(b,G)},Ge.useContext=function(b){return Pe.current.useContext(b)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(b){return Pe.current.useDeferredValue(b)},Ge.useEffect=function(b,G){return Pe.current.useEffect(b,G)},Ge.useId=function(){return Pe.current.useId()},Ge.useImperativeHandle=function(b,G,we){return Pe.current.useImperativeHandle(b,G,we)},Ge.useInsertionEffect=function(b,G){return Pe.current.useInsertionEffect(b,G)},Ge.useLayoutEffect=function(b,G){return Pe.current.useLayoutEffect(b,G)},Ge.useMemo=function(b,G){return Pe.current.useMemo(b,G)},Ge.useReducer=function(b,G,we){return Pe.current.useReducer(b,G,we)},Ge.useRef=function(b){return Pe.current.useRef(b)},Ge.useState=function(b){return Pe.current.useState(b)},Ge.useSyncExternalStore=function(b,G,we){return Pe.current.useSyncExternalStore(b,G,we)},Ge.useTransition=function(){return Pe.current.useTransition()},Ge.version="18.3.1",Ge}var jh;function Xc(){return jh||(jh=1,oc.exports=Bm()),oc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function Hm(){if($h)return ss;$h=1;var e=Xc(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function c(p,m,w){var g,v={},_=null,I=null;w!==void 0&&(_=""+w),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(I=m.ref);for(g in m)s.call(m,g)&&!f.hasOwnProperty(g)&&(v[g]=m[g]);if(p&&p.defaultProps)for(g in m=p.defaultProps,m)v[g]===void 0&&(v[g]=m[g]);return{$$typeof:r,type:p,key:_,ref:I,props:v,_owner:l.current}}return ss.Fragment=i,ss.jsx=c,ss.jsxs=c,ss}var Vh;function Om(){return Vh||(Vh=1,ic.exports=Hm()),ic.exports}var J=Om(),Ce=Xc(),Bu={},sc={exports:{}},yn={},uc={exports:{}},lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function Rm(){return zh||(zh=1,function(e){function r(oe,O){var M=oe.length;oe.push(O);e:for(;0<M;){var b=M-1>>>1,G=oe[b];if(0<l(G,O))oe[b]=O,oe[M]=G,M=b;else break e}}function i(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var O=oe[0],M=oe.pop();if(M!==O){oe[0]=M;e:for(var b=0,G=oe.length,we=G>>>1;b<we;){var de=2*(b+1)-1,xe=oe[de],Re=de+1,ee=oe[Re];if(0>l(xe,M))Re<G&&0>l(ee,xe)?(oe[b]=ee,oe[Re]=M,b=Re):(oe[b]=xe,oe[de]=M,b=de);else if(Re<G&&0>l(ee,M))oe[b]=ee,oe[Re]=M,b=Re;else break e}}return O}function l(oe,O){var M=oe.sortIndex-O.sortIndex;return M!==0?M:oe.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var m=[],w=[],g=1,v=null,_=3,I=!1,C=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(oe){for(var O=i(w);O!==null;){if(O.callback===null)s(w);else if(O.startTime<=oe)s(w),O.sortIndex=O.expirationTime,r(m,O);else break;O=i(w)}}function $(oe){if(N=!1,L(oe),!C)if(i(m)!==null)C=!0,ce(V);else{var O=i(w);O!==null&&Pe($,O.startTime-oe)}}function V(oe,O){C=!1,N&&(N=!1,Y(ye),ye=-1),I=!0;var M=_;try{for(L(O),v=i(m);v!==null&&(!(v.expirationTime>O)||oe&&!se());){var b=v.callback;if(typeof b=="function"){v.callback=null,_=v.priorityLevel;var G=b(v.expirationTime<=O);O=e.unstable_now(),typeof G=="function"?v.callback=G:v===i(m)&&s(m),L(O)}else s(m);v=i(m)}if(v!==null)var we=!0;else{var de=i(w);de!==null&&Pe($,de.startTime-O),we=!1}return we}finally{v=null,_=M,I=!1}}var z=!1,me=null,ye=-1,ie=5,Q=-1;function se(){return!(e.unstable_now()-Q<ie)}function Be(){if(me!==null){var oe=e.unstable_now();Q=oe;var O=!0;try{O=me(!0,oe)}finally{O?ge():(z=!1,me=null)}}else z=!1}var ge;if(typeof X=="function")ge=function(){X(Be)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Me=Ie.port2;Ie.port1.onmessage=Be,ge=function(){Me.postMessage(null)}}else ge=function(){B(Be,0)};function ce(oe){me=oe,z||(z=!0,ge())}function Pe(oe,O){ye=B(function(){oe(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){C||I||(C=!0,ce(V))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return i(m)},e.unstable_next=function(oe){switch(_){case 1:case 2:case 3:var O=3;break;default:O=_}var M=_;_=O;try{return oe()}finally{_=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,O){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var M=_;_=oe;try{return O()}finally{_=M}},e.unstable_scheduleCallback=function(oe,O,M){var b=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?b+M:b):M=b,oe){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=M+G,oe={id:g++,callback:O,priorityLevel:oe,startTime:M,expirationTime:G,sortIndex:-1},M>b?(oe.sortIndex=M,r(w,oe),i(m)===null&&oe===i(w)&&(N?(Y(ye),ye=-1):N=!0,Pe($,M-b))):(oe.sortIndex=G,r(m,oe),C||I||(C=!0,ce(V))),oe},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(oe){var O=_;return function(){var M=_;_=O;try{return oe.apply(this,arguments)}finally{_=M}}}}(lc)),lc}var Wh;function Lm(){return Wh||(Wh=1,uc.exports=Rm()),uc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function Fm(){if(Kh)return yn;Kh=1;var e=Xc(),r=Lm();function i(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function f(t,n){c(t,n),c(t+"Capture",n)}function c(t,n){for(l[t]=n,t=0;t<n.length;t++)s.add(n[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(t){return m.call(v,t)?!0:m.call(g,t)?!1:w.test(t)?v[t]=!0:(g[t]=!0,!1)}function I(t,n,o,u){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C(t,n,o,u){if(n===null||typeof n>"u"||I(t,n,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function N(t,n,o,u,a,d,E){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=a,this.mustUseProperty=o,this.propertyName=t,this.type=n,this.sanitizeURL=d,this.removeEmptyString=E}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new N(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];B[n]=new N(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new N(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new N(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new N(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new N(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new N(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new N(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new N(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(Y,X);B[n]=new N(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(Y,X);B[n]=new N(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(Y,X);B[n]=new N(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new N(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new N(t,1,!1,t.toLowerCase(),null,!0,!0)});function L(t,n,o,u){var a=B.hasOwnProperty(n)?B[n]:null;(a!==null?a.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(C(n,o,a,u)&&(o=null),u||a===null?_(n)&&(o===null?t.removeAttribute(n):t.setAttribute(n,""+o)):a.mustUseProperty?t[a.propertyName]=o===null?a.type===3?!1:"":o:(n=a.attributeName,u=a.attributeNamespace,o===null?t.removeAttribute(n):(a=a.type,o=a===3||a===4&&o===!0?"":""+o,u?t.setAttributeNS(u,n,o):t.setAttribute(n,o))))}var $=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),z=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),ye=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),se=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var M=Object.assign,b;function G(t){if(b===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);b=n&&n[1]||""}return`
`+b+t}var we=!1;function de(t,n){if(!t||we)return"";we=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(K){var u=K}Reflect.construct(t,[],n)}else{try{n.call()}catch(K){u=K}t.call(n.prototype)}else{try{throw Error()}catch(K){u=K}t()}}catch(K){if(K&&u&&typeof K.stack=="string"){for(var a=K.stack.split(`
`),d=u.stack.split(`
`),E=a.length-1,A=d.length-1;1<=E&&0<=A&&a[E]!==d[A];)A--;for(;1<=E&&0<=A;E--,A--)if(a[E]!==d[A]){if(E!==1||A!==1)do if(E--,A--,0>A||a[E]!==d[A]){var U=`
`+a[E].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=E&&0<=A);break}}}finally{we=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?G(t):""}function xe(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=de(t.type,!1),t;case 11:return t=de(t.type.render,!1),t;case 1:return t=de(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case me:return"Fragment";case z:return"Portal";case ie:return"Profiler";case ye:return"StrictMode";case ge:return"Suspense";case Ie:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case se:return(t.displayName||"Context")+".Consumer";case Q:return(t._context.displayName||"Context")+".Provider";case Be:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Me:return n=t.displayName||null,n!==null?n:Re(t.type)||"Memo";case ce:n=t._payload,t=t._init;try{return Re(t(n))}catch{}}return null}function ee(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(n);case 8:return n===ye?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qe(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ot(t){var n=Qe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var a=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return a.call(this)},set:function(E){u=""+E,d.call(this,E)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Mt(t){t._valueTracker||(t._valueTracker=ot(t))}function nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return t&&(u=Qe(t)?t.checked?"true":"false":t.value),t=u,t!==o?(n.setValue(t),!0):!1}function an(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pn(t,n){var o=n.checked;return M({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Vn(t,n){var o=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;o=Le(n.value!=null?n.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function bn(t,n){n=n.checked,n!=null&&L(t,"checked",n,!1)}function Wt(t,n){bn(t,n);var o=Le(n.value),u=n.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Dr(t,n.type,o):n.hasOwnProperty("defaultValue")&&Dr(t,n.type,Le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function pr(t,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,o||n===t.value||(t.value=n),t.defaultValue=n}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Dr(t,n,o){(n!=="number"||an(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Dt=Array.isArray;function Nn(t,n,o,u){if(t=t.options,n){n={};for(var a=0;a<o.length;a++)n["$"+o[a]]=!0;for(o=0;o<t.length;o++)a=n.hasOwnProperty("$"+t[o].value),t[o].selected!==a&&(t[o].selected=a),a&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Le(o),n=null,a=0;a<t.length;a++){if(t[a].value===o){t[a].selected=!0,u&&(t[a].defaultSelected=!0);return}n!==null||t[a].disabled||(n=t[a])}n!==null&&(n.selected=!0)}}function jr(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return M({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mi(t,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(i(92));if(Dt(o)){if(1<o.length)throw Error(i(93));o=o[0]}n=o}n==null&&(n=""),o=n}t._wrapperState={initialValue:Le(o)}}function yr(t,n){var o=Le(n.value),u=Le(n.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),n.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Kt(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function $r(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vr(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?$r(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rn,wi=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,u,a){MSApp.execUnsafeLocalFunction(function(){return t(n,o,u,a)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(rn=rn||document.createElement("div"),rn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=rn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function S(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y=["Webkit","ms","Moz","O"];Object.keys(h).forEach(function(t){y.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),h[n]=h[t]})});function k(t,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||h.hasOwnProperty(t)&&h[t]?(""+n).trim():n+"px"}function R(t,n){t=t.style;for(var o in n)if(n.hasOwnProperty(o)){var u=o.indexOf("--")===0,a=k(o,n[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,a):t[o]=a}}var W=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z(t,n){if(n){if(W[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function De(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var st=null;function tt(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ut=null,Ye=null,gr=null;function _o(t){if(t=Wo(t)){if(typeof ut!="function")throw Error(i(280));var n=t.stateNode;n&&(n=Xs(n),ut(t.stateNode,t.type,n))}}function ko(t){Ye?gr?gr.push(t):gr=[t]:Ye=t}function Ao(){if(Ye){var t=Ye,n=gr;if(gr=Ye=null,_o(t),n)for(t=0;t<n.length;t++)_o(n[t])}}function Gt(t,n){return t(n)}function zn(){}var zr=!1;function T(t,n,o){if(zr)return t(n,o);zr=!0;try{return Gt(t,n,o)}finally{zr=!1,(Ye!==null||gr!==null)&&(zn(),Ao())}}function x(t,n){var o=t.stateNode;if(o===null)return null;var u=Xs(o);if(u===null)return null;o=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(i(231,n,typeof o));return o}var P=!1;if(p)try{var F={};Object.defineProperty(F,"passive",{get:function(){P=!0}}),window.addEventListener("test",F,F),window.removeEventListener("test",F,F)}catch{P=!1}function q(t,n,o,u,a,d,E,A,U){var K=Array.prototype.slice.call(arguments,3);try{n.apply(o,K)}catch(le){this.onError(le)}}var te=!1,he=null,pe=!1,be=null,Ne={onError:function(t){te=!0,he=t}};function ze(t,n,o,u,a,d,E,A,U){te=!1,he=null,q.apply(Ne,arguments)}function qe(t,n,o,u,a,d,E,A,U){if(ze.apply(this,arguments),te){if(te){var K=he;te=!1,he=null}else throw Error(i(198));pe||(pe=!0,be=K)}}function Ke(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function Et(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function pt(t){if(Ke(t)!==t)throw Error(i(188))}function Sn(t){var n=t.alternate;if(!n){if(n=Ke(t),n===null)throw Error(i(188));return n!==t?null:t}for(var o=t,u=n;;){var a=o.return;if(a===null)break;var d=a.alternate;if(d===null){if(u=a.return,u!==null){o=u;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===o)return pt(a),t;if(d===u)return pt(a),n;d=d.sibling}throw Error(i(188))}if(o.return!==u.return)o=a,u=d;else{for(var E=!1,A=a.child;A;){if(A===o){E=!0,o=a,u=d;break}if(A===u){E=!0,u=a,o=d;break}A=A.sibling}if(!E){for(A=d.child;A;){if(A===o){E=!0,o=d,u=a;break}if(A===u){E=!0,u=d,o=a;break}A=A.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?t:n}function mr(t){return t=Sn(t),t!==null?wr(t):null}function wr(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=wr(t);if(n!==null)return n;t=t.sibling}return null}var vr=r.unstable_scheduleCallback,vi=r.unstable_cancelCallback,To=r.unstable_shouldYield,Ei=r.unstable_requestPaint,St=r.unstable_now,Vy=r.unstable_getCurrentPriorityLevel,kl=r.unstable_ImmediatePriority,yf=r.unstable_UserBlockingPriority,Cs=r.unstable_NormalPriority,zy=r.unstable_LowPriority,gf=r.unstable_IdlePriority,Ps=null,rr=null;function Wy(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Ps,t,void 0,(t.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:Xy,Ky=Math.log,Gy=Math.LN2;function Xy(t){return t>>>=0,t===0?32:31-(Ky(t)/Gy|0)|0}var bs=64,Ns=4194304;function Io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Us(t,n){var o=t.pendingLanes;if(o===0)return 0;var u=0,a=t.suspendedLanes,d=t.pingedLanes,E=o&268435455;if(E!==0){var A=E&~a;A!==0?u=Io(A):(d&=E,d!==0&&(u=Io(d)))}else E=o&~a,E!==0?u=Io(E):d!==0&&(u=Io(d));if(u===0)return 0;if(n!==0&&n!==u&&(n&a)===0&&(a=u&-u,d=n&-n,a>=d||a===16&&(d&4194240)!==0))return n;if((u&4)!==0&&(u|=o&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)o=31-Wn(n),a=1<<o,u|=t[o],n&=~a;return u}function Yy(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qy(t,n){for(var o=t.suspendedLanes,u=t.pingedLanes,a=t.expirationTimes,d=t.pendingLanes;0<d;){var E=31-Wn(d),A=1<<E,U=a[E];U===-1?((A&o)===0||(A&u)!==0)&&(a[E]=Yy(A,n)):U<=n&&(t.expiredLanes|=A),d&=~A}}function Al(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mf(){var t=bs;return bs<<=1,(bs&4194240)===0&&(bs=64),t}function Tl(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function Co(t,n,o){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Wn(n),t[n]=o}function Qy(t,n){var o=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var a=31-Wn(o),d=1<<a;n[a]=0,u[a]=-1,t[a]=-1,o&=~d}}function Il(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var u=31-Wn(o),a=1<<u;a&n|t[u]&n&&(t[u]|=n),o&=~a}}var nt=0;function wf(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var vf,Cl,Ef,Sf,xf,Pl=!1,Bs=[],Wr=null,Kr=null,Gr=null,Po=new Map,bo=new Map,Xr=[],Zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _f(t,n){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Po.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function No(t,n,o,u,a,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:d,targetContainers:[a]},n!==null&&(n=Wo(n),n!==null&&Cl(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),t)}function Jy(t,n,o,u,a){switch(n){case"focusin":return Wr=No(Wr,t,n,o,u,a),!0;case"dragenter":return Kr=No(Kr,t,n,o,u,a),!0;case"mouseover":return Gr=No(Gr,t,n,o,u,a),!0;case"pointerover":var d=a.pointerId;return Po.set(d,No(Po.get(d)||null,t,n,o,u,a)),!0;case"gotpointercapture":return d=a.pointerId,bo.set(d,No(bo.get(d)||null,t,n,o,u,a)),!0}return!1}function kf(t){var n=Si(t.target);if(n!==null){var o=Ke(n);if(o!==null){if(n=o.tag,n===13){if(n=Et(o),n!==null){t.blockedOn=n,xf(t.priority,function(){Ef(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hs(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=Nl(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);st=u,o.target.dispatchEvent(u),st=null}else return n=Wo(o),n!==null&&Cl(n),t.blockedOn=o,!1;n.shift()}return!0}function Af(t,n,o){Hs(t)&&o.delete(n)}function eg(){Pl=!1,Wr!==null&&Hs(Wr)&&(Wr=null),Kr!==null&&Hs(Kr)&&(Kr=null),Gr!==null&&Hs(Gr)&&(Gr=null),Po.forEach(Af),bo.forEach(Af)}function Uo(t,n){t.blockedOn===n&&(t.blockedOn=null,Pl||(Pl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eg)))}function Bo(t){function n(a){return Uo(a,t)}if(0<Bs.length){Uo(Bs[0],t);for(var o=1;o<Bs.length;o++){var u=Bs[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Wr!==null&&Uo(Wr,t),Kr!==null&&Uo(Kr,t),Gr!==null&&Uo(Gr,t),Po.forEach(n),bo.forEach(n),o=0;o<Xr.length;o++)u=Xr[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Xr.length&&(o=Xr[0],o.blockedOn===null);)kf(o),o.blockedOn===null&&Xr.shift()}var Vi=$.ReactCurrentBatchConfig,Os=!0;function tg(t,n,o,u){var a=nt,d=Vi.transition;Vi.transition=null;try{nt=1,bl(t,n,o,u)}finally{nt=a,Vi.transition=d}}function ng(t,n,o,u){var a=nt,d=Vi.transition;Vi.transition=null;try{nt=4,bl(t,n,o,u)}finally{nt=a,Vi.transition=d}}function bl(t,n,o,u){if(Os){var a=Nl(t,n,o,u);if(a===null)Xl(t,n,u,Rs,o),_f(t,u);else if(Jy(a,t,n,o,u))u.stopPropagation();else if(_f(t,u),n&4&&-1<Zy.indexOf(t)){for(;a!==null;){var d=Wo(a);if(d!==null&&vf(d),d=Nl(t,n,o,u),d===null&&Xl(t,n,u,Rs,o),d===a)break;a=d}a!==null&&u.stopPropagation()}else Xl(t,n,u,null,o)}}var Rs=null;function Nl(t,n,o,u){if(Rs=null,t=tt(u),t=Si(t),t!==null)if(n=Ke(t),n===null)t=null;else if(o=n.tag,o===13){if(t=Et(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Rs=t,null}function Tf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vy()){case kl:return 1;case yf:return 4;case Cs:case zy:return 16;case gf:return 536870912;default:return 16}default:return 16}}var Yr=null,Ul=null,Ls=null;function If(){if(Ls)return Ls;var t,n=Ul,o=n.length,u,a="value"in Yr?Yr.value:Yr.textContent,d=a.length;for(t=0;t<o&&n[t]===a[t];t++);var E=o-t;for(u=1;u<=E&&n[o-u]===a[d-u];u++);return Ls=a.slice(t,1<u?1-u:void 0)}function Fs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ms(){return!0}function Cf(){return!1}function xn(t){function n(o,u,a,d,E){this._reactName=o,this._targetInst=a,this.type=u,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(o=t[A],this[A]=o?o(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ms:Cf,this.isPropagationStopped=Cf,this}return M(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=xn(zi),Ho=M({},zi,{view:0,detail:0}),rg=xn(Ho),Hl,Ol,Oo,Ds=M({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oo&&(Oo&&t.type==="mousemove"?(Hl=t.screenX-Oo.screenX,Ol=t.screenY-Oo.screenY):Ol=Hl=0,Oo=t),Hl)},movementY:function(t){return"movementY"in t?t.movementY:Ol}}),Pf=xn(Ds),ig=M({},Ds,{dataTransfer:0}),og=xn(ig),sg=M({},Ho,{relatedTarget:0}),Rl=xn(sg),ug=M({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=xn(ug),ag=M({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cg=xn(ag),fg=M({},zi,{data:0}),bf=xn(fg),dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yg(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=pg[t])?!!n[t]:!1}function Ll(){return yg}var gg=M({},Ho,{key:function(t){if(t.key){var n=dg[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(t){return t.type==="keypress"?Fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mg=xn(gg),wg=M({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nf=xn(wg),vg=M({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),Eg=xn(vg),Sg=M({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xg=xn(Sg),_g=M({},Ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kg=xn(_g),Ag=[9,13,27,32],Fl=p&&"CompositionEvent"in window,Ro=null;p&&"documentMode"in document&&(Ro=document.documentMode);var Tg=p&&"TextEvent"in window&&!Ro,Uf=p&&(!Fl||Ro&&8<Ro&&11>=Ro),Bf=" ",Hf=!1;function Of(t,n){switch(t){case"keyup":return Ag.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function Ig(t,n){switch(t){case"compositionend":return Rf(n);case"keypress":return n.which!==32?null:(Hf=!0,Bf);case"textInput":return t=n.data,t===Bf&&Hf?null:t;default:return null}}function Cg(t,n){if(Wi)return t==="compositionend"||!Fl&&Of(t,n)?(t=If(),Ls=Ul=Yr=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Uf&&n.locale!=="ko"?null:n.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Pg[t.type]:n==="textarea"}function Ff(t,n,o,u){ko(u),n=Ws(n,"onChange"),0<n.length&&(o=new Bl("onChange","change",null,o,u),t.push({event:o,listeners:n}))}var Lo=null,Fo=null;function bg(t){nd(t,0)}function js(t){var n=qi(t);if(nr(n))return t}function Ng(t,n){if(t==="change")return n}var Mf=!1;if(p){var Ml;if(p){var Dl="oninput"in document;if(!Dl){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),Dl=typeof Df.oninput=="function"}Ml=Dl}else Ml=!1;Mf=Ml&&(!document.documentMode||9<document.documentMode)}function jf(){Lo&&(Lo.detachEvent("onpropertychange",$f),Fo=Lo=null)}function $f(t){if(t.propertyName==="value"&&js(Fo)){var n=[];Ff(n,Fo,t,tt(t)),T(bg,n)}}function Ug(t,n,o){t==="focusin"?(jf(),Lo=n,Fo=o,Lo.attachEvent("onpropertychange",$f)):t==="focusout"&&jf()}function Bg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return js(Fo)}function Hg(t,n){if(t==="click")return js(n)}function Og(t,n){if(t==="input"||t==="change")return js(n)}function Rg(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Kn=typeof Object.is=="function"?Object.is:Rg;function Mo(t,n){if(Kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var a=o[u];if(!m.call(n,a)||!Kn(t[a],n[a]))return!1}return!0}function Vf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zf(t,n){var o=Vf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=n&&u>=n)return{node:o,offset:n-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vf(o)}}function Wf(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Wf(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Kf(){for(var t=window,n=an();n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=an(t.document)}return n}function jl(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Lg(t){var n=Kf(),o=t.focusedElem,u=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&Wf(o.ownerDocument.documentElement,o)){if(u!==null&&jl(o)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(t,o.value.length);else if(t=(n=o.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var a=o.textContent.length,d=Math.min(u.start,a);u=u.end===void 0?d:Math.min(u.end,a),!t.extend&&d>u&&(a=u,u=d,d=a),a=zf(o,d);var E=zf(o,u);a&&E&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==E.node||t.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),t.removeAllRanges(),d>u?(t.addRange(n),t.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),t.addRange(n)))}}for(n=[],t=o;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)t=n[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fg=p&&"documentMode"in document&&11>=document.documentMode,Ki=null,$l=null,Do=null,Vl=!1;function Gf(t,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vl||Ki==null||Ki!==an(u)||(u=Ki,"selectionStart"in u&&jl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Do&&Mo(Do,u)||(Do=u,u=Ws($l,"onSelect"),0<u.length&&(n=new Bl("onSelect","select",null,n,o),t.push({event:n,listeners:u}),n.target=Ki)))}function $s(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var Gi={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},zl={},Xf={};p&&(Xf=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Vs(t){if(zl[t])return zl[t];if(!Gi[t])return t;var n=Gi[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in Xf)return zl[t]=n[o];return t}var Yf=Vs("animationend"),qf=Vs("animationiteration"),Qf=Vs("animationstart"),Zf=Vs("transitionend"),Jf=new Map,ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(t,n){Jf.set(t,n),f(n,[t])}for(var Wl=0;Wl<ed.length;Wl++){var Kl=ed[Wl],Mg=Kl.toLowerCase(),Dg=Kl[0].toUpperCase()+Kl.slice(1);qr(Mg,"on"+Dg)}qr(Yf,"onAnimationEnd"),qr(qf,"onAnimationIteration"),qr(Qf,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(Zf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jg=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function td(t,n,o){var u=t.type||"unknown-event";t.currentTarget=o,qe(u,n,void 0,t),t.currentTarget=null}function nd(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],a=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var E=u.length-1;0<=E;E--){var A=u[E],U=A.instance,K=A.currentTarget;if(A=A.listener,U!==d&&a.isPropagationStopped())break e;td(a,A,K),d=U}else for(E=0;E<u.length;E++){if(A=u[E],U=A.instance,K=A.currentTarget,A=A.listener,U!==d&&a.isPropagationStopped())break e;td(a,A,K),d=U}}}if(pe)throw t=be,pe=!1,be=null,t}function ct(t,n){var o=n[ea];o===void 0&&(o=n[ea]=new Set);var u=t+"__bubble";o.has(u)||(rd(n,t,2,!1),o.add(u))}function Gl(t,n,o){var u=0;n&&(u|=4),rd(o,t,u,n)}var zs="_reactListening"+Math.random().toString(36).slice(2);function $o(t){if(!t[zs]){t[zs]=!0,s.forEach(function(o){o!=="selectionchange"&&(jg.has(o)||Gl(o,!1,t),Gl(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[zs]||(n[zs]=!0,Gl("selectionchange",!1,n))}}function rd(t,n,o,u){switch(Tf(n)){case 1:var a=tg;break;case 4:a=ng;break;default:a=bl}o=a.bind(null,n,o,t),a=void 0,!P||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),u?a!==void 0?t.addEventListener(n,o,{capture:!0,passive:a}):t.addEventListener(n,o,!0):a!==void 0?t.addEventListener(n,o,{passive:a}):t.addEventListener(n,o,!1)}function Xl(t,n,o,u,a){var d=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===a||A.nodeType===8&&A.parentNode===a)break;if(E===4)for(E=u.return;E!==null;){var U=E.tag;if((U===3||U===4)&&(U=E.stateNode.containerInfo,U===a||U.nodeType===8&&U.parentNode===a))return;E=E.return}for(;A!==null;){if(E=Si(A),E===null)return;if(U=E.tag,U===5||U===6){u=d=E;continue e}A=A.parentNode}}u=u.return}T(function(){var K=d,le=tt(o),ae=[];e:{var ue=Jf.get(t);if(ue!==void 0){var ve=Bl,_e=t;switch(t){case"keypress":if(Fs(o)===0)break e;case"keydown":case"keyup":ve=mg;break;case"focusin":_e="focus",ve=Rl;break;case"focusout":_e="blur",ve=Rl;break;case"beforeblur":case"afterblur":ve=Rl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Eg;break;case Yf:case qf:case Qf:ve=lg;break;case Zf:ve=xg;break;case"scroll":ve=rg;break;case"wheel":ve=kg;break;case"copy":case"cut":case"paste":ve=cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Nf}var ke=(n&4)!==0,kt=!ke&&t==="scroll",D=ke?ue!==null?ue+"Capture":null:ue;ke=[];for(var H=K,j;H!==null;){j=H;var fe=j.stateNode;if(j.tag===5&&fe!==null&&(j=fe,D!==null&&(fe=x(H,D),fe!=null&&ke.push(Vo(H,fe,j)))),kt)break;H=H.return}0<ke.length&&(ue=new ve(ue,_e,null,o,le),ae.push({event:ue,listeners:ke}))}}if((n&7)===0){e:{if(ue=t==="mouseover"||t==="pointerover",ve=t==="mouseout"||t==="pointerout",ue&&o!==st&&(_e=o.relatedTarget||o.fromElement)&&(Si(_e)||_e[Er]))break e;if((ve||ue)&&(ue=le.window===le?le:(ue=le.ownerDocument)?ue.defaultView||ue.parentWindow:window,ve?(_e=o.relatedTarget||o.toElement,ve=K,_e=_e?Si(_e):null,_e!==null&&(kt=Ke(_e),_e!==kt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ve=null,_e=K),ve!==_e)){if(ke=Pf,fe="onMouseLeave",D="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(ke=Nf,fe="onPointerLeave",D="onPointerEnter",H="pointer"),kt=ve==null?ue:qi(ve),j=_e==null?ue:qi(_e),ue=new ke(fe,H+"leave",ve,o,le),ue.target=kt,ue.relatedTarget=j,fe=null,Si(le)===K&&(ke=new ke(D,H+"enter",_e,o,le),ke.target=j,ke.relatedTarget=kt,fe=ke),kt=fe,ve&&_e)t:{for(ke=ve,D=_e,H=0,j=ke;j;j=Xi(j))H++;for(j=0,fe=D;fe;fe=Xi(fe))j++;for(;0<H-j;)ke=Xi(ke),H--;for(;0<j-H;)D=Xi(D),j--;for(;H--;){if(ke===D||D!==null&&ke===D.alternate)break t;ke=Xi(ke),D=Xi(D)}ke=null}else ke=null;ve!==null&&id(ae,ue,ve,ke,!1),_e!==null&&kt!==null&&id(ae,kt,_e,ke,!0)}}e:{if(ue=K?qi(K):window,ve=ue.nodeName&&ue.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ue.type==="file")var Ae=Ng;else if(Lf(ue))if(Mf)Ae=Og;else{Ae=Bg;var He=Ug}else(ve=ue.nodeName)&&ve.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Ae=Hg);if(Ae&&(Ae=Ae(t,K))){Ff(ae,Ae,o,le);break e}He&&He(t,ue,K),t==="focusout"&&(He=ue._wrapperState)&&He.controlled&&ue.type==="number"&&Dr(ue,"number",ue.value)}switch(He=K?qi(K):window,t){case"focusin":(Lf(He)||He.contentEditable==="true")&&(Ki=He,$l=K,Do=null);break;case"focusout":Do=$l=Ki=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,Gf(ae,o,le);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":Gf(ae,o,le)}var Oe;if(Fl)e:{switch(t){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Wi?Of(t,o)&&($e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(Uf&&o.locale!=="ko"&&(Wi||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Wi&&(Oe=If()):(Yr=le,Ul="value"in Yr?Yr.value:Yr.textContent,Wi=!0)),He=Ws(K,$e),0<He.length&&($e=new bf($e,t,null,o,le),ae.push({event:$e,listeners:He}),Oe?$e.data=Oe:(Oe=Rf(o),Oe!==null&&($e.data=Oe)))),(Oe=Tg?Ig(t,o):Cg(t,o))&&(K=Ws(K,"onBeforeInput"),0<K.length&&(le=new bf("onBeforeInput","beforeinput",null,o,le),ae.push({event:le,listeners:K}),le.data=Oe))}nd(ae,n)})}function Vo(t,n,o){return{instance:t,listener:n,currentTarget:o}}function Ws(t,n){for(var o=n+"Capture",u=[];t!==null;){var a=t,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=x(t,o),d!=null&&u.unshift(Vo(t,d,a)),d=x(t,n),d!=null&&u.push(Vo(t,d,a))),t=t.return}return u}function Xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function id(t,n,o,u,a){for(var d=n._reactName,E=[];o!==null&&o!==u;){var A=o,U=A.alternate,K=A.stateNode;if(U!==null&&U===u)break;A.tag===5&&K!==null&&(A=K,a?(U=x(o,d),U!=null&&E.unshift(Vo(o,U,A))):a||(U=x(o,d),U!=null&&E.push(Vo(o,U,A)))),o=o.return}E.length!==0&&t.push({event:n,listeners:E})}var $g=/\r\n?/g,Vg=/\u0000|\uFFFD/g;function od(t){return(typeof t=="string"?t:""+t).replace($g,`
`).replace(Vg,"")}function Ks(t,n,o){if(n=od(n),od(t)!==n&&o)throw Error(i(425))}function Gs(){}var Yl=null,ql=null;function Ql(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,zg=typeof clearTimeout=="function"?clearTimeout:void 0,sd=typeof Promise=="function"?Promise:void 0,Wg=typeof queueMicrotask=="function"?queueMicrotask:typeof sd<"u"?function(t){return sd.resolve(null).then(t).catch(Kg)}:Zl;function Kg(t){setTimeout(function(){throw t})}function Jl(t,n){var o=n,u=0;do{var a=o.nextSibling;if(t.removeChild(o),a&&a.nodeType===8)if(o=a.data,o==="/$"){if(u===0){t.removeChild(a),Bo(n);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=a}while(o);Bo(n)}function Qr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function ud(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),ir="__reactFiber$"+Yi,zo="__reactProps$"+Yi,Er="__reactContainer$"+Yi,ea="__reactEvents$"+Yi,Gg="__reactListeners$"+Yi,Xg="__reactHandles$"+Yi;function Si(t){var n=t[ir];if(n)return n;for(var o=t.parentNode;o;){if(n=o[Er]||o[ir]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=ud(t);t!==null;){if(o=t[ir])return o;t=ud(t)}return n}t=o,o=t.parentNode}return null}function Wo(t){return t=t[ir]||t[Er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function Xs(t){return t[zo]||null}var ta=[],Qi=-1;function Zr(t){return{current:t}}function ft(t){0>Qi||(t.current=ta[Qi],ta[Qi]=null,Qi--)}function at(t,n){Qi++,ta[Qi]=t.current,t.current=n}var Jr={},Xt=Zr(Jr),cn=Zr(!1),xi=Jr;function Zi(t,n){var o=t.type.contextTypes;if(!o)return Jr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in o)a[d]=n[d];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=a),a}function fn(t){return t=t.childContextTypes,t!=null}function Ys(){ft(cn),ft(Xt)}function ld(t,n,o){if(Xt.current!==Jr)throw Error(i(168));at(Xt,n),at(cn,o)}function ad(t,n,o){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var a in u)if(!(a in n))throw Error(i(108,ee(t)||"Unknown",a));return M({},o,u)}function qs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jr,xi=Xt.current,at(Xt,t),at(cn,cn.current),!0}function cd(t,n,o){var u=t.stateNode;if(!u)throw Error(i(169));o?(t=ad(t,n,xi),u.__reactInternalMemoizedMergedChildContext=t,ft(cn),ft(Xt),at(Xt,t)):ft(cn),at(cn,o)}var Sr=null,Qs=!1,na=!1;function fd(t){Sr===null?Sr=[t]:Sr.push(t)}function Yg(t){Qs=!0,fd(t)}function ei(){if(!na&&Sr!==null){na=!0;var t=0,n=nt;try{var o=Sr;for(nt=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}Sr=null,Qs=!1}catch(a){throw Sr!==null&&(Sr=Sr.slice(t+1)),vr(kl,ei),a}finally{nt=n,na=!1}}return null}var Ji=[],eo=0,Zs=null,Js=0,Un=[],Bn=0,_i=null,xr=1,_r="";function ki(t,n){Ji[eo++]=Js,Ji[eo++]=Zs,Zs=t,Js=n}function dd(t,n,o){Un[Bn++]=xr,Un[Bn++]=_r,Un[Bn++]=_i,_i=t;var u=xr;t=_r;var a=32-Wn(u)-1;u&=~(1<<a),o+=1;var d=32-Wn(n)+a;if(30<d){var E=a-a%5;d=(u&(1<<E)-1).toString(32),u>>=E,a-=E,xr=1<<32-Wn(n)+a|o<<a|u,_r=d+t}else xr=1<<d|o<<a|u,_r=t}function ra(t){t.return!==null&&(ki(t,1),dd(t,1,0))}function ia(t){for(;t===Zs;)Zs=Ji[--eo],Ji[eo]=null,Js=Ji[--eo],Ji[eo]=null;for(;t===_i;)_i=Un[--Bn],Un[Bn]=null,_r=Un[--Bn],Un[Bn]=null,xr=Un[--Bn],Un[Bn]=null}var _n=null,kn=null,dt=!1,Gn=null;function hd(t,n){var o=Ln(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=t,n=t.deletions,n===null?(t.deletions=[o],t.flags|=16):n.push(o)}function pd(t,n){switch(t.tag){case 5:var o=t.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,_n=t,kn=Qr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,_n=t,kn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=_i!==null?{id:xr,overflow:_r}:null,t.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Ln(18,null,null,0),o.stateNode=n,o.return=t,t.child=o,_n=t,kn=null,!0):!1;default:return!1}}function oa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sa(t){if(dt){var n=kn;if(n){var o=n;if(!pd(t,n)){if(oa(t))throw Error(i(418));n=Qr(o.nextSibling);var u=_n;n&&pd(t,n)?hd(u,o):(t.flags=t.flags&-4097|2,dt=!1,_n=t)}}else{if(oa(t))throw Error(i(418));t.flags=t.flags&-4097|2,dt=!1,_n=t}}}function yd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function eu(t){if(t!==_n)return!1;if(!dt)return yd(t),dt=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Ql(t.type,t.memoizedProps)),n&&(n=kn)){if(oa(t))throw gd(),Error(i(418));for(;n;)hd(t,n),n=Qr(n.nextSibling)}if(yd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(n===0){kn=Qr(t.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}t=t.nextSibling}kn=null}}else kn=_n?Qr(t.stateNode.nextSibling):null;return!0}function gd(){for(var t=kn;t;)t=Qr(t.nextSibling)}function to(){kn=_n=null,dt=!1}function ua(t){Gn===null?Gn=[t]:Gn.push(t)}var qg=$.ReactCurrentBatchConfig;function Ko(t,n,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var u=o.stateNode}if(!u)throw Error(i(147,t));var a=u,d=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(E){var A=a.refs;E===null?delete A[d]:A[d]=E},n._stringRef=d,n)}if(typeof t!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,t))}return t}function tu(t,n){throw t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function md(t){var n=t._init;return n(t._payload)}function wd(t){function n(D,H){if(t){var j=D.deletions;j===null?(D.deletions=[H],D.flags|=16):j.push(H)}}function o(D,H){if(!t)return null;for(;H!==null;)n(D,H),H=H.sibling;return null}function u(D,H){for(D=new Map;H!==null;)H.key!==null?D.set(H.key,H):D.set(H.index,H),H=H.sibling;return D}function a(D,H){return D=li(D,H),D.index=0,D.sibling=null,D}function d(D,H,j){return D.index=j,t?(j=D.alternate,j!==null?(j=j.index,j<H?(D.flags|=2,H):j):(D.flags|=2,H)):(D.flags|=1048576,H)}function E(D){return t&&D.alternate===null&&(D.flags|=2),D}function A(D,H,j,fe){return H===null||H.tag!==6?(H=Za(j,D.mode,fe),H.return=D,H):(H=a(H,j),H.return=D,H)}function U(D,H,j,fe){var Ae=j.type;return Ae===me?le(D,H,j.props.children,fe,j.key):H!==null&&(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===ce&&md(Ae)===H.type)?(fe=a(H,j.props),fe.ref=Ko(D,H,j),fe.return=D,fe):(fe=Au(j.type,j.key,j.props,null,D.mode,fe),fe.ref=Ko(D,H,j),fe.return=D,fe)}function K(D,H,j,fe){return H===null||H.tag!==4||H.stateNode.containerInfo!==j.containerInfo||H.stateNode.implementation!==j.implementation?(H=Ja(j,D.mode,fe),H.return=D,H):(H=a(H,j.children||[]),H.return=D,H)}function le(D,H,j,fe,Ae){return H===null||H.tag!==7?(H=Ui(j,D.mode,fe,Ae),H.return=D,H):(H=a(H,j),H.return=D,H)}function ae(D,H,j){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Za(""+H,D.mode,j),H.return=D,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case V:return j=Au(H.type,H.key,H.props,null,D.mode,j),j.ref=Ko(D,null,H),j.return=D,j;case z:return H=Ja(H,D.mode,j),H.return=D,H;case ce:var fe=H._init;return ae(D,fe(H._payload),j)}if(Dt(H)||O(H))return H=Ui(H,D.mode,j,null),H.return=D,H;tu(D,H)}return null}function ue(D,H,j,fe){var Ae=H!==null?H.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Ae!==null?null:A(D,H,""+j,fe);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return j.key===Ae?U(D,H,j,fe):null;case z:return j.key===Ae?K(D,H,j,fe):null;case ce:return Ae=j._init,ue(D,H,Ae(j._payload),fe)}if(Dt(j)||O(j))return Ae!==null?null:le(D,H,j,fe,null);tu(D,j)}return null}function ve(D,H,j,fe,Ae){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return D=D.get(j)||null,A(H,D,""+fe,Ae);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case V:return D=D.get(fe.key===null?j:fe.key)||null,U(H,D,fe,Ae);case z:return D=D.get(fe.key===null?j:fe.key)||null,K(H,D,fe,Ae);case ce:var He=fe._init;return ve(D,H,j,He(fe._payload),Ae)}if(Dt(fe)||O(fe))return D=D.get(j)||null,le(H,D,fe,Ae,null);tu(H,fe)}return null}function _e(D,H,j,fe){for(var Ae=null,He=null,Oe=H,$e=H=0,Rt=null;Oe!==null&&$e<j.length;$e++){Oe.index>$e?(Rt=Oe,Oe=null):Rt=Oe.sibling;var et=ue(D,Oe,j[$e],fe);if(et===null){Oe===null&&(Oe=Rt);break}t&&Oe&&et.alternate===null&&n(D,Oe),H=d(et,H,$e),He===null?Ae=et:He.sibling=et,He=et,Oe=Rt}if($e===j.length)return o(D,Oe),dt&&ki(D,$e),Ae;if(Oe===null){for(;$e<j.length;$e++)Oe=ae(D,j[$e],fe),Oe!==null&&(H=d(Oe,H,$e),He===null?Ae=Oe:He.sibling=Oe,He=Oe);return dt&&ki(D,$e),Ae}for(Oe=u(D,Oe);$e<j.length;$e++)Rt=ve(Oe,D,$e,j[$e],fe),Rt!==null&&(t&&Rt.alternate!==null&&Oe.delete(Rt.key===null?$e:Rt.key),H=d(Rt,H,$e),He===null?Ae=Rt:He.sibling=Rt,He=Rt);return t&&Oe.forEach(function(ai){return n(D,ai)}),dt&&ki(D,$e),Ae}function ke(D,H,j,fe){var Ae=O(j);if(typeof Ae!="function")throw Error(i(150));if(j=Ae.call(j),j==null)throw Error(i(151));for(var He=Ae=null,Oe=H,$e=H=0,Rt=null,et=j.next();Oe!==null&&!et.done;$e++,et=j.next()){Oe.index>$e?(Rt=Oe,Oe=null):Rt=Oe.sibling;var ai=ue(D,Oe,et.value,fe);if(ai===null){Oe===null&&(Oe=Rt);break}t&&Oe&&ai.alternate===null&&n(D,Oe),H=d(ai,H,$e),He===null?Ae=ai:He.sibling=ai,He=ai,Oe=Rt}if(et.done)return o(D,Oe),dt&&ki(D,$e),Ae;if(Oe===null){for(;!et.done;$e++,et=j.next())et=ae(D,et.value,fe),et!==null&&(H=d(et,H,$e),He===null?Ae=et:He.sibling=et,He=et);return dt&&ki(D,$e),Ae}for(Oe=u(D,Oe);!et.done;$e++,et=j.next())et=ve(Oe,D,$e,et.value,fe),et!==null&&(t&&et.alternate!==null&&Oe.delete(et.key===null?$e:et.key),H=d(et,H,$e),He===null?Ae=et:He.sibling=et,He=et);return t&&Oe.forEach(function(Pm){return n(D,Pm)}),dt&&ki(D,$e),Ae}function kt(D,H,j,fe){if(typeof j=="object"&&j!==null&&j.type===me&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case V:e:{for(var Ae=j.key,He=H;He!==null;){if(He.key===Ae){if(Ae=j.type,Ae===me){if(He.tag===7){o(D,He.sibling),H=a(He,j.props.children),H.return=D,D=H;break e}}else if(He.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===ce&&md(Ae)===He.type){o(D,He.sibling),H=a(He,j.props),H.ref=Ko(D,He,j),H.return=D,D=H;break e}o(D,He);break}else n(D,He);He=He.sibling}j.type===me?(H=Ui(j.props.children,D.mode,fe,j.key),H.return=D,D=H):(fe=Au(j.type,j.key,j.props,null,D.mode,fe),fe.ref=Ko(D,H,j),fe.return=D,D=fe)}return E(D);case z:e:{for(He=j.key;H!==null;){if(H.key===He)if(H.tag===4&&H.stateNode.containerInfo===j.containerInfo&&H.stateNode.implementation===j.implementation){o(D,H.sibling),H=a(H,j.children||[]),H.return=D,D=H;break e}else{o(D,H);break}else n(D,H);H=H.sibling}H=Ja(j,D.mode,fe),H.return=D,D=H}return E(D);case ce:return He=j._init,kt(D,H,He(j._payload),fe)}if(Dt(j))return _e(D,H,j,fe);if(O(j))return ke(D,H,j,fe);tu(D,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,H!==null&&H.tag===6?(o(D,H.sibling),H=a(H,j),H.return=D,D=H):(o(D,H),H=Za(j,D.mode,fe),H.return=D,D=H),E(D)):o(D,H)}return kt}var no=wd(!0),vd=wd(!1),nu=Zr(null),ru=null,ro=null,la=null;function aa(){la=ro=ru=null}function ca(t){var n=nu.current;ft(nu),t._currentValue=n}function fa(t,n,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===o)break;t=t.return}}function io(t,n){ru=t,la=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(dn=!0),t.firstContext=null)}function Hn(t){var n=t._currentValue;if(la!==t)if(t={context:t,memoizedValue:n,next:null},ro===null){if(ru===null)throw Error(i(308));ro=t,ru.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return n}var Ai=null;function da(t){Ai===null?Ai=[t]:Ai.push(t)}function Ed(t,n,o,u){var a=n.interleaved;return a===null?(o.next=o,da(n)):(o.next=a.next,a.next=o),n.interleaved=o,kr(t,u)}function kr(t,n){t.lanes|=n;var o=t.alternate;for(o!==null&&(o.lanes|=n),o=t,t=t.return;t!==null;)t.childLanes|=n,o=t.alternate,o!==null&&(o.childLanes|=n),o=t,t=t.return;return o.tag===3?o.stateNode:null}var ti=!1;function ha(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ar(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function ni(t,n,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ze&2)!==0){var a=u.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),u.pending=n,kr(t,o)}return a=u.interleaved,a===null?(n.next=n,da(u)):(n.next=a.next,a.next=n),u.interleaved=n,kr(t,o)}function iu(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,o|=u,n.lanes=o,Il(t,o)}}function xd(t,n){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var a=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var E={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?a=d=E:d=d.next=E,o=o.next}while(o!==null);d===null?a=d=n:d=d.next=n}else a=d=n;o={baseState:u.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}function ou(t,n,o,u){var a=t.updateQueue;ti=!1;var d=a.firstBaseUpdate,E=a.lastBaseUpdate,A=a.shared.pending;if(A!==null){a.shared.pending=null;var U=A,K=U.next;U.next=null,E===null?d=K:E.next=K,E=U;var le=t.alternate;le!==null&&(le=le.updateQueue,A=le.lastBaseUpdate,A!==E&&(A===null?le.firstBaseUpdate=K:A.next=K,le.lastBaseUpdate=U))}if(d!==null){var ae=a.baseState;E=0,le=K=U=null,A=d;do{var ue=A.lane,ve=A.eventTime;if((u&ue)===ue){le!==null&&(le=le.next={eventTime:ve,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var _e=t,ke=A;switch(ue=n,ve=o,ke.tag){case 1:if(_e=ke.payload,typeof _e=="function"){ae=_e.call(ve,ae,ue);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ke.payload,ue=typeof _e=="function"?_e.call(ve,ae,ue):_e,ue==null)break e;ae=M({},ae,ue);break e;case 2:ti=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,ue=a.effects,ue===null?a.effects=[A]:ue.push(A))}else ve={eventTime:ve,lane:ue,tag:A.tag,payload:A.payload,callback:A.callback,next:null},le===null?(K=le=ve,U=ae):le=le.next=ve,E|=ue;if(A=A.next,A===null){if(A=a.shared.pending,A===null)break;ue=A,A=ue.next,ue.next=null,a.lastBaseUpdate=ue,a.shared.pending=null}}while(!0);if(le===null&&(U=ae),a.baseState=U,a.firstBaseUpdate=K,a.lastBaseUpdate=le,n=a.shared.interleaved,n!==null){a=n;do E|=a.lane,a=a.next;while(a!==n)}else d===null&&(a.shared.lanes=0);Ci|=E,t.lanes=E,t.memoizedState=ae}}function _d(t,n,o){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],a=u.callback;if(a!==null){if(u.callback=null,u=o,typeof a!="function")throw Error(i(191,a));a.call(u)}}}var Go={},or=Zr(Go),Xo=Zr(Go),Yo=Zr(Go);function Ti(t){if(t===Go)throw Error(i(174));return t}function pa(t,n){switch(at(Yo,n),at(Xo,t),at(or,Go),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Vr(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Vr(n,t)}ft(or),at(or,n)}function oo(){ft(or),ft(Xo),ft(Yo)}function kd(t){Ti(Yo.current);var n=Ti(or.current),o=Vr(n,t.type);n!==o&&(at(Xo,t),at(or,o))}function ya(t){Xo.current===t&&(ft(or),ft(Xo))}var yt=Zr(0);function su(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ga=[];function ma(){for(var t=0;t<ga.length;t++)ga[t]._workInProgressVersionPrimary=null;ga.length=0}var uu=$.ReactCurrentDispatcher,wa=$.ReactCurrentBatchConfig,Ii=0,gt=null,bt=null,Ht=null,lu=!1,qo=!1,Qo=0,Qg=0;function Yt(){throw Error(i(321))}function va(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!Kn(t[o],n[o]))return!1;return!0}function Ea(t,n,o,u,a,d){if(Ii=d,gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,uu.current=t===null||t.memoizedState===null?tm:nm,t=o(u,a),qo){d=0;do{if(qo=!1,Qo=0,25<=d)throw Error(i(301));d+=1,Ht=bt=null,n.updateQueue=null,uu.current=rm,t=o(u,a)}while(qo)}if(uu.current=fu,n=bt!==null&&bt.next!==null,Ii=0,Ht=bt=gt=null,lu=!1,n)throw Error(i(300));return t}function Sa(){var t=Qo!==0;return Qo=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?gt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function On(){if(bt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var n=Ht===null?gt.memoizedState:Ht.next;if(n!==null)Ht=n,bt=t;else{if(t===null)throw Error(i(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ht===null?gt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Zo(t,n){return typeof n=="function"?n(t):n}function xa(t){var n=On(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var u=bt,a=u.baseQueue,d=o.pending;if(d!==null){if(a!==null){var E=a.next;a.next=d.next,d.next=E}u.baseQueue=a=d,o.pending=null}if(a!==null){d=a.next,u=u.baseState;var A=E=null,U=null,K=d;do{var le=K.lane;if((Ii&le)===le)U!==null&&(U=U.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),u=K.hasEagerState?K.eagerState:t(u,K.action);else{var ae={lane:le,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};U===null?(A=U=ae,E=u):U=U.next=ae,gt.lanes|=le,Ci|=le}K=K.next}while(K!==null&&K!==d);U===null?E=u:U.next=A,Kn(u,n.memoizedState)||(dn=!0),n.memoizedState=u,n.baseState=E,n.baseQueue=U,o.lastRenderedState=u}if(t=o.interleaved,t!==null){a=t;do d=a.lane,gt.lanes|=d,Ci|=d,a=a.next;while(a!==t)}else a===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function _a(t){var n=On(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var u=o.dispatch,a=o.pending,d=n.memoizedState;if(a!==null){o.pending=null;var E=a=a.next;do d=t(d,E.action),E=E.next;while(E!==a);Kn(d,n.memoizedState)||(dn=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),o.lastRenderedState=d}return[d,u]}function Ad(){}function Td(t,n){var o=gt,u=On(),a=n(),d=!Kn(u.memoizedState,a);if(d&&(u.memoizedState=a,dn=!0),u=u.queue,ka(Pd.bind(null,o,u,t),[t]),u.getSnapshot!==n||d||Ht!==null&&Ht.memoizedState.tag&1){if(o.flags|=2048,Jo(9,Cd.bind(null,o,u,a,n),void 0,null),Ot===null)throw Error(i(349));(Ii&30)!==0||Id(o,n,a)}return a}function Id(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=gt.updateQueue,n===null?(n={lastEffect:null,stores:null},gt.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function Cd(t,n,o,u){n.value=o,n.getSnapshot=u,bd(n)&&Nd(t)}function Pd(t,n,o){return o(function(){bd(n)&&Nd(t)})}function bd(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!Kn(t,o)}catch{return!0}}function Nd(t){var n=kr(t,1);n!==null&&Qn(n,t,1,-1)}function Ud(t){var n=sr();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},n.queue=t,t=t.dispatch=em.bind(null,gt,t),[n.memoizedState,t]}function Jo(t,n,o,u){return t={tag:t,create:n,destroy:o,deps:u,next:null},n=gt.updateQueue,n===null?(n={lastEffect:null,stores:null},gt.updateQueue=n,n.lastEffect=t.next=t):(o=n.lastEffect,o===null?n.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,n.lastEffect=t)),t}function Bd(){return On().memoizedState}function au(t,n,o,u){var a=sr();gt.flags|=t,a.memoizedState=Jo(1|n,o,void 0,u===void 0?null:u)}function cu(t,n,o,u){var a=On();u=u===void 0?null:u;var d=void 0;if(bt!==null){var E=bt.memoizedState;if(d=E.destroy,u!==null&&va(u,E.deps)){a.memoizedState=Jo(n,o,d,u);return}}gt.flags|=t,a.memoizedState=Jo(1|n,o,d,u)}function Hd(t,n){return au(8390656,8,t,n)}function ka(t,n){return cu(2048,8,t,n)}function Od(t,n){return cu(4,2,t,n)}function Rd(t,n){return cu(4,4,t,n)}function Ld(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Fd(t,n,o){return o=o!=null?o.concat([t]):null,cu(4,4,Ld.bind(null,n,t),o)}function Aa(){}function Md(t,n){var o=On();n=n===void 0?null:n;var u=o.memoizedState;return u!==null&&n!==null&&va(n,u[1])?u[0]:(o.memoizedState=[t,n],t)}function Dd(t,n){var o=On();n=n===void 0?null:n;var u=o.memoizedState;return u!==null&&n!==null&&va(n,u[1])?u[0]:(t=t(),o.memoizedState=[t,n],t)}function jd(t,n,o){return(Ii&21)===0?(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=o):(Kn(o,n)||(o=mf(),gt.lanes|=o,Ci|=o,t.baseState=!0),n)}function Zg(t,n){var o=nt;nt=o!==0&&4>o?o:4,t(!0);var u=wa.transition;wa.transition={};try{t(!1),n()}finally{nt=o,wa.transition=u}}function $d(){return On().memoizedState}function Jg(t,n,o){var u=si(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Vd(t))zd(n,o);else if(o=Ed(t,n,o,u),o!==null){var a=sn();Qn(o,t,u,a),Wd(o,n,u)}}function em(t,n,o){var u=si(t),a={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vd(t))zd(n,a);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var E=n.lastRenderedState,A=d(E,o);if(a.hasEagerState=!0,a.eagerState=A,Kn(A,E)){var U=n.interleaved;U===null?(a.next=a,da(n)):(a.next=U.next,U.next=a),n.interleaved=a;return}}catch{}finally{}o=Ed(t,n,a,u),o!==null&&(a=sn(),Qn(o,t,u,a),Wd(o,n,u))}}function Vd(t){var n=t.alternate;return t===gt||n!==null&&n===gt}function zd(t,n){qo=lu=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function Wd(t,n,o){if((o&4194240)!==0){var u=n.lanes;u&=t.pendingLanes,o|=u,n.lanes=o,Il(t,o)}}var fu={readContext:Hn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},tm={readContext:Hn,useCallback:function(t,n){return sr().memoizedState=[t,n===void 0?null:n],t},useContext:Hn,useEffect:Hd,useImperativeHandle:function(t,n,o){return o=o!=null?o.concat([t]):null,au(4194308,4,Ld.bind(null,n,t),o)},useLayoutEffect:function(t,n){return au(4194308,4,t,n)},useInsertionEffect:function(t,n){return au(4,2,t,n)},useMemo:function(t,n){var o=sr();return n=n===void 0?null:n,t=t(),o.memoizedState=[t,n],t},useReducer:function(t,n,o){var u=sr();return n=o!==void 0?o(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=Jg.bind(null,gt,t),[u.memoizedState,t]},useRef:function(t){var n=sr();return t={current:t},n.memoizedState=t},useState:Ud,useDebugValue:Aa,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=Ud(!1),n=t[0];return t=Zg.bind(null,t[1]),sr().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,o){var u=gt,a=sr();if(dt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=n(),Ot===null)throw Error(i(349));(Ii&30)!==0||Id(u,n,o)}a.memoizedState=o;var d={value:o,getSnapshot:n};return a.queue=d,Hd(Pd.bind(null,u,d,t),[t]),u.flags|=2048,Jo(9,Cd.bind(null,u,d,o,n),void 0,null),o},useId:function(){var t=sr(),n=Ot.identifierPrefix;if(dt){var o=_r,u=xr;o=(u&~(1<<32-Wn(u)-1)).toString(32)+o,n=":"+n+"R"+o,o=Qo++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Qg++,n=":"+n+"r"+o.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},nm={readContext:Hn,useCallback:Md,useContext:Hn,useEffect:ka,useImperativeHandle:Fd,useInsertionEffect:Od,useLayoutEffect:Rd,useMemo:Dd,useReducer:xa,useRef:Bd,useState:function(){return xa(Zo)},useDebugValue:Aa,useDeferredValue:function(t){var n=On();return jd(n,bt.memoizedState,t)},useTransition:function(){var t=xa(Zo)[0],n=On().memoizedState;return[t,n]},useMutableSource:Ad,useSyncExternalStore:Td,useId:$d,unstable_isNewReconciler:!1},rm={readContext:Hn,useCallback:Md,useContext:Hn,useEffect:ka,useImperativeHandle:Fd,useInsertionEffect:Od,useLayoutEffect:Rd,useMemo:Dd,useReducer:_a,useRef:Bd,useState:function(){return _a(Zo)},useDebugValue:Aa,useDeferredValue:function(t){var n=On();return bt===null?n.memoizedState=t:jd(n,bt.memoizedState,t)},useTransition:function(){var t=_a(Zo)[0],n=On().memoizedState;return[t,n]},useMutableSource:Ad,useSyncExternalStore:Td,useId:$d,unstable_isNewReconciler:!1};function Xn(t,n){if(t&&t.defaultProps){n=M({},n),t=t.defaultProps;for(var o in t)n[o]===void 0&&(n[o]=t[o]);return n}return n}function Ta(t,n,o,u){n=t.memoizedState,o=o(u,n),o=o==null?n:M({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var du={isMounted:function(t){return(t=t._reactInternals)?Ke(t)===t:!1},enqueueSetState:function(t,n,o){t=t._reactInternals;var u=sn(),a=si(t),d=Ar(u,a);d.payload=n,o!=null&&(d.callback=o),n=ni(t,d,a),n!==null&&(Qn(n,t,a,u),iu(n,t,a))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var u=sn(),a=si(t),d=Ar(u,a);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=ni(t,d,a),n!==null&&(Qn(n,t,a,u),iu(n,t,a))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=sn(),u=si(t),a=Ar(o,u);a.tag=2,n!=null&&(a.callback=n),n=ni(t,a,u),n!==null&&(Qn(n,t,u,o),iu(n,t,u))}};function Kd(t,n,o,u,a,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,E):n.prototype&&n.prototype.isPureReactComponent?!Mo(o,u)||!Mo(a,d):!0}function Gd(t,n,o){var u=!1,a=Jr,d=n.contextType;return typeof d=="object"&&d!==null?d=Hn(d):(a=fn(n)?xi:Xt.current,u=n.contextTypes,d=(u=u!=null)?Zi(t,a):Jr),n=new n(o,d),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=du,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=d),n}function Xd(t,n,o,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==t&&du.enqueueReplaceState(n,n.state,null)}function Ia(t,n,o,u){var a=t.stateNode;a.props=o,a.state=t.memoizedState,a.refs={},ha(t);var d=n.contextType;typeof d=="object"&&d!==null?a.context=Hn(d):(d=fn(n)?xi:Xt.current,a.context=Zi(t,d)),a.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Ta(t,n,d,o),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&du.enqueueReplaceState(a,a.state,null),ou(t,o,a,u),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function so(t,n){try{var o="",u=n;do o+=xe(u),u=u.return;while(u);var a=o}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:n,stack:a,digest:null}}function Ca(t,n,o){return{value:t,source:null,stack:o??null,digest:n??null}}function Pa(t,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var im=typeof WeakMap=="function"?WeakMap:Map;function Yd(t,n,o){o=Ar(-1,o),o.tag=3,o.payload={element:null};var u=n.value;return o.callback=function(){vu||(vu=!0,za=u),Pa(t,n)},o}function qd(t,n,o){o=Ar(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var a=n.value;o.payload=function(){return u(a)},o.callback=function(){Pa(t,n)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){Pa(t,n),typeof u!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var E=n.stack;this.componentDidCatch(n.value,{componentStack:E!==null?E:""})}),o}function Qd(t,n,o){var u=t.pingCache;if(u===null){u=t.pingCache=new im;var a=new Set;u.set(n,a)}else a=u.get(n),a===void 0&&(a=new Set,u.set(n,a));a.has(o)||(a.add(o),t=wm.bind(null,t,n,o),n.then(t,t))}function Zd(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Jd(t,n,o,u,a){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Ar(-1,1),n.tag=2,ni(o,n,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=a,t)}var om=$.ReactCurrentOwner,dn=!1;function on(t,n,o,u){n.child=t===null?vd(n,null,o,u):no(n,t.child,o,u)}function eh(t,n,o,u,a){o=o.render;var d=n.ref;return io(n,a),u=Ea(t,n,o,u,d,a),o=Sa(),t!==null&&!dn?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a,Tr(t,n,a)):(dt&&o&&ra(n),n.flags|=1,on(t,n,u,a),n.child)}function th(t,n,o,u,a){if(t===null){var d=o.type;return typeof d=="function"&&!Qa(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=d,nh(t,n,d,u,a)):(t=Au(o.type,null,u,n,n.mode,a),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,(t.lanes&a)===0){var E=d.memoizedProps;if(o=o.compare,o=o!==null?o:Mo,o(E,u)&&t.ref===n.ref)return Tr(t,n,a)}return n.flags|=1,t=li(d,u),t.ref=n.ref,t.return=n,n.child=t}function nh(t,n,o,u,a){if(t!==null){var d=t.memoizedProps;if(Mo(d,u)&&t.ref===n.ref)if(dn=!1,n.pendingProps=u=d,(t.lanes&a)!==0)(t.flags&131072)!==0&&(dn=!0);else return n.lanes=t.lanes,Tr(t,n,a)}return ba(t,n,o,u,a)}function rh(t,n,o){var u=n.pendingProps,a=u.children,d=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(lo,An),An|=o;else{if((o&1073741824)===0)return t=d!==null?d.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,at(lo,An),An|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:o,at(lo,An),An|=u}else d!==null?(u=d.baseLanes|o,n.memoizedState=null):u=o,at(lo,An),An|=u;return on(t,n,a,o),n.child}function ih(t,n){var o=n.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function ba(t,n,o,u,a){var d=fn(o)?xi:Xt.current;return d=Zi(n,d),io(n,a),o=Ea(t,n,o,u,d,a),u=Sa(),t!==null&&!dn?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a,Tr(t,n,a)):(dt&&u&&ra(n),n.flags|=1,on(t,n,o,a),n.child)}function oh(t,n,o,u,a){if(fn(o)){var d=!0;qs(n)}else d=!1;if(io(n,a),n.stateNode===null)pu(t,n),Gd(n,o,u),Ia(n,o,u,a),u=!0;else if(t===null){var E=n.stateNode,A=n.memoizedProps;E.props=A;var U=E.context,K=o.contextType;typeof K=="object"&&K!==null?K=Hn(K):(K=fn(o)?xi:Xt.current,K=Zi(n,K));var le=o.getDerivedStateFromProps,ae=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function";ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==u||U!==K)&&Xd(n,E,u,K),ti=!1;var ue=n.memoizedState;E.state=ue,ou(n,u,E,a),U=n.memoizedState,A!==u||ue!==U||cn.current||ti?(typeof le=="function"&&(Ta(n,o,le,u),U=n.memoizedState),(A=ti||Kd(n,o,A,u,ue,U,K))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=U),E.props=u,E.state=U,E.context=K,u=A):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{E=n.stateNode,Sd(t,n),A=n.memoizedProps,K=n.type===n.elementType?A:Xn(n.type,A),E.props=K,ae=n.pendingProps,ue=E.context,U=o.contextType,typeof U=="object"&&U!==null?U=Hn(U):(U=fn(o)?xi:Xt.current,U=Zi(n,U));var ve=o.getDerivedStateFromProps;(le=typeof ve=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==ae||ue!==U)&&Xd(n,E,u,U),ti=!1,ue=n.memoizedState,E.state=ue,ou(n,u,E,a);var _e=n.memoizedState;A!==ae||ue!==_e||cn.current||ti?(typeof ve=="function"&&(Ta(n,o,ve,u),_e=n.memoizedState),(K=ti||Kd(n,o,K,u,ue,_e,U)||!1)?(le||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(u,_e,U),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(u,_e,U)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===t.memoizedProps&&ue===t.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&ue===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=_e),E.props=u,E.state=_e,E.context=U,u=K):(typeof E.componentDidUpdate!="function"||A===t.memoizedProps&&ue===t.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&ue===t.memoizedState||(n.flags|=1024),u=!1)}return Na(t,n,o,u,d,a)}function Na(t,n,o,u,a,d){ih(t,n);var E=(n.flags&128)!==0;if(!u&&!E)return a&&cd(n,o,!1),Tr(t,n,d);u=n.stateNode,om.current=n;var A=E&&typeof o.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&E?(n.child=no(n,t.child,null,d),n.child=no(n,null,A,d)):on(t,n,A,d),n.memoizedState=u.state,a&&cd(n,o,!0),n.child}function sh(t){var n=t.stateNode;n.pendingContext?ld(t,n.pendingContext,n.pendingContext!==n.context):n.context&&ld(t,n.context,!1),pa(t,n.containerInfo)}function uh(t,n,o,u,a){return to(),ua(a),n.flags|=256,on(t,n,o,u),n.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function Ba(t){return{baseLanes:t,cachePool:null,transitions:null}}function lh(t,n,o){var u=n.pendingProps,a=yt.current,d=!1,E=(n.flags&128)!==0,A;if((A=E)||(A=t!==null&&t.memoizedState===null?!1:(a&2)!==0),A?(d=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),at(yt,a&1),t===null)return sa(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(E=u.children,t=u.fallback,d?(u=n.mode,d=n.child,E={mode:"hidden",children:E},(u&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=E):d=Tu(E,u,0,null),t=Ui(t,u,o,null),d.return=n,t.return=n,d.sibling=t,n.child=d,n.child.memoizedState=Ba(o),n.memoizedState=Ua,t):Ha(n,E));if(a=t.memoizedState,a!==null&&(A=a.dehydrated,A!==null))return sm(t,n,E,u,A,a,o);if(d){d=u.fallback,E=n.mode,a=t.child,A=a.sibling;var U={mode:"hidden",children:u.children};return(E&1)===0&&n.child!==a?(u=n.child,u.childLanes=0,u.pendingProps=U,n.deletions=null):(u=li(a,U),u.subtreeFlags=a.subtreeFlags&14680064),A!==null?d=li(A,d):(d=Ui(d,E,o,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,E=t.child.memoizedState,E=E===null?Ba(o):{baseLanes:E.baseLanes|o,cachePool:null,transitions:E.transitions},d.memoizedState=E,d.childLanes=t.childLanes&~o,n.memoizedState=Ua,u}return d=t.child,t=d.sibling,u=li(d,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=o),u.return=n,u.sibling=null,t!==null&&(o=n.deletions,o===null?(n.deletions=[t],n.flags|=16):o.push(t)),n.child=u,n.memoizedState=null,u}function Ha(t,n){return n=Tu({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function hu(t,n,o,u){return u!==null&&ua(u),no(n,t.child,null,o),t=Ha(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sm(t,n,o,u,a,d,E){if(o)return n.flags&256?(n.flags&=-257,u=Ca(Error(i(422))),hu(t,n,E,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(d=u.fallback,a=n.mode,u=Tu({mode:"visible",children:u.children},a,0,null),d=Ui(d,a,E,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,(n.mode&1)!==0&&no(n,t.child,null,E),n.child.memoizedState=Ba(E),n.memoizedState=Ua,d);if((n.mode&1)===0)return hu(t,n,E,null);if(a.data==="$!"){if(u=a.nextSibling&&a.nextSibling.dataset,u)var A=u.dgst;return u=A,d=Error(i(419)),u=Ca(d,u,void 0),hu(t,n,E,u)}if(A=(E&t.childLanes)!==0,dn||A){if(u=Ot,u!==null){switch(E&-E){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(u.suspendedLanes|E))!==0?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,kr(t,a),Qn(u,t,a,-1))}return qa(),u=Ca(Error(i(421))),hu(t,n,E,u)}return a.data==="$?"?(n.flags|=128,n.child=t.child,n=vm.bind(null,t),a._reactRetry=n,null):(t=d.treeContext,kn=Qr(a.nextSibling),_n=n,dt=!0,Gn=null,t!==null&&(Un[Bn++]=xr,Un[Bn++]=_r,Un[Bn++]=_i,xr=t.id,_r=t.overflow,_i=n),n=Ha(n,u.children),n.flags|=4096,n)}function ah(t,n,o){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),fa(t.return,n,o)}function Oa(t,n,o,u,a){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:a}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=o,d.tailMode=a)}function ch(t,n,o){var u=n.pendingProps,a=u.revealOrder,d=u.tail;if(on(t,n,u.children,o),u=yt.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ah(t,o,n);else if(t.tag===19)ah(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(at(yt,u),(n.mode&1)===0)n.memoizedState=null;else switch(a){case"forwards":for(o=n.child,a=null;o!==null;)t=o.alternate,t!==null&&su(t)===null&&(a=o),o=o.sibling;o=a,o===null?(a=n.child,n.child=null):(a=o.sibling,o.sibling=null),Oa(n,!1,a,o,d);break;case"backwards":for(o=null,a=n.child,n.child=null;a!==null;){if(t=a.alternate,t!==null&&su(t)===null){n.child=a;break}t=a.sibling,a.sibling=o,o=a,a=t}Oa(n,!0,o,null,d);break;case"together":Oa(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function pu(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Tr(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),Ci|=n.lanes,(o&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,o=li(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=li(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function um(t,n,o){switch(n.tag){case 3:sh(n),to();break;case 5:kd(n);break;case 1:fn(n.type)&&qs(n);break;case 4:pa(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,a=n.memoizedProps.value;at(nu,u._currentValue),u._currentValue=a;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(at(yt,yt.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?lh(t,n,o):(at(yt,yt.current&1),t=Tr(t,n,o),t!==null?t.sibling:null);at(yt,yt.current&1);break;case 19:if(u=(o&n.childLanes)!==0,(t.flags&128)!==0){if(u)return ch(t,n,o);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),at(yt,yt.current),u)break;return null;case 22:case 23:return n.lanes=0,rh(t,n,o)}return Tr(t,n,o)}var fh,Ra,dh,hh;fh=function(t,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Ra=function(){},dh=function(t,n,o,u){var a=t.memoizedProps;if(a!==u){t=n.stateNode,Ti(or.current);var d=null;switch(o){case"input":a=Pn(t,a),u=Pn(t,u),d=[];break;case"select":a=M({},a,{value:void 0}),u=M({},u,{value:void 0}),d=[];break;case"textarea":a=jr(t,a),u=jr(t,u),d=[];break;default:typeof a.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Gs)}Z(o,u);var E;o=null;for(K in a)if(!u.hasOwnProperty(K)&&a.hasOwnProperty(K)&&a[K]!=null)if(K==="style"){var A=a[K];for(E in A)A.hasOwnProperty(E)&&(o||(o={}),o[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(l.hasOwnProperty(K)?d||(d=[]):(d=d||[]).push(K,null));for(K in u){var U=u[K];if(A=a!=null?a[K]:void 0,u.hasOwnProperty(K)&&U!==A&&(U!=null||A!=null))if(K==="style")if(A){for(E in A)!A.hasOwnProperty(E)||U&&U.hasOwnProperty(E)||(o||(o={}),o[E]="");for(E in U)U.hasOwnProperty(E)&&A[E]!==U[E]&&(o||(o={}),o[E]=U[E])}else o||(d||(d=[]),d.push(K,o)),o=U;else K==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,A=A?A.__html:void 0,U!=null&&A!==U&&(d=d||[]).push(K,U)):K==="children"?typeof U!="string"&&typeof U!="number"||(d=d||[]).push(K,""+U):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(l.hasOwnProperty(K)?(U!=null&&K==="onScroll"&&ct("scroll",t),d||A===U||(d=[])):(d=d||[]).push(K,U))}o&&(d=d||[]).push("style",o);var K=d;(n.updateQueue=K)&&(n.flags|=4)}},hh=function(t,n,o,u){o!==u&&(n.flags|=4)};function es(t,n){if(!dt)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function qt(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(n)for(var a=t.child;a!==null;)o|=a.lanes|a.childLanes,u|=a.subtreeFlags&14680064,u|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)o|=a.lanes|a.childLanes,u|=a.subtreeFlags,u|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=u,t.childLanes=o,n}function lm(t,n,o){var u=n.pendingProps;switch(ia(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(n),null;case 1:return fn(n.type)&&Ys(),qt(n),null;case 3:return u=n.stateNode,oo(),ft(cn),ft(Xt),ma(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(eu(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gn!==null&&(Ga(Gn),Gn=null))),Ra(t,n),qt(n),null;case 5:ya(n);var a=Ti(Yo.current);if(o=n.type,t!==null&&n.stateNode!=null)dh(t,n,o,u,a),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(i(166));return qt(n),null}if(t=Ti(or.current),eu(n)){u=n.stateNode,o=n.type;var d=n.memoizedProps;switch(u[ir]=n,u[zo]=d,t=(n.mode&1)!==0,o){case"dialog":ct("cancel",u),ct("close",u);break;case"iframe":case"object":case"embed":ct("load",u);break;case"video":case"audio":for(a=0;a<jo.length;a++)ct(jo[a],u);break;case"source":ct("error",u);break;case"img":case"image":case"link":ct("error",u),ct("load",u);break;case"details":ct("toggle",u);break;case"input":Vn(u,d),ct("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},ct("invalid",u);break;case"textarea":mi(u,d),ct("invalid",u)}Z(o,d),a=null;for(var E in d)if(d.hasOwnProperty(E)){var A=d[E];E==="children"?typeof A=="string"?u.textContent!==A&&(d.suppressHydrationWarning!==!0&&Ks(u.textContent,A,t),a=["children",A]):typeof A=="number"&&u.textContent!==""+A&&(d.suppressHydrationWarning!==!0&&Ks(u.textContent,A,t),a=["children",""+A]):l.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&ct("scroll",u)}switch(o){case"input":Mt(u),pr(u,d,!0);break;case"textarea":Mt(u),Kt(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Gs)}u=a,n.updateQueue=u,u!==null&&(n.flags|=4)}else{E=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$r(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=E.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=E.createElement(o,{is:u.is}):(t=E.createElement(o),o==="select"&&(E=t,u.multiple?E.multiple=!0:u.size&&(E.size=u.size))):t=E.createElementNS(t,o),t[ir]=n,t[zo]=u,fh(t,n,!1,!1),n.stateNode=t;e:{switch(E=De(o,u),o){case"dialog":ct("cancel",t),ct("close",t),a=u;break;case"iframe":case"object":case"embed":ct("load",t),a=u;break;case"video":case"audio":for(a=0;a<jo.length;a++)ct(jo[a],t);a=u;break;case"source":ct("error",t),a=u;break;case"img":case"image":case"link":ct("error",t),ct("load",t),a=u;break;case"details":ct("toggle",t),a=u;break;case"input":Vn(t,u),a=Pn(t,u),ct("invalid",t);break;case"option":a=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},a=M({},u,{value:void 0}),ct("invalid",t);break;case"textarea":mi(t,u),a=jr(t,u),ct("invalid",t);break;default:a=u}Z(o,a),A=a;for(d in A)if(A.hasOwnProperty(d)){var U=A[d];d==="style"?R(t,U):d==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&wi(t,U)):d==="children"?typeof U=="string"?(o!=="textarea"||U!=="")&&S(t,U):typeof U=="number"&&S(t,""+U):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?U!=null&&d==="onScroll"&&ct("scroll",t):U!=null&&L(t,d,U,E))}switch(o){case"input":Mt(t),pr(t,u,!1);break;case"textarea":Mt(t),Kt(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Le(u.value));break;case"select":t.multiple=!!u.multiple,d=u.value,d!=null?Nn(t,!!u.multiple,d,!1):u.defaultValue!=null&&Nn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Gs)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return qt(n),null;case 6:if(t&&n.stateNode!=null)hh(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(i(166));if(o=Ti(Yo.current),Ti(or.current),eu(n)){if(u=n.stateNode,o=n.memoizedProps,u[ir]=n,(d=u.nodeValue!==o)&&(t=_n,t!==null))switch(t.tag){case 3:Ks(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ks(u.nodeValue,o,(t.mode&1)!==0)}d&&(n.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[ir]=n,n.stateNode=u}return qt(n),null;case 13:if(ft(yt),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&kn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)gd(),to(),n.flags|=98560,d=!1;else if(d=eu(n),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[ir]=n}else to(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),d=!1}else Gn!==null&&(Ga(Gn),Gn=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(yt.current&1)!==0?Nt===0&&(Nt=3):qa())),n.updateQueue!==null&&(n.flags|=4),qt(n),null);case 4:return oo(),Ra(t,n),t===null&&$o(n.stateNode.containerInfo),qt(n),null;case 10:return ca(n.type._context),qt(n),null;case 17:return fn(n.type)&&Ys(),qt(n),null;case 19:if(ft(yt),d=n.memoizedState,d===null)return qt(n),null;if(u=(n.flags&128)!==0,E=d.rendering,E===null)if(u)es(d,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(E=su(t),E!==null){for(n.flags|=128,es(d,!1),u=E.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=o,o=n.child;o!==null;)d=o,t=u,d.flags&=14680066,E=d.alternate,E===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=E.childLanes,d.lanes=E.lanes,d.child=E.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=E.memoizedProps,d.memoizedState=E.memoizedState,d.updateQueue=E.updateQueue,d.type=E.type,t=E.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return at(yt,yt.current&1|2),n.child}t=t.sibling}d.tail!==null&&St()>ao&&(n.flags|=128,u=!0,es(d,!1),n.lanes=4194304)}else{if(!u)if(t=su(E),t!==null){if(n.flags|=128,u=!0,o=t.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),es(d,!0),d.tail===null&&d.tailMode==="hidden"&&!E.alternate&&!dt)return qt(n),null}else 2*St()-d.renderingStartTime>ao&&o!==1073741824&&(n.flags|=128,u=!0,es(d,!1),n.lanes=4194304);d.isBackwards?(E.sibling=n.child,n.child=E):(o=d.last,o!==null?o.sibling=E:n.child=E,d.last=E)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=St(),n.sibling=null,o=yt.current,at(yt,u?o&1|2:o&1),n):(qt(n),null);case 22:case 23:return Ya(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(An&1073741824)!==0&&(qt(n),n.subtreeFlags&6&&(n.flags|=8192)):qt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function am(t,n){switch(ia(n),n.tag){case 1:return fn(n.type)&&Ys(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return oo(),ft(cn),ft(Xt),ma(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return ya(n),null;case 13:if(ft(yt),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));to()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ft(yt),null;case 4:return oo(),null;case 10:return ca(n.type._context),null;case 22:case 23:return Ya(),null;case 24:return null;default:return null}}var yu=!1,Qt=!1,cm=typeof WeakSet=="function"?WeakSet:Set,Se=null;function uo(t,n){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){xt(t,n,u)}else o.current=null}function La(t,n,o){try{o()}catch(u){xt(t,n,u)}}var ph=!1;function fm(t,n){if(Yl=Os,t=Kf(),jl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var a=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var E=0,A=-1,U=-1,K=0,le=0,ae=t,ue=null;t:for(;;){for(var ve;ae!==o||a!==0&&ae.nodeType!==3||(A=E+a),ae!==d||u!==0&&ae.nodeType!==3||(U=E+u),ae.nodeType===3&&(E+=ae.nodeValue.length),(ve=ae.firstChild)!==null;)ue=ae,ae=ve;for(;;){if(ae===t)break t;if(ue===o&&++K===a&&(A=E),ue===d&&++le===u&&(U=E),(ve=ae.nextSibling)!==null)break;ae=ue,ue=ae.parentNode}ae=ve}o=A===-1||U===-1?null:{start:A,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(ql={focusedElem:t,selectionRange:o},Os=!1,Se=n;Se!==null;)if(n=Se,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Se=t;else for(;Se!==null;){n=Se;try{var _e=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var ke=_e.memoizedProps,kt=_e.memoizedState,D=n.stateNode,H=D.getSnapshotBeforeUpdate(n.elementType===n.type?ke:Xn(n.type,ke),kt);D.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var j=n.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(fe){xt(n,n.return,fe)}if(t=n.sibling,t!==null){t.return=n.return,Se=t;break}Se=n.return}return _e=ph,ph=!1,_e}function ts(t,n,o){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var a=u=u.next;do{if((a.tag&t)===t){var d=a.destroy;a.destroy=void 0,d!==void 0&&La(n,o,d)}a=a.next}while(a!==u)}}function gu(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==n)}}function Fa(t){var n=t.ref;if(n!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof n=="function"?n(t):n.current=t}}function yh(t){var n=t.alternate;n!==null&&(t.alternate=null,yh(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[ir],delete n[zo],delete n[ea],delete n[Gg],delete n[Xg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gh(t){return t.tag===5||t.tag===3||t.tag===4}function mh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ma(t,n,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(t,n):o.insertBefore(t,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(t,o)):(n=o,n.appendChild(t)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Gs));else if(u!==4&&(t=t.child,t!==null))for(Ma(t,n,o),t=t.sibling;t!==null;)Ma(t,n,o),t=t.sibling}function Da(t,n,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Da(t,n,o),t=t.sibling;t!==null;)Da(t,n,o),t=t.sibling}var jt=null,Yn=!1;function ri(t,n,o){for(o=o.child;o!==null;)wh(t,n,o),o=o.sibling}function wh(t,n,o){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Ps,o)}catch{}switch(o.tag){case 5:Qt||uo(o,n);case 6:var u=jt,a=Yn;jt=null,ri(t,n,o),jt=u,Yn=a,jt!==null&&(Yn?(t=jt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):jt.removeChild(o.stateNode));break;case 18:jt!==null&&(Yn?(t=jt,o=o.stateNode,t.nodeType===8?Jl(t.parentNode,o):t.nodeType===1&&Jl(t,o),Bo(t)):Jl(jt,o.stateNode));break;case 4:u=jt,a=Yn,jt=o.stateNode.containerInfo,Yn=!0,ri(t,n,o),jt=u,Yn=a;break;case 0:case 11:case 14:case 15:if(!Qt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){a=u=u.next;do{var d=a,E=d.destroy;d=d.tag,E!==void 0&&((d&2)!==0||(d&4)!==0)&&La(o,n,E),a=a.next}while(a!==u)}ri(t,n,o);break;case 1:if(!Qt&&(uo(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(A){xt(o,n,A)}ri(t,n,o);break;case 21:ri(t,n,o);break;case 22:o.mode&1?(Qt=(u=Qt)||o.memoizedState!==null,ri(t,n,o),Qt=u):ri(t,n,o);break;default:ri(t,n,o)}}function vh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new cm),n.forEach(function(u){var a=Em.bind(null,t,u);o.has(u)||(o.add(u),u.then(a,a))})}}function qn(t,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var a=o[u];try{var d=t,E=n,A=E;e:for(;A!==null;){switch(A.tag){case 5:jt=A.stateNode,Yn=!1;break e;case 3:jt=A.stateNode.containerInfo,Yn=!0;break e;case 4:jt=A.stateNode.containerInfo,Yn=!0;break e}A=A.return}if(jt===null)throw Error(i(160));wh(d,E,a),jt=null,Yn=!1;var U=a.alternate;U!==null&&(U.return=null),a.return=null}catch(K){xt(a,n,K)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Eh(n,t),n=n.sibling}function Eh(t,n){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(n,t),ur(t),u&4){try{ts(3,t,t.return),gu(3,t)}catch(ke){xt(t,t.return,ke)}try{ts(5,t,t.return)}catch(ke){xt(t,t.return,ke)}}break;case 1:qn(n,t),ur(t),u&512&&o!==null&&uo(o,o.return);break;case 5:if(qn(n,t),ur(t),u&512&&o!==null&&uo(o,o.return),t.flags&32){var a=t.stateNode;try{S(a,"")}catch(ke){xt(t,t.return,ke)}}if(u&4&&(a=t.stateNode,a!=null)){var d=t.memoizedProps,E=o!==null?o.memoizedProps:d,A=t.type,U=t.updateQueue;if(t.updateQueue=null,U!==null)try{A==="input"&&d.type==="radio"&&d.name!=null&&bn(a,d),De(A,E);var K=De(A,d);for(E=0;E<U.length;E+=2){var le=U[E],ae=U[E+1];le==="style"?R(a,ae):le==="dangerouslySetInnerHTML"?wi(a,ae):le==="children"?S(a,ae):L(a,le,ae,K)}switch(A){case"input":Wt(a,d);break;case"textarea":yr(a,d);break;case"select":var ue=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var ve=d.value;ve!=null?Nn(a,!!d.multiple,ve,!1):ue!==!!d.multiple&&(d.defaultValue!=null?Nn(a,!!d.multiple,d.defaultValue,!0):Nn(a,!!d.multiple,d.multiple?[]:"",!1))}a[zo]=d}catch(ke){xt(t,t.return,ke)}}break;case 6:if(qn(n,t),ur(t),u&4){if(t.stateNode===null)throw Error(i(162));a=t.stateNode,d=t.memoizedProps;try{a.nodeValue=d}catch(ke){xt(t,t.return,ke)}}break;case 3:if(qn(n,t),ur(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Bo(n.containerInfo)}catch(ke){xt(t,t.return,ke)}break;case 4:qn(n,t),ur(t);break;case 13:qn(n,t),ur(t),a=t.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(Va=St())),u&4&&vh(t);break;case 22:if(le=o!==null&&o.memoizedState!==null,t.mode&1?(Qt=(K=Qt)||le,qn(n,t),Qt=K):qn(n,t),ur(t),u&8192){if(K=t.memoizedState!==null,(t.stateNode.isHidden=K)&&!le&&(t.mode&1)!==0)for(Se=t,le=t.child;le!==null;){for(ae=Se=le;Se!==null;){switch(ue=Se,ve=ue.child,ue.tag){case 0:case 11:case 14:case 15:ts(4,ue,ue.return);break;case 1:uo(ue,ue.return);var _e=ue.stateNode;if(typeof _e.componentWillUnmount=="function"){u=ue,o=ue.return;try{n=u,_e.props=n.memoizedProps,_e.state=n.memoizedState,_e.componentWillUnmount()}catch(ke){xt(u,o,ke)}}break;case 5:uo(ue,ue.return);break;case 22:if(ue.memoizedState!==null){_h(ae);continue}}ve!==null?(ve.return=ue,Se=ve):_h(ae)}le=le.sibling}e:for(le=null,ae=t;;){if(ae.tag===5){if(le===null){le=ae;try{a=ae.stateNode,K?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(A=ae.stateNode,U=ae.memoizedProps.style,E=U!=null&&U.hasOwnProperty("display")?U.display:null,A.style.display=k("display",E))}catch(ke){xt(t,t.return,ke)}}}else if(ae.tag===6){if(le===null)try{ae.stateNode.nodeValue=K?"":ae.memoizedProps}catch(ke){xt(t,t.return,ke)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===t)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===t)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===t)break e;le===ae&&(le=null),ae=ae.return}le===ae&&(le=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:qn(n,t),ur(t),u&4&&vh(t);break;case 21:break;default:qn(n,t),ur(t)}}function ur(t){var n=t.flags;if(n&2){try{e:{for(var o=t.return;o!==null;){if(gh(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 5:var a=u.stateNode;u.flags&32&&(S(a,""),u.flags&=-33);var d=mh(t);Da(t,d,a);break;case 3:case 4:var E=u.stateNode.containerInfo,A=mh(t);Ma(t,A,E);break;default:throw Error(i(161))}}catch(U){xt(t,t.return,U)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function dm(t,n,o){Se=t,Sh(t)}function Sh(t,n,o){for(var u=(t.mode&1)!==0;Se!==null;){var a=Se,d=a.child;if(a.tag===22&&u){var E=a.memoizedState!==null||yu;if(!E){var A=a.alternate,U=A!==null&&A.memoizedState!==null||Qt;A=yu;var K=Qt;if(yu=E,(Qt=U)&&!K)for(Se=a;Se!==null;)E=Se,U=E.child,E.tag===22&&E.memoizedState!==null?kh(a):U!==null?(U.return=E,Se=U):kh(a);for(;d!==null;)Se=d,Sh(d),d=d.sibling;Se=a,yu=A,Qt=K}xh(t)}else(a.subtreeFlags&8772)!==0&&d!==null?(d.return=a,Se=d):xh(t)}}function xh(t){for(;Se!==null;){var n=Se;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Qt||gu(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!Qt)if(o===null)u.componentDidMount();else{var a=n.elementType===n.type?o.memoizedProps:Xn(n.type,o.memoizedProps);u.componentDidUpdate(a,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&_d(n,d,u);break;case 3:var E=n.updateQueue;if(E!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}_d(n,E,o)}break;case 5:var A=n.stateNode;if(o===null&&n.flags&4){o=A;var U=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&o.focus();break;case"img":U.src&&(o.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var K=n.alternate;if(K!==null){var le=K.memoizedState;if(le!==null){var ae=le.dehydrated;ae!==null&&Bo(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Qt||n.flags&512&&Fa(n)}catch(ue){xt(n,n.return,ue)}}if(n===t){Se=null;break}if(o=n.sibling,o!==null){o.return=n.return,Se=o;break}Se=n.return}}function _h(t){for(;Se!==null;){var n=Se;if(n===t){Se=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Se=o;break}Se=n.return}}function kh(t){for(;Se!==null;){var n=Se;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{gu(4,n)}catch(U){xt(n,o,U)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var a=n.return;try{u.componentDidMount()}catch(U){xt(n,a,U)}}var d=n.return;try{Fa(n)}catch(U){xt(n,d,U)}break;case 5:var E=n.return;try{Fa(n)}catch(U){xt(n,E,U)}}}catch(U){xt(n,n.return,U)}if(n===t){Se=null;break}var A=n.sibling;if(A!==null){A.return=n.return,Se=A;break}Se=n.return}}var hm=Math.ceil,mu=$.ReactCurrentDispatcher,ja=$.ReactCurrentOwner,Rn=$.ReactCurrentBatchConfig,Ze=0,Ot=null,Tt=null,$t=0,An=0,lo=Zr(0),Nt=0,ns=null,Ci=0,wu=0,$a=0,rs=null,hn=null,Va=0,ao=1/0,Ir=null,vu=!1,za=null,ii=null,Eu=!1,oi=null,Su=0,is=0,Wa=null,xu=-1,_u=0;function sn(){return(Ze&6)!==0?St():xu!==-1?xu:xu=St()}function si(t){return(t.mode&1)===0?1:(Ze&2)!==0&&$t!==0?$t&-$t:qg.transition!==null?(_u===0&&(_u=mf()),_u):(t=nt,t!==0||(t=window.event,t=t===void 0?16:Tf(t.type)),t)}function Qn(t,n,o,u){if(50<is)throw is=0,Wa=null,Error(i(185));Co(t,o,u),((Ze&2)===0||t!==Ot)&&(t===Ot&&((Ze&2)===0&&(wu|=o),Nt===4&&ui(t,$t)),pn(t,u),o===1&&Ze===0&&(n.mode&1)===0&&(ao=St()+500,Qs&&ei()))}function pn(t,n){var o=t.callbackNode;qy(t,n);var u=Us(t,t===Ot?$t:0);if(u===0)o!==null&&vi(o),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(o!=null&&vi(o),n===1)t.tag===0?Yg(Th.bind(null,t)):fd(Th.bind(null,t)),Wg(function(){(Ze&6)===0&&ei()}),o=null;else{switch(wf(u)){case 1:o=kl;break;case 4:o=yf;break;case 16:o=Cs;break;case 536870912:o=gf;break;default:o=Cs}o=Hh(o,Ah.bind(null,t))}t.callbackPriority=n,t.callbackNode=o}}function Ah(t,n){if(xu=-1,_u=0,(Ze&6)!==0)throw Error(i(327));var o=t.callbackNode;if(co()&&t.callbackNode!==o)return null;var u=Us(t,t===Ot?$t:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||n)n=ku(t,u);else{n=u;var a=Ze;Ze|=2;var d=Ch();(Ot!==t||$t!==n)&&(Ir=null,ao=St()+500,bi(t,n));do try{gm();break}catch(A){Ih(t,A)}while(!0);aa(),mu.current=d,Ze=a,Tt!==null?n=0:(Ot=null,$t=0,n=Nt)}if(n!==0){if(n===2&&(a=Al(t),a!==0&&(u=a,n=Ka(t,a))),n===1)throw o=ns,bi(t,0),ui(t,u),pn(t,St()),o;if(n===6)ui(t,u);else{if(a=t.current.alternate,(u&30)===0&&!pm(a)&&(n=ku(t,u),n===2&&(d=Al(t),d!==0&&(u=d,n=Ka(t,d))),n===1))throw o=ns,bi(t,0),ui(t,u),pn(t,St()),o;switch(t.finishedWork=a,t.finishedLanes=u,n){case 0:case 1:throw Error(i(345));case 2:Ni(t,hn,Ir);break;case 3:if(ui(t,u),(u&130023424)===u&&(n=Va+500-St(),10<n)){if(Us(t,0)!==0)break;if(a=t.suspendedLanes,(a&u)!==u){sn(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Zl(Ni.bind(null,t,hn,Ir),n);break}Ni(t,hn,Ir);break;case 4:if(ui(t,u),(u&4194240)===u)break;for(n=t.eventTimes,a=-1;0<u;){var E=31-Wn(u);d=1<<E,E=n[E],E>a&&(a=E),u&=~d}if(u=a,u=St()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*hm(u/1960))-u,10<u){t.timeoutHandle=Zl(Ni.bind(null,t,hn,Ir),u);break}Ni(t,hn,Ir);break;case 5:Ni(t,hn,Ir);break;default:throw Error(i(329))}}}return pn(t,St()),t.callbackNode===o?Ah.bind(null,t):null}function Ka(t,n){var o=rs;return t.current.memoizedState.isDehydrated&&(bi(t,n).flags|=256),t=ku(t,n),t!==2&&(n=hn,hn=o,n!==null&&Ga(n)),t}function Ga(t){hn===null?hn=t:hn.push.apply(hn,t)}function pm(t){for(var n=t;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var a=o[u],d=a.getSnapshot;a=a.value;try{if(!Kn(d(),a))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ui(t,n){for(n&=~$a,n&=~wu,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var o=31-Wn(n),u=1<<o;t[o]=-1,n&=~u}}function Th(t){if((Ze&6)!==0)throw Error(i(327));co();var n=Us(t,0);if((n&1)===0)return pn(t,St()),null;var o=ku(t,n);if(t.tag!==0&&o===2){var u=Al(t);u!==0&&(n=u,o=Ka(t,u))}if(o===1)throw o=ns,bi(t,0),ui(t,n),pn(t,St()),o;if(o===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Ni(t,hn,Ir),pn(t,St()),null}function Xa(t,n){var o=Ze;Ze|=1;try{return t(n)}finally{Ze=o,Ze===0&&(ao=St()+500,Qs&&ei())}}function Pi(t){oi!==null&&oi.tag===0&&(Ze&6)===0&&co();var n=Ze;Ze|=1;var o=Rn.transition,u=nt;try{if(Rn.transition=null,nt=1,t)return t()}finally{nt=u,Rn.transition=o,Ze=n,(Ze&6)===0&&ei()}}function Ya(){An=lo.current,ft(lo)}function bi(t,n){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,zg(o)),Tt!==null)for(o=Tt.return;o!==null;){var u=o;switch(ia(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ys();break;case 3:oo(),ft(cn),ft(Xt),ma();break;case 5:ya(u);break;case 4:oo();break;case 13:ft(yt);break;case 19:ft(yt);break;case 10:ca(u.type._context);break;case 22:case 23:Ya()}o=o.return}if(Ot=t,Tt=t=li(t.current,null),$t=An=n,Nt=0,ns=null,$a=wu=Ci=0,hn=rs=null,Ai!==null){for(n=0;n<Ai.length;n++)if(o=Ai[n],u=o.interleaved,u!==null){o.interleaved=null;var a=u.next,d=o.pending;if(d!==null){var E=d.next;d.next=a,u.next=E}o.pending=u}Ai=null}return t}function Ih(t,n){do{var o=Tt;try{if(aa(),uu.current=fu,lu){for(var u=gt.memoizedState;u!==null;){var a=u.queue;a!==null&&(a.pending=null),u=u.next}lu=!1}if(Ii=0,Ht=bt=gt=null,qo=!1,Qo=0,ja.current=null,o===null||o.return===null){Nt=1,ns=n,Tt=null;break}e:{var d=t,E=o.return,A=o,U=n;if(n=$t,A.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var K=U,le=A,ae=le.tag;if((le.mode&1)===0&&(ae===0||ae===11||ae===15)){var ue=le.alternate;ue?(le.updateQueue=ue.updateQueue,le.memoizedState=ue.memoizedState,le.lanes=ue.lanes):(le.updateQueue=null,le.memoizedState=null)}var ve=Zd(E);if(ve!==null){ve.flags&=-257,Jd(ve,E,A,d,n),ve.mode&1&&Qd(d,K,n),n=ve,U=K;var _e=n.updateQueue;if(_e===null){var ke=new Set;ke.add(U),n.updateQueue=ke}else _e.add(U);break e}else{if((n&1)===0){Qd(d,K,n),qa();break e}U=Error(i(426))}}else if(dt&&A.mode&1){var kt=Zd(E);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),Jd(kt,E,A,d,n),ua(so(U,A));break e}}d=U=so(U,A),Nt!==4&&(Nt=2),rs===null?rs=[d]:rs.push(d),d=E;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var D=Yd(d,U,n);xd(d,D);break e;case 1:A=U;var H=d.type,j=d.stateNode;if((d.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ii===null||!ii.has(j)))){d.flags|=65536,n&=-n,d.lanes|=n;var fe=qd(d,A,n);xd(d,fe);break e}}d=d.return}while(d!==null)}bh(o)}catch(Ae){n=Ae,Tt===o&&o!==null&&(Tt=o=o.return);continue}break}while(!0)}function Ch(){var t=mu.current;return mu.current=fu,t===null?fu:t}function qa(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Ot===null||(Ci&268435455)===0&&(wu&268435455)===0||ui(Ot,$t)}function ku(t,n){var o=Ze;Ze|=2;var u=Ch();(Ot!==t||$t!==n)&&(Ir=null,bi(t,n));do try{ym();break}catch(a){Ih(t,a)}while(!0);if(aa(),Ze=o,mu.current=u,Tt!==null)throw Error(i(261));return Ot=null,$t=0,Nt}function ym(){for(;Tt!==null;)Ph(Tt)}function gm(){for(;Tt!==null&&!To();)Ph(Tt)}function Ph(t){var n=Bh(t.alternate,t,An);t.memoizedProps=t.pendingProps,n===null?bh(t):Tt=n,ja.current=null}function bh(t){var n=t;do{var o=n.alternate;if(t=n.return,(n.flags&32768)===0){if(o=lm(o,n,An),o!==null){Tt=o;return}}else{if(o=am(o,n),o!==null){o.flags&=32767,Tt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,Tt=null;return}}if(n=n.sibling,n!==null){Tt=n;return}Tt=n=t}while(n!==null);Nt===0&&(Nt=5)}function Ni(t,n,o){var u=nt,a=Rn.transition;try{Rn.transition=null,nt=1,mm(t,n,o,u)}finally{Rn.transition=a,nt=u}return null}function mm(t,n,o,u){do co();while(oi!==null);if((Ze&6)!==0)throw Error(i(327));o=t.finishedWork;var a=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var d=o.lanes|o.childLanes;if(Qy(t,d),t===Ot&&(Tt=Ot=null,$t=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Eu||(Eu=!0,Hh(Cs,function(){return co(),null})),d=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||d){d=Rn.transition,Rn.transition=null;var E=nt;nt=1;var A=Ze;Ze|=4,ja.current=null,fm(t,o),Eh(o,t),Lg(ql),Os=!!Yl,ql=Yl=null,t.current=o,dm(o),Ei(),Ze=A,nt=E,Rn.transition=d}else t.current=o;if(Eu&&(Eu=!1,oi=t,Su=a),d=t.pendingLanes,d===0&&(ii=null),Wy(o.stateNode),pn(t,St()),n!==null)for(u=t.onRecoverableError,o=0;o<n.length;o++)a=n[o],u(a.value,{componentStack:a.stack,digest:a.digest});if(vu)throw vu=!1,t=za,za=null,t;return(Su&1)!==0&&t.tag!==0&&co(),d=t.pendingLanes,(d&1)!==0?t===Wa?is++:(is=0,Wa=t):is=0,ei(),null}function co(){if(oi!==null){var t=wf(Su),n=Rn.transition,o=nt;try{if(Rn.transition=null,nt=16>t?16:t,oi===null)var u=!1;else{if(t=oi,oi=null,Su=0,(Ze&6)!==0)throw Error(i(331));var a=Ze;for(Ze|=4,Se=t.current;Se!==null;){var d=Se,E=d.child;if((Se.flags&16)!==0){var A=d.deletions;if(A!==null){for(var U=0;U<A.length;U++){var K=A[U];for(Se=K;Se!==null;){var le=Se;switch(le.tag){case 0:case 11:case 15:ts(8,le,d)}var ae=le.child;if(ae!==null)ae.return=le,Se=ae;else for(;Se!==null;){le=Se;var ue=le.sibling,ve=le.return;if(yh(le),le===K){Se=null;break}if(ue!==null){ue.return=ve,Se=ue;break}Se=ve}}}var _e=d.alternate;if(_e!==null){var ke=_e.child;if(ke!==null){_e.child=null;do{var kt=ke.sibling;ke.sibling=null,ke=kt}while(ke!==null)}}Se=d}}if((d.subtreeFlags&2064)!==0&&E!==null)E.return=d,Se=E;else e:for(;Se!==null;){if(d=Se,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ts(9,d,d.return)}var D=d.sibling;if(D!==null){D.return=d.return,Se=D;break e}Se=d.return}}var H=t.current;for(Se=H;Se!==null;){E=Se;var j=E.child;if((E.subtreeFlags&2064)!==0&&j!==null)j.return=E,Se=j;else e:for(E=H;Se!==null;){if(A=Se,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:gu(9,A)}}catch(Ae){xt(A,A.return,Ae)}if(A===E){Se=null;break e}var fe=A.sibling;if(fe!==null){fe.return=A.return,Se=fe;break e}Se=A.return}}if(Ze=a,ei(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Ps,t)}catch{}u=!0}return u}finally{nt=o,Rn.transition=n}}return!1}function Nh(t,n,o){n=so(o,n),n=Yd(t,n,1),t=ni(t,n,1),n=sn(),t!==null&&(Co(t,1,n),pn(t,n))}function xt(t,n,o){if(t.tag===3)Nh(t,t,o);else for(;n!==null;){if(n.tag===3){Nh(n,t,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ii===null||!ii.has(u))){t=so(o,t),t=qd(n,t,1),n=ni(n,t,1),t=sn(),n!==null&&(Co(n,1,t),pn(n,t));break}}n=n.return}}function wm(t,n,o){var u=t.pingCache;u!==null&&u.delete(n),n=sn(),t.pingedLanes|=t.suspendedLanes&o,Ot===t&&($t&o)===o&&(Nt===4||Nt===3&&($t&130023424)===$t&&500>St()-Va?bi(t,0):$a|=o),pn(t,n)}function Uh(t,n){n===0&&((t.mode&1)===0?n=1:(n=Ns,Ns<<=1,(Ns&130023424)===0&&(Ns=4194304)));var o=sn();t=kr(t,n),t!==null&&(Co(t,n,o),pn(t,o))}function vm(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),Uh(t,o)}function Em(t,n){var o=0;switch(t.tag){case 13:var u=t.stateNode,a=t.memoizedState;a!==null&&(o=a.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(i(314))}u!==null&&u.delete(n),Uh(t,o)}var Bh;Bh=function(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps||cn.current)dn=!0;else{if((t.lanes&o)===0&&(n.flags&128)===0)return dn=!1,um(t,n,o);dn=(t.flags&131072)!==0}else dn=!1,dt&&(n.flags&1048576)!==0&&dd(n,Js,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;pu(t,n),t=n.pendingProps;var a=Zi(n,Xt.current);io(n,o),a=Ea(null,n,u,t,a,o);var d=Sa();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,fn(u)?(d=!0,qs(n)):d=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ha(n),a.updater=du,n.stateNode=a,a._reactInternals=n,Ia(n,u,t,o),n=Na(null,n,u,!0,d,o)):(n.tag=0,dt&&d&&ra(n),on(null,n,a,o),n=n.child),n;case 16:u=n.elementType;e:{switch(pu(t,n),t=n.pendingProps,a=u._init,u=a(u._payload),n.type=u,a=n.tag=xm(u),t=Xn(u,t),a){case 0:n=ba(null,n,u,t,o);break e;case 1:n=oh(null,n,u,t,o);break e;case 11:n=eh(null,n,u,t,o);break e;case 14:n=th(null,n,u,Xn(u.type,t),o);break e}throw Error(i(306,u,""))}return n;case 0:return u=n.type,a=n.pendingProps,a=n.elementType===u?a:Xn(u,a),ba(t,n,u,a,o);case 1:return u=n.type,a=n.pendingProps,a=n.elementType===u?a:Xn(u,a),oh(t,n,u,a,o);case 3:e:{if(sh(n),t===null)throw Error(i(387));u=n.pendingProps,d=n.memoizedState,a=d.element,Sd(t,n),ou(n,u,null,o);var E=n.memoizedState;if(u=E.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){a=so(Error(i(423)),n),n=uh(t,n,u,o,a);break e}else if(u!==a){a=so(Error(i(424)),n),n=uh(t,n,u,o,a);break e}else for(kn=Qr(n.stateNode.containerInfo.firstChild),_n=n,dt=!0,Gn=null,o=vd(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(to(),u===a){n=Tr(t,n,o);break e}on(t,n,u,o)}n=n.child}return n;case 5:return kd(n),t===null&&sa(n),u=n.type,a=n.pendingProps,d=t!==null?t.memoizedProps:null,E=a.children,Ql(u,a)?E=null:d!==null&&Ql(u,d)&&(n.flags|=32),ih(t,n),on(t,n,E,o),n.child;case 6:return t===null&&sa(n),null;case 13:return lh(t,n,o);case 4:return pa(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=no(n,null,u,o):on(t,n,u,o),n.child;case 11:return u=n.type,a=n.pendingProps,a=n.elementType===u?a:Xn(u,a),eh(t,n,u,a,o);case 7:return on(t,n,n.pendingProps,o),n.child;case 8:return on(t,n,n.pendingProps.children,o),n.child;case 12:return on(t,n,n.pendingProps.children,o),n.child;case 10:e:{if(u=n.type._context,a=n.pendingProps,d=n.memoizedProps,E=a.value,at(nu,u._currentValue),u._currentValue=E,d!==null)if(Kn(d.value,E)){if(d.children===a.children&&!cn.current){n=Tr(t,n,o);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var A=d.dependencies;if(A!==null){E=d.child;for(var U=A.firstContext;U!==null;){if(U.context===u){if(d.tag===1){U=Ar(-1,o&-o),U.tag=2;var K=d.updateQueue;if(K!==null){K=K.shared;var le=K.pending;le===null?U.next=U:(U.next=le.next,le.next=U),K.pending=U}}d.lanes|=o,U=d.alternate,U!==null&&(U.lanes|=o),fa(d.return,o,n),A.lanes|=o;break}U=U.next}}else if(d.tag===10)E=d.type===n.type?null:d.child;else if(d.tag===18){if(E=d.return,E===null)throw Error(i(341));E.lanes|=o,A=E.alternate,A!==null&&(A.lanes|=o),fa(E,o,n),E=d.sibling}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===n){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}on(t,n,a.children,o),n=n.child}return n;case 9:return a=n.type,u=n.pendingProps.children,io(n,o),a=Hn(a),u=u(a),n.flags|=1,on(t,n,u,o),n.child;case 14:return u=n.type,a=Xn(u,n.pendingProps),a=Xn(u.type,a),th(t,n,u,a,o);case 15:return nh(t,n,n.type,n.pendingProps,o);case 17:return u=n.type,a=n.pendingProps,a=n.elementType===u?a:Xn(u,a),pu(t,n),n.tag=1,fn(u)?(t=!0,qs(n)):t=!1,io(n,o),Gd(n,u,a),Ia(n,u,a,o),Na(null,n,u,!0,t,o);case 19:return ch(t,n,o);case 22:return rh(t,n,o)}throw Error(i(156,n.tag))};function Hh(t,n){return vr(t,n)}function Sm(t,n,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,n,o,u){return new Sm(t,n,o,u)}function Qa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xm(t){if(typeof t=="function")return Qa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Be)return 11;if(t===Me)return 14}return 2}function li(t,n){var o=t.alternate;return o===null?(o=Ln(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Au(t,n,o,u,a,d){var E=2;if(u=t,typeof t=="function")Qa(t)&&(E=1);else if(typeof t=="string")E=5;else e:switch(t){case me:return Ui(o.children,a,d,n);case ye:E=8,a|=8;break;case ie:return t=Ln(12,o,n,a|2),t.elementType=ie,t.lanes=d,t;case ge:return t=Ln(13,o,n,a),t.elementType=ge,t.lanes=d,t;case Ie:return t=Ln(19,o,n,a),t.elementType=Ie,t.lanes=d,t;case Pe:return Tu(o,a,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:E=10;break e;case se:E=9;break e;case Be:E=11;break e;case Me:E=14;break e;case ce:E=16,u=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return n=Ln(E,o,n,a),n.elementType=t,n.type=u,n.lanes=d,n}function Ui(t,n,o,u){return t=Ln(7,t,u,n),t.lanes=o,t}function Tu(t,n,o,u){return t=Ln(22,t,u,n),t.elementType=Pe,t.lanes=o,t.stateNode={isHidden:!1},t}function Za(t,n,o){return t=Ln(6,t,null,n),t.lanes=o,t}function Ja(t,n,o){return n=Ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function _m(t,n,o,u,a){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tl(0),this.expirationTimes=Tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tl(0),this.identifierPrefix=u,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ec(t,n,o,u,a,d,E,A,U){return t=new _m(t,n,o,A,U),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Ln(3,null,null,n),t.current=d,d.stateNode=t,d.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ha(d),t}function km(t,n,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:u==null?null:""+u,children:t,containerInfo:n,implementation:o}}function Oh(t){if(!t)return Jr;t=t._reactInternals;e:{if(Ke(t)!==t||t.tag!==1)throw Error(i(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(fn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(t.tag===1){var o=t.type;if(fn(o))return ad(t,o,n)}return n}function Rh(t,n,o,u,a,d,E,A,U){return t=ec(o,u,!0,t,a,d,E,A,U),t.context=Oh(null),o=t.current,u=sn(),a=si(o),d=Ar(u,a),d.callback=n??null,ni(o,d,a),t.current.lanes=a,Co(t,a,u),pn(t,u),t}function Iu(t,n,o,u){var a=n.current,d=sn(),E=si(a);return o=Oh(o),n.context===null?n.context=o:n.pendingContext=o,n=Ar(d,E),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=ni(a,n,E),t!==null&&(Qn(t,a,E,d),iu(t,a,E)),E}function Cu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function tc(t,n){Lh(t,n),(t=t.alternate)&&Lh(t,n)}function Am(){return null}var Fh=typeof reportError=="function"?reportError:function(t){console.error(t)};function nc(t){this._internalRoot=t}Pu.prototype.render=nc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));Iu(t,n,null,null)},Pu.prototype.unmount=nc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Pi(function(){Iu(null,t,null,null)}),n[Er]=null}};function Pu(t){this._internalRoot=t}Pu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Sf();t={blockedOn:null,target:t,priority:n};for(var o=0;o<Xr.length&&n!==0&&n<Xr[o].priority;o++);Xr.splice(o,0,t),o===0&&kf(t)}};function rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mh(){}function Tm(t,n,o,u,a){if(a){if(typeof u=="function"){var d=u;u=function(){var K=Cu(E);d.call(K)}}var E=Rh(n,u,t,0,null,!1,!1,"",Mh);return t._reactRootContainer=E,t[Er]=E.current,$o(t.nodeType===8?t.parentNode:t),Pi(),E}for(;a=t.lastChild;)t.removeChild(a);if(typeof u=="function"){var A=u;u=function(){var K=Cu(U);A.call(K)}}var U=ec(t,0,!1,null,null,!1,!1,"",Mh);return t._reactRootContainer=U,t[Er]=U.current,$o(t.nodeType===8?t.parentNode:t),Pi(function(){Iu(n,U,o,u)}),U}function Nu(t,n,o,u,a){var d=o._reactRootContainer;if(d){var E=d;if(typeof a=="function"){var A=a;a=function(){var U=Cu(E);A.call(U)}}Iu(n,E,t,a)}else E=Tm(o,n,t,a,u);return Cu(E)}vf=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var o=Io(n.pendingLanes);o!==0&&(Il(n,o|1),pn(n,St()),(Ze&6)===0&&(ao=St()+500,ei()))}break;case 13:Pi(function(){var u=kr(t,1);if(u!==null){var a=sn();Qn(u,t,1,a)}}),tc(t,1)}},Cl=function(t){if(t.tag===13){var n=kr(t,134217728);if(n!==null){var o=sn();Qn(n,t,134217728,o)}tc(t,134217728)}},Ef=function(t){if(t.tag===13){var n=si(t),o=kr(t,n);if(o!==null){var u=sn();Qn(o,t,n,u)}tc(t,n)}},Sf=function(){return nt},xf=function(t,n){var o=nt;try{return nt=t,n()}finally{nt=o}},ut=function(t,n,o){switch(n){case"input":if(Wt(t,o),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==t&&u.form===t.form){var a=Xs(u);if(!a)throw Error(i(90));nr(u),Wt(u,a)}}}break;case"textarea":yr(t,o);break;case"select":n=o.value,n!=null&&Nn(t,!!o.multiple,n,!1)}},Gt=Xa,zn=Pi;var Im={usingClientEntryPoint:!1,Events:[Wo,qi,Xs,ko,Ao,Xa]},os={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cm={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mr(t),t===null?null:t.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||Am,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{Ps=Uu.inject(Cm),rr=Uu}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Im,yn.createPortal=function(t,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(n))throw Error(i(200));return km(t,n,null,o)},yn.createRoot=function(t,n){if(!rc(t))throw Error(i(299));var o=!1,u="",a=Fh;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=ec(t,1,!1,null,null,o,!1,u,a),t[Er]=n.current,$o(t.nodeType===8?t.parentNode:t),new nc(n)},yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=mr(n),t=t===null?null:t.stateNode,t},yn.flushSync=function(t){return Pi(t)},yn.hydrate=function(t,n,o){if(!bu(n))throw Error(i(200));return Nu(null,t,n,!0,o)},yn.hydrateRoot=function(t,n,o){if(!rc(t))throw Error(i(405));var u=o!=null&&o.hydratedSources||null,a=!1,d="",E=Fh;if(o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),n=Rh(n,null,t,1,o??null,a,!1,d,E),t[Er]=n.current,$o(t),u)for(t=0;t<u.length;t++)o=u[t],a=o._getVersion,a=a(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,a]:n.mutableSourceEagerHydrationData.push(o,a);return new Pu(n)},yn.render=function(t,n,o){if(!bu(n))throw Error(i(200));return Nu(null,t,n,!1,o)},yn.unmountComponentAtNode=function(t){if(!bu(t))throw Error(i(40));return t._reactRootContainer?(Pi(function(){Nu(null,null,t,!1,function(){t._reactRootContainer=null,t[Er]=null})}),!0):!1},yn.unstable_batchedUpdates=Xa,yn.unstable_renderSubtreeIntoContainer=function(t,n,o,u){if(!bu(o))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return Nu(t,n,o,!1,u)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var Gh;function Mm(){if(Gh)return sc.exports;Gh=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),sc.exports=Fm(),sc.exports}var Xh;function Dm(){if(Xh)return Bu;Xh=1;var e=Mm();return Bu.createRoot=e.createRoot,Bu.hydrateRoot=e.hydrateRoot,Bu}var jm=Dm(),$m=function(e,r,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(e):s?s.value:r.get(e)},Vm=function(e,r,i,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!l:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(e,i):l?l.value=i:r.set(e,i),i},$u;let us;const rl=new Set;function zm(e){gs=void 0,rl.add(e)}function Wm(e){gs=void 0,rl.delete(e)}const yo={};function Km(){if(us||(us=Object.freeze({register:Yh,get:Gm,on:Xm}),typeof window>"u"))return us;const e=Object.freeze({register:Yh});try{window.addEventListener("wallet-standard:register-wallet",({detail:r})=>r(e))}catch(r){console.error(`wallet-standard:register-wallet event listener could not be added
`,r)}try{window.dispatchEvent(new Ym(e))}catch(r){console.error(`wallet-standard:app-ready event could not be dispatched
`,r)}return us}function Yh(...e){var r;return e=e.filter(i=>!rl.has(i)),e.length?(e.forEach(i=>zm(i)),(r=yo.register)==null||r.forEach(i=>qh(()=>i(...e))),function(){var s;e.forEach(l=>Wm(l)),(s=yo.unregister)==null||s.forEach(l=>qh(()=>l(...e)))}):()=>{}}let gs;function Gm(){return gs||(gs=[...rl]),gs}function Xm(e,r){var i;return(i=yo[e])!=null&&i.push(r)||(yo[e]=[r]),function(){var l;yo[e]=(l=yo[e])==null?void 0:l.filter(f=>r!==f)}}function qh(e){try{e()}catch(r){console.error(r)}}class Ym extends Event{get detail(){return $m(this,$u,"f")}get type(){return"wallet-standard:app-ready"}constructor(r){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),$u.set(this,void 0),Vm(this,$u,r,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}$u=new WeakMap;const o0="bitcoin:connect",qm="bitcoin:signTransaction",Qm="bitcoin:signAndSendTransaction",Zm="bitcoin:signMessage",s0="sats-connect:";function Fi(e){return s0 in e.features}function Mi(e){return o0 in e.features}function Jm(e){return Fi(e)||Mi(e)}function ew(e){if(!Fi(e))throw new Error("Wallet is not a Bitcoin Stats Connect Wallet Standard")}function tw(e){if(!Mi(e))throw new Error("Wallet is not a Bitcoin Standard Wallet Standard")}const Qh="btc_network",u0=Ce.createContext(void 0),nw=({children:e})=>{const[r,i]=Ce.useState(()=>localStorage.getItem(Qh)??"bitcoin:testnet"),s=l=>{i(l),localStorage.setItem(Qh,l)};return J.jsx(u0.Provider,{value:{network:r,setNetwork:s},children:e})},Fr=()=>{const e=Ce.useContext(u0);if(!e)throw new Error("useEndpoint must be used within an EndpointProvider");return e};var zt=(e=>(e.Standard="standard",e.SatsConnect="satsConnect",e))(zt||{});const l0=Ce.createContext(void 0),rw=({children:e})=>{const{network:r}=Fr(),[i,s]=Ce.useState(void 0),[l,f]=Ce.useState([]),[c,p]=Ce.useState(void 0),[m,w]=Ce.useState([]),[g,v]=Ce.useState(void 0),[_,I]=Ce.useState(void 0),C=!!c;Ce.useEffect(()=>{const B=Km().get();console.log("Detected wallets:",B),f(B.filter(Y=>Jm(Y)))},[]);const N=Ce.useMemo(()=>({selectedAccount:i,connected:C,network:r,wallets:l,selectedWallet:c,accounts:m,statsConnectProvider:g,selectedConnectionType:_,setSelectedAccount:s,setWallets:f,setAccounts:w,setSatsConnectProvider:v,setSelectedWallet:p,setSelectedConnectionType:I}),[i,C,r,l,m,g,c,_]);return J.jsx(l0.Provider,{value:N,children:e})};function Oc(){const e=Ce.useContext(l0);if(!e)throw new Error("useBitcoinWalletCtx must be used within BitcoinWalletProvider");return e}var Cr;function iw(e){return{lang:(e==null?void 0:e.lang)??(Cr==null?void 0:Cr.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(Cr==null?void 0:Cr.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(Cr==null?void 0:Cr.abortPipeEarly)}}var ac;function ow(e){return ac==null?void 0:ac.get(e)}var cc;function sw(e){return cc==null?void 0:cc.get(e)}var fc;function uw(e,r){var i;return(i=fc==null?void 0:fc.get(e))==null?void 0:i.get(r)}function il(e){var i,s;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((s=(i=Object.getPrototypeOf(e))==null?void 0:i.constructor)==null?void 0:s.name))??"null":r}function Pt(e,r,i,s,l){const f=l&&"input"in l?l.input:i.value,c=(l==null?void 0:l.expected)??e.expects??null,p=(l==null?void 0:l.received)??il(f),m={kind:e.kind,type:e.type,input:f,expected:c,received:p,message:`Invalid ${r}: ${c?`Expected ${c} but r`:"R"}eceived ${p}`,requirement:e.requirement,path:l==null?void 0:l.path,issues:l==null?void 0:l.issues,lang:s.lang,abortEarly:s.abortEarly,abortPipeEarly:s.abortPipeEarly},w=e.kind==="schema",g=(l==null?void 0:l.message)??e.message??uw(e.reference,m.lang)??(w?sw(m.lang):null)??s.message??ow(m.lang);g!==void 0&&(m.message=typeof g=="function"?g(m):g),w&&(i.typed=!1),i.issues?i.issues.push(m):i.issues=[m]}function Ft(e){return{version:1,vendor:"valibot",validate(r){return e["~run"]({value:r},iw())}}}function a0(e,r){return Object.hasOwn(e,r)&&r!=="__proto__"&&r!=="prototype"&&r!=="constructor"}function ol(e,r){const i=[...new Set(e)];return i.length>1?`(${i.join(` ${r} `)})`:i[0]??"never"}function c0(e,r){return{kind:"validation",type:"check",reference:c0,async:!1,expects:null,requirement:e,message:r,"~run"(i,s){return i.typed&&!this.requirement(i.value)&&Pt(this,"input",i,s),i}}}function f0(e,r){return{kind:"validation",type:"max_length",reference:f0,async:!1,expects:`<=${e}`,requirement:e,message:r,"~run"(i,s){return i.typed&&i.value.length>this.requirement&&Pt(this,"length",i,s,{received:`${i.value.length}`}),i}}}function d0(e,r){return{kind:"validation",type:"min_length",reference:d0,async:!1,expects:`>=${e}`,requirement:e,message:r,"~run"(i,s){return i.typed&&i.value.length<this.requirement&&Pt(this,"length",i,s,{received:`${i.value.length}`}),i}}}function h0(e,r,i){return typeof e.fallback=="function"?e.fallback(r,i):e.fallback}function sl(e,r,i){return typeof e.default=="function"?e.default(r,i):e.default}function Lt(e,r){return{kind:"schema",type:"array",reference:Lt,expects:"Array",async:!1,item:e,message:r,get"~standard"(){return Ft(this)},"~run"(i,s){var f;const l=i.value;if(Array.isArray(l)){i.typed=!0,i.value=[];for(let c=0;c<l.length;c++){const p=l[c],m=this.item["~run"]({value:p},s);if(m.issues){const w={type:"array",origin:"value",input:l,key:c,value:p};for(const g of m.issues)g.path?g.path.unshift(w):g.path=[w],(f=i.issues)==null||f.push(g);if(i.issues||(i.issues=m.issues),s.abortEarly){i.typed=!1;break}}m.typed||(i.typed=!1),i.value.push(m.value)}}else Pt(this,"type",i,s);return i}}}function dr(e){return{kind:"schema",type:"boolean",reference:dr,expects:"boolean",async:!1,message:e,get"~standard"(){return Ft(this)},"~run"(r,i){return typeof r.value=="boolean"?r.typed=!0:Pt(this,"type",r,i),r}}}function mn(e,r){const i=[];for(const s in e)(`${+s}`!==s||typeof e[s]!="string"||!Object.is(e[e[s]],+s))&&i.push(e[s]);return{kind:"schema",type:"enum",reference:mn,expects:ol(i.map(il),"|"),async:!1,enum:e,options:i,message:r,get"~standard"(){return Ft(this)},"~run"(s,l){return this.options.includes(s.value)?s.typed=!0:Pt(this,"type",s,l),s}}}function We(e,r){return{kind:"schema",type:"literal",reference:We,expects:il(e),async:!1,literal:e,message:r,get"~standard"(){return Ft(this)},"~run"(i,s){return i.value===this.literal?i.typed=!0:Pt(this,"type",i,s),i}}}function p0(e,r){return{kind:"schema",type:"loose_object",reference:p0,expects:"Object",async:!1,entries:e,message:r,get"~standard"(){return Ft(this)},"~run"(i,s){var f;const l=i.value;if(l&&typeof l=="object"){i.typed=!0,i.value={};for(const c in this.entries){const p=this.entries[c];if(c in l||(p.type==="exact_optional"||p.type==="optional"||p.type==="nullish")&&p.default!==void 0){const m=c in l?l[c]:sl(p),w=p["~run"]({value:m},s);if(w.issues){const g={type:"object",origin:"value",input:l,key:c,value:m};for(const v of w.issues)v.path?v.path.unshift(g):v.path=[g],(f=i.issues)==null||f.push(v);if(i.issues||(i.issues=w.issues),s.abortEarly){i.typed=!1;break}}w.typed||(i.typed=!1),i.value[c]=w.value}else if(p.fallback!==void 0)i.value[c]=h0(p);else if(p.type!=="exact_optional"&&p.type!=="optional"&&p.type!=="nullish"&&(Pt(this,"key",i,s,{input:void 0,expected:`"${c}"`,path:[{type:"object",origin:"key",input:l,key:c,value:l[c]}]}),s.abortEarly))break}if(!i.issues||!s.abortEarly)for(const c in l)a0(l,c)&&!(c in this.entries)&&(i.value[c]=l[c])}else Pt(this,"type",i,s);return i}}}function jn(e){return{kind:"schema",type:"null",reference:jn,expects:"null",async:!1,message:e,get"~standard"(){return Ft(this)},"~run"(r,i){return r.value===null?r.typed=!0:Pt(this,"type",r,i),r}}}function Cn(e,r){return{kind:"schema",type:"nullish",reference:Cn,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:r,get"~standard"(){return Ft(this)},"~run"(i,s){return(i.value===null||i.value===void 0)&&(this.default!==void 0&&(i.value=sl(this,i,s)),i.value===null||i.value===void 0)?(i.typed=!0,i):this.wrapped["~run"](i,s)}}}function ln(e){return{kind:"schema",type:"number",reference:ln,expects:"number",async:!1,message:e,get"~standard"(){return Ft(this)},"~run"(r,i){return typeof r.value=="number"&&!isNaN(r.value)?r.typed=!0:Pt(this,"type",r,i),r}}}function re(e,r){return{kind:"schema",type:"object",reference:re,expects:"Object",async:!1,entries:e,message:r,get"~standard"(){return Ft(this)},"~run"(i,s){var f;const l=i.value;if(l&&typeof l=="object"){i.typed=!0,i.value={};for(const c in this.entries){const p=this.entries[c];if(c in l||(p.type==="exact_optional"||p.type==="optional"||p.type==="nullish")&&p.default!==void 0){const m=c in l?l[c]:sl(p),w=p["~run"]({value:m},s);if(w.issues){const g={type:"object",origin:"value",input:l,key:c,value:m};for(const v of w.issues)v.path?v.path.unshift(g):v.path=[g],(f=i.issues)==null||f.push(v);if(i.issues||(i.issues=w.issues),s.abortEarly){i.typed=!1;break}}w.typed||(i.typed=!1),i.value[c]=w.value}else if(p.fallback!==void 0)i.value[c]=h0(p);else if(p.type!=="exact_optional"&&p.type!=="optional"&&p.type!=="nullish"&&(Pt(this,"key",i,s,{input:void 0,expected:`"${c}"`,path:[{type:"object",origin:"key",input:l,key:c,value:l[c]}]}),s.abortEarly))break}}else Pt(this,"type",i,s);return i}}}function Ue(e,r){return{kind:"schema",type:"optional",reference:Ue,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:r,get"~standard"(){return Ft(this)},"~run"(i,s){return i.value===void 0&&(this.default!==void 0&&(i.value=sl(this,i,s)),i.value===void 0)?(i.typed=!0,i):this.wrapped["~run"](i,s)}}}function y0(e,r){return{kind:"schema",type:"picklist",reference:y0,expects:ol(e.map(il),"|"),async:!1,options:e,message:r,get"~standard"(){return Ft(this)},"~run"(i,s){return this.options.includes(i.value)?i.typed=!0:Pt(this,"type",i,s),i}}}function g0(e,r,i){return{kind:"schema",type:"record",reference:g0,expects:"Object",async:!1,key:e,value:r,message:i,get"~standard"(){return Ft(this)},"~run"(s,l){var c,p;const f=s.value;if(f&&typeof f=="object"){s.typed=!0,s.value={};for(const m in f)if(a0(f,m)){const w=f[m],g=this.key["~run"]({value:m},l);if(g.issues){const _={type:"object",origin:"key",input:f,key:m,value:w};for(const I of g.issues)I.path=[_],(c=s.issues)==null||c.push(I);if(s.issues||(s.issues=g.issues),l.abortEarly){s.typed=!1;break}}const v=this.value["~run"]({value:w},l);if(v.issues){const _={type:"object",origin:"value",input:f,key:m,value:w};for(const I of v.issues)I.path?I.path.unshift(_):I.path=[_],(p=s.issues)==null||p.push(I);if(s.issues||(s.issues=v.issues),l.abortEarly){s.typed=!1;break}}(!g.typed||!v.typed)&&(s.typed=!1),g.typed&&(s.value[g.value]=v.value)}}else Pt(this,"type",s,l);return s}}}function ne(e){return{kind:"schema",type:"string",reference:ne,expects:"string",async:!1,message:e,get"~standard"(){return Ft(this)},"~run"(r,i){return typeof r.value=="string"?r.typed=!0:Pt(this,"type",r,i),r}}}function Zh(e){let r;if(e)for(const i of e)r?r.push(...i.issues):r=i.issues;return r}function vo(e,r){return{kind:"schema",type:"union",reference:vo,expects:ol(e.map(i=>i.expects),"|"),async:!1,options:e,message:r,get"~standard"(){return Ft(this)},"~run"(i,s){let l,f,c;for(const p of this.options){const m=p["~run"]({value:i.value},s);if(m.typed)if(m.issues)f?f.push(m):f=[m];else{l=m;break}else c?c.push(m):c=[m]}if(l)return l;if(f){if(f.length===1)return f[0];Pt(this,"type",i,s,{issues:Zh(f)}),i.typed=!0}else{if((c==null?void 0:c.length)===1)return c[0];Pt(this,"type",i,s,{issues:Zh(c)})}return i}}}function m0(){return{kind:"schema",type:"unknown",reference:m0,expects:"unknown",async:!1,get"~standard"(){return Ft(this)},"~run"(e){return e.typed=!0,e}}}function Yc(e,r,i){return{kind:"schema",type:"variant",reference:Yc,expects:"Object",async:!1,key:e,options:r,message:i,get"~standard"(){return Ft(this)},"~run"(s,l){const f=s.value;if(f&&typeof f=="object"){let c,p=0,m=this.key,w=[];const g=(v,_)=>{for(const I of v.options){if(I.type==="variant")g(I,new Set(_).add(I.key));else{let C=!0,N=0;for(const B of _){const Y=I.entries[B];if(B in f?Y["~run"]({typed:!1,value:f[B]},{abortEarly:!0}).issues:Y.type!=="exact_optional"&&Y.type!=="optional"&&Y.type!=="nullish"){C=!1,m!==B&&(p<N||p===N&&B in f&&!(m in f))&&(p=N,m=B,w=[]),m===B&&w.push(I.entries[B].expects);break}N++}if(C){const B=I["~run"]({value:f},l);(!c||!c.typed&&B.typed)&&(c=B)}}if(c&&!c.issues)break}};if(g(this,new Set([this.key])),c)return c;Pt(this,"type",s,l,{input:f[m],expected:ol(w,"|"),path:[{type:"object",origin:"value",input:f,key:m,value:f[m]}]})}else Pt(this,"type",s,l);return s}}}function Jh(e,r){const i={...e.entries};for(const s of r)delete i[s];return{...e,entries:i,get"~standard"(){return Ft(this)}}}function Rc(...e){return{...e[0],pipe:e,get"~standard"(){return Ft(this)},"~run"(r,i){for(const s of e)if(s.kind!=="metadata"){if(r.issues&&(s.kind==="schema"||s.kind==="transformation")){r.typed=!1;break}(!r.issues||!i.abortEarly&&!i.abortPipeEarly)&&(r=s["~run"](r,i))}return r}}}function lw(e){return e.wrapped}var Bi={},Pr={},Tn={},ls={},ep;function w0(){if(ep)return ls;ep=1,ls.byteLength=p,ls.toByteArray=w,ls.fromByteArray=_;for(var e=[],r=[],i=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,f=s.length;l<f;++l)e[l]=s[l],r[s.charCodeAt(l)]=l;r[45]=62,r[95]=63;function c(I){var C=I.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=I.indexOf("=");N===-1&&(N=C);var B=N===C?0:4-N%4;return[N,B]}function p(I){var C=c(I),N=C[0],B=C[1];return(N+B)*3/4-B}function m(I,C,N){return(C+N)*3/4-N}function w(I){var C,N=c(I),B=N[0],Y=N[1],X=new i(m(I,B,Y)),L=0,$=Y>0?B-4:B,V;for(V=0;V<$;V+=4)C=r[I.charCodeAt(V)]<<18|r[I.charCodeAt(V+1)]<<12|r[I.charCodeAt(V+2)]<<6|r[I.charCodeAt(V+3)],X[L++]=C>>16&255,X[L++]=C>>8&255,X[L++]=C&255;return Y===2&&(C=r[I.charCodeAt(V)]<<2|r[I.charCodeAt(V+1)]>>4,X[L++]=C&255),Y===1&&(C=r[I.charCodeAt(V)]<<10|r[I.charCodeAt(V+1)]<<4|r[I.charCodeAt(V+2)]>>2,X[L++]=C>>8&255,X[L++]=C&255),X}function g(I){return e[I>>18&63]+e[I>>12&63]+e[I>>6&63]+e[I&63]}function v(I,C,N){for(var B,Y=[],X=C;X<N;X+=3)B=(I[X]<<16&16711680)+(I[X+1]<<8&65280)+(I[X+2]&255),Y.push(g(B));return Y.join("")}function _(I){for(var C,N=I.length,B=N%3,Y=[],X=16383,L=0,$=N-B;L<$;L+=X)Y.push(v(I,L,L+X>$?$:L+X));return B===1?(C=I[N-1],Y.push(e[C>>2]+e[C<<4&63]+"==")):B===2&&(C=(I[N-2]<<8)+I[N-1],Y.push(e[C>>10]+e[C>>4&63]+e[C<<2&63]+"=")),Y.join("")}return ls}var tp;function ul(){if(tp)return Tn;tp=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.decode=Tn.encode=Tn.unescape=Tn.escape=Tn.pad=void 0;const e=w0();function r(c){return`${c}${"=".repeat(4-(c.length%4||4))}`}Tn.pad=r;function i(c){return c.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}Tn.escape=i;function s(c){return r(c).replace(/-/g,"+").replace(/_/g,"/")}Tn.unescape=s;function l(c){return i((0,e.fromByteArray)(new TextEncoder().encode(c)))}Tn.encode=l;function f(c){return new TextDecoder().decode((0,e.toByteArray)(r(s(c))))}return Tn.decode=f,Tn}var dc={},as={},hc={},pc={},cs={},np;function aw(){return np||(np=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.crypto=void 0,cs.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),cs}var rp;function ll(){return rp||(rp=1,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.Hash=e.nextTick=e.swap32IfBE=e.byteSwapIfBE=e.swap8IfBE=e.isLE=void 0,e.isBytes=i,e.anumber=s,e.abytes=l,e.ahash=f,e.aexists=c,e.aoutput=p,e.u8=m,e.u32=w,e.clean=g,e.createView=v,e.rotr=_,e.rotl=I,e.byteSwap=C,e.byteSwap32=N,e.bytesToHex=X,e.hexToBytes=V,e.asyncLoop=me,e.utf8ToBytes=ye,e.bytesToUtf8=ie,e.toBytes=Q,e.kdfInputToBytes=se,e.concatBytes=Be,e.checkOpts=ge,e.createHasher=Me,e.createOptHasher=ce,e.createXOFer=Pe,e.randomBytes=oe;const r=aw();function i(O){return O instanceof Uint8Array||ArrayBuffer.isView(O)&&O.constructor.name==="Uint8Array"}function s(O){if(!Number.isSafeInteger(O)||O<0)throw new Error("positive integer expected, got "+O)}function l(O,...M){if(!i(O))throw new Error("Uint8Array expected");if(M.length>0&&!M.includes(O.length))throw new Error("Uint8Array expected of length "+M+", got length="+O.length)}function f(O){if(typeof O!="function"||typeof O.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");s(O.outputLen),s(O.blockLen)}function c(O,M=!0){if(O.destroyed)throw new Error("Hash instance has been destroyed");if(M&&O.finished)throw new Error("Hash#digest() has already been called")}function p(O,M){l(O);const b=M.outputLen;if(O.length<b)throw new Error("digestInto() expects output buffer of length at least "+b)}function m(O){return new Uint8Array(O.buffer,O.byteOffset,O.byteLength)}function w(O){return new Uint32Array(O.buffer,O.byteOffset,Math.floor(O.byteLength/4))}function g(...O){for(let M=0;M<O.length;M++)O[M].fill(0)}function v(O){return new DataView(O.buffer,O.byteOffset,O.byteLength)}function _(O,M){return O<<32-M|O>>>M}function I(O,M){return O<<M|O>>>32-M>>>0}e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function C(O){return O<<24&4278190080|O<<8&16711680|O>>>8&65280|O>>>24&255}e.swap8IfBE=e.isLE?O=>O:O=>C(O),e.byteSwapIfBE=e.swap8IfBE;function N(O){for(let M=0;M<O.length;M++)O[M]=C(O[M]);return O}e.swap32IfBE=e.isLE?O=>O:N;const B=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Y=Array.from({length:256},(O,M)=>M.toString(16).padStart(2,"0"));function X(O){if(l(O),B)return O.toHex();let M="";for(let b=0;b<O.length;b++)M+=Y[O[b]];return M}const L={_0:48,_9:57,A:65,F:70,a:97,f:102};function $(O){if(O>=L._0&&O<=L._9)return O-L._0;if(O>=L.A&&O<=L.F)return O-(L.A-10);if(O>=L.a&&O<=L.f)return O-(L.a-10)}function V(O){if(typeof O!="string")throw new Error("hex string expected, got "+typeof O);if(B)return Uint8Array.fromHex(O);const M=O.length,b=M/2;if(M%2)throw new Error("hex string expected, got unpadded hex of length "+M);const G=new Uint8Array(b);for(let we=0,de=0;we<b;we++,de+=2){const xe=$(O.charCodeAt(de)),Re=$(O.charCodeAt(de+1));if(xe===void 0||Re===void 0){const ee=O[de]+O[de+1];throw new Error('hex string expected, got non-hex character "'+ee+'" at index '+de)}G[we]=xe*16+Re}return G}const z=async()=>{};e.nextTick=z;async function me(O,M,b){let G=Date.now();for(let we=0;we<O;we++){b(we);const de=Date.now()-G;de>=0&&de<M||(await(0,e.nextTick)(),G+=de)}}function ye(O){if(typeof O!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(O))}function ie(O){return new TextDecoder().decode(O)}function Q(O){return typeof O=="string"&&(O=ye(O)),l(O),O}function se(O){return typeof O=="string"&&(O=ye(O)),l(O),O}function Be(...O){let M=0;for(let G=0;G<O.length;G++){const we=O[G];l(we),M+=we.length}const b=new Uint8Array(M);for(let G=0,we=0;G<O.length;G++){const de=O[G];b.set(de,we),we+=de.length}return b}function ge(O,M){if(M!==void 0&&{}.toString.call(M)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(O,M)}class Ie{}e.Hash=Ie;function Me(O){const M=G=>O().update(Q(G)).digest(),b=O();return M.outputLen=b.outputLen,M.blockLen=b.blockLen,M.create=()=>O(),M}function ce(O){const M=(G,we)=>O(we).update(Q(G)).digest(),b=O({});return M.outputLen=b.outputLen,M.blockLen=b.blockLen,M.create=G=>O(G),M}function Pe(O){const M=(G,we)=>O(we).update(Q(G)).digest(),b=O({});return M.outputLen=b.outputLen,M.blockLen=b.blockLen,M.create=G=>O(G),M}e.wrapConstructor=Me,e.wrapConstructorWithOpts=ce,e.wrapXOFConstructorWithOpts=Pe;function oe(O=32){if(r.crypto&&typeof r.crypto.getRandomValues=="function")return r.crypto.getRandomValues(new Uint8Array(O));if(r.crypto&&typeof r.crypto.randomBytes=="function")return Uint8Array.from(r.crypto.randomBytes(O));throw new Error("crypto.getRandomValues must be defined")}}(pc)),pc}var ip;function cw(){return ip||(ip=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const r=ll();class i extends r.Hash{constructor(f,c){super(),this.finished=!1,this.destroyed=!1,(0,r.ahash)(f);const p=(0,r.toBytes)(c);if(this.iHash=f.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const m=this.blockLen,w=new Uint8Array(m);w.set(p.length>m?f.create().update(p).digest():p);for(let g=0;g<w.length;g++)w[g]^=54;this.iHash.update(w),this.oHash=f.create();for(let g=0;g<w.length;g++)w[g]^=106;this.oHash.update(w),(0,r.clean)(w)}update(f){return(0,r.aexists)(this),this.iHash.update(f),this}digestInto(f){(0,r.aexists)(this),(0,r.abytes)(f,this.outputLen),this.finished=!0,this.iHash.digestInto(f),this.oHash.update(f),this.oHash.digestInto(f),this.destroy()}digest(){const f=new Uint8Array(this.oHash.outputLen);return this.digestInto(f),f}_cloneInto(f){f||(f=Object.create(Object.getPrototypeOf(this),{}));const{oHash:c,iHash:p,finished:m,destroyed:w,blockLen:g,outputLen:v}=this;return f=f,f.finished=m,f.destroyed=w,f.blockLen=g,f.outputLen=v,f.oHash=c._cloneInto(f.oHash),f.iHash=p._cloneInto(f.iHash),f}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=i;const s=(l,f,c)=>new i(l,f).update(c).digest();e.hmac=s,e.hmac.create=(l,f)=>new i(l,f)}(hc)),hc}var Zn={},lt={},Zt={},op;function fw(){if(op)return Zt;op=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.SHA512_IV=Zt.SHA384_IV=Zt.SHA224_IV=Zt.SHA256_IV=Zt.HashMD=void 0,Zt.setBigUint64=r,Zt.Chi=i,Zt.Maj=s;const e=ll();function r(f,c,p,m){if(typeof f.setBigUint64=="function")return f.setBigUint64(c,p,m);const w=BigInt(32),g=BigInt(4294967295),v=Number(p>>w&g),_=Number(p&g),I=m?4:0,C=m?0:4;f.setUint32(c+I,v,m),f.setUint32(c+C,_,m)}function i(f,c,p){return f&c^~f&p}function s(f,c,p){return f&c^f&p^c&p}class l extends e.Hash{constructor(c,p,m,w){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=c,this.outputLen=p,this.padOffset=m,this.isLE=w,this.buffer=new Uint8Array(c),this.view=(0,e.createView)(this.buffer)}update(c){(0,e.aexists)(this),c=(0,e.toBytes)(c),(0,e.abytes)(c);const{view:p,buffer:m,blockLen:w}=this,g=c.length;for(let v=0;v<g;){const _=Math.min(w-this.pos,g-v);if(_===w){const I=(0,e.createView)(c);for(;w<=g-v;v+=w)this.process(I,v);continue}m.set(c.subarray(v,v+_),this.pos),this.pos+=_,v+=_,this.pos===w&&(this.process(p,0),this.pos=0)}return this.length+=c.length,this.roundClean(),this}digestInto(c){(0,e.aexists)(this),(0,e.aoutput)(c,this),this.finished=!0;const{buffer:p,view:m,blockLen:w,isLE:g}=this;let{pos:v}=this;p[v++]=128,(0,e.clean)(this.buffer.subarray(v)),this.padOffset>w-v&&(this.process(m,0),v=0);for(let B=v;B<w;B++)p[B]=0;r(m,w-8,BigInt(this.length*8),g),this.process(m,0);const _=(0,e.createView)(c),I=this.outputLen;if(I%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const C=I/4,N=this.get();if(C>N.length)throw new Error("_sha2: outputLen bigger than state");for(let B=0;B<C;B++)_.setUint32(4*B,N[B],g)}digest(){const{buffer:c,outputLen:p}=this;this.digestInto(c);const m=c.slice(0,p);return this.destroy(),m}_cloneInto(c){c||(c=new this.constructor),c.set(...this.get());const{blockLen:p,buffer:m,length:w,finished:g,destroyed:v,pos:_}=this;return c.destroyed=v,c.finished=g,c.length=w,c.pos=_,w%p&&c.buffer.set(m),c}clone(){return this._cloneInto()}}return Zt.HashMD=l,Zt.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zt.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Zt.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Zt.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Zt}var Ve={},sp;function dw(){if(sp)return Ve;sp=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.toBig=Ve.shrSL=Ve.shrSH=Ve.rotrSL=Ve.rotrSH=Ve.rotrBL=Ve.rotrBH=Ve.rotr32L=Ve.rotr32H=Ve.rotlSL=Ve.rotlSH=Ve.rotlBL=Ve.rotlBH=Ve.add5L=Ve.add5H=Ve.add4L=Ve.add4H=Ve.add3L=Ve.add3H=void 0,Ve.add=Y,Ve.fromBig=i,Ve.split=s;const e=BigInt(2**32-1),r=BigInt(32);function i(ie,Q=!1){return Q?{h:Number(ie&e),l:Number(ie>>r&e)}:{h:Number(ie>>r&e)|0,l:Number(ie&e)|0}}function s(ie,Q=!1){const se=ie.length;let Be=new Uint32Array(se),ge=new Uint32Array(se);for(let Ie=0;Ie<se;Ie++){const{h:Me,l:ce}=i(ie[Ie],Q);[Be[Ie],ge[Ie]]=[Me,ce]}return[Be,ge]}const l=(ie,Q)=>BigInt(ie>>>0)<<r|BigInt(Q>>>0);Ve.toBig=l;const f=(ie,Q,se)=>ie>>>se;Ve.shrSH=f;const c=(ie,Q,se)=>ie<<32-se|Q>>>se;Ve.shrSL=c;const p=(ie,Q,se)=>ie>>>se|Q<<32-se;Ve.rotrSH=p;const m=(ie,Q,se)=>ie<<32-se|Q>>>se;Ve.rotrSL=m;const w=(ie,Q,se)=>ie<<64-se|Q>>>se-32;Ve.rotrBH=w;const g=(ie,Q,se)=>ie>>>se-32|Q<<64-se;Ve.rotrBL=g;const v=(ie,Q)=>Q;Ve.rotr32H=v;const _=(ie,Q)=>ie;Ve.rotr32L=_;const I=(ie,Q,se)=>ie<<se|Q>>>32-se;Ve.rotlSH=I;const C=(ie,Q,se)=>Q<<se|ie>>>32-se;Ve.rotlSL=C;const N=(ie,Q,se)=>Q<<se-32|ie>>>64-se;Ve.rotlBH=N;const B=(ie,Q,se)=>ie<<se-32|Q>>>64-se;Ve.rotlBL=B;function Y(ie,Q,se,Be){const ge=(Q>>>0)+(Be>>>0);return{h:ie+se+(ge/2**32|0)|0,l:ge|0}}const X=(ie,Q,se)=>(ie>>>0)+(Q>>>0)+(se>>>0);Ve.add3L=X;const L=(ie,Q,se,Be)=>Q+se+Be+(ie/2**32|0)|0;Ve.add3H=L;const $=(ie,Q,se,Be)=>(ie>>>0)+(Q>>>0)+(se>>>0)+(Be>>>0);Ve.add4L=$;const V=(ie,Q,se,Be,ge)=>Q+se+Be+ge+(ie/2**32|0)|0;Ve.add4H=V;const z=(ie,Q,se,Be,ge)=>(ie>>>0)+(Q>>>0)+(se>>>0)+(Be>>>0)+(ge>>>0);Ve.add5L=z;const me=(ie,Q,se,Be,ge,Ie)=>Q+se+Be+ge+Ie+(ie/2**32|0)|0;Ve.add5H=me;const ye={fromBig:i,split:s,toBig:l,shrSH:f,shrSL:c,rotrSH:p,rotrSL:m,rotrBH:w,rotrBL:g,rotr32H:v,rotr32L:_,rotlSH:I,rotlSL:C,rotlBH:N,rotlBL:B,add:Y,add3L:X,add3H:L,add4L:$,add4H:V,add5H:me,add5L:z};return Ve.default=ye,Ve}var up;function hw(){if(up)return lt;up=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.sha512_224=lt.sha512_256=lt.sha384=lt.sha512=lt.sha224=lt.sha256=lt.SHA512_256=lt.SHA512_224=lt.SHA384=lt.SHA512=lt.SHA224=lt.SHA256=void 0;const e=fw(),r=dw(),i=ll(),s=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l=new Uint32Array(64);class f extends e.HashMD{constructor(L=32){super(64,L,8,!1),this.A=e.SHA256_IV[0]|0,this.B=e.SHA256_IV[1]|0,this.C=e.SHA256_IV[2]|0,this.D=e.SHA256_IV[3]|0,this.E=e.SHA256_IV[4]|0,this.F=e.SHA256_IV[5]|0,this.G=e.SHA256_IV[6]|0,this.H=e.SHA256_IV[7]|0}get(){const{A:L,B:$,C:V,D:z,E:me,F:ye,G:ie,H:Q}=this;return[L,$,V,z,me,ye,ie,Q]}set(L,$,V,z,me,ye,ie,Q){this.A=L|0,this.B=$|0,this.C=V|0,this.D=z|0,this.E=me|0,this.F=ye|0,this.G=ie|0,this.H=Q|0}process(L,$){for(let ge=0;ge<16;ge++,$+=4)l[ge]=L.getUint32($,!1);for(let ge=16;ge<64;ge++){const Ie=l[ge-15],Me=l[ge-2],ce=(0,i.rotr)(Ie,7)^(0,i.rotr)(Ie,18)^Ie>>>3,Pe=(0,i.rotr)(Me,17)^(0,i.rotr)(Me,19)^Me>>>10;l[ge]=Pe+l[ge-7]+ce+l[ge-16]|0}let{A:V,B:z,C:me,D:ye,E:ie,F:Q,G:se,H:Be}=this;for(let ge=0;ge<64;ge++){const Ie=(0,i.rotr)(ie,6)^(0,i.rotr)(ie,11)^(0,i.rotr)(ie,25),Me=Be+Ie+(0,e.Chi)(ie,Q,se)+s[ge]+l[ge]|0,Pe=((0,i.rotr)(V,2)^(0,i.rotr)(V,13)^(0,i.rotr)(V,22))+(0,e.Maj)(V,z,me)|0;Be=se,se=Q,Q=ie,ie=ye+Me|0,ye=me,me=z,z=V,V=Me+Pe|0}V=V+this.A|0,z=z+this.B|0,me=me+this.C|0,ye=ye+this.D|0,ie=ie+this.E|0,Q=Q+this.F|0,se=se+this.G|0,Be=Be+this.H|0,this.set(V,z,me,ye,ie,Q,se,Be)}roundClean(){(0,i.clean)(l)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,i.clean)(this.buffer)}}lt.SHA256=f;class c extends f{constructor(){super(28),this.A=e.SHA224_IV[0]|0,this.B=e.SHA224_IV[1]|0,this.C=e.SHA224_IV[2]|0,this.D=e.SHA224_IV[3]|0,this.E=e.SHA224_IV[4]|0,this.F=e.SHA224_IV[5]|0,this.G=e.SHA224_IV[6]|0,this.H=e.SHA224_IV[7]|0}}lt.SHA224=c;const p=r.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(X=>BigInt(X))),m=p[0],w=p[1],g=new Uint32Array(80),v=new Uint32Array(80);class _ extends e.HashMD{constructor(L=64){super(128,L,16,!1),this.Ah=e.SHA512_IV[0]|0,this.Al=e.SHA512_IV[1]|0,this.Bh=e.SHA512_IV[2]|0,this.Bl=e.SHA512_IV[3]|0,this.Ch=e.SHA512_IV[4]|0,this.Cl=e.SHA512_IV[5]|0,this.Dh=e.SHA512_IV[6]|0,this.Dl=e.SHA512_IV[7]|0,this.Eh=e.SHA512_IV[8]|0,this.El=e.SHA512_IV[9]|0,this.Fh=e.SHA512_IV[10]|0,this.Fl=e.SHA512_IV[11]|0,this.Gh=e.SHA512_IV[12]|0,this.Gl=e.SHA512_IV[13]|0,this.Hh=e.SHA512_IV[14]|0,this.Hl=e.SHA512_IV[15]|0}get(){const{Ah:L,Al:$,Bh:V,Bl:z,Ch:me,Cl:ye,Dh:ie,Dl:Q,Eh:se,El:Be,Fh:ge,Fl:Ie,Gh:Me,Gl:ce,Hh:Pe,Hl:oe}=this;return[L,$,V,z,me,ye,ie,Q,se,Be,ge,Ie,Me,ce,Pe,oe]}set(L,$,V,z,me,ye,ie,Q,se,Be,ge,Ie,Me,ce,Pe,oe){this.Ah=L|0,this.Al=$|0,this.Bh=V|0,this.Bl=z|0,this.Ch=me|0,this.Cl=ye|0,this.Dh=ie|0,this.Dl=Q|0,this.Eh=se|0,this.El=Be|0,this.Fh=ge|0,this.Fl=Ie|0,this.Gh=Me|0,this.Gl=ce|0,this.Hh=Pe|0,this.Hl=oe|0}process(L,$){for(let b=0;b<16;b++,$+=4)g[b]=L.getUint32($),v[b]=L.getUint32($+=4);for(let b=16;b<80;b++){const G=g[b-15]|0,we=v[b-15]|0,de=r.rotrSH(G,we,1)^r.rotrSH(G,we,8)^r.shrSH(G,we,7),xe=r.rotrSL(G,we,1)^r.rotrSL(G,we,8)^r.shrSL(G,we,7),Re=g[b-2]|0,ee=v[b-2]|0,Le=r.rotrSH(Re,ee,19)^r.rotrBH(Re,ee,61)^r.shrSH(Re,ee,6),Qe=r.rotrSL(Re,ee,19)^r.rotrBL(Re,ee,61)^r.shrSL(Re,ee,6),ot=r.add4L(xe,Qe,v[b-7],v[b-16]),Mt=r.add4H(ot,de,Le,g[b-7],g[b-16]);g[b]=Mt|0,v[b]=ot|0}let{Ah:V,Al:z,Bh:me,Bl:ye,Ch:ie,Cl:Q,Dh:se,Dl:Be,Eh:ge,El:Ie,Fh:Me,Fl:ce,Gh:Pe,Gl:oe,Hh:O,Hl:M}=this;for(let b=0;b<80;b++){const G=r.rotrSH(ge,Ie,14)^r.rotrSH(ge,Ie,18)^r.rotrBH(ge,Ie,41),we=r.rotrSL(ge,Ie,14)^r.rotrSL(ge,Ie,18)^r.rotrBL(ge,Ie,41),de=ge&Me^~ge&Pe,xe=Ie&ce^~Ie&oe,Re=r.add5L(M,we,xe,w[b],v[b]),ee=r.add5H(Re,O,G,de,m[b],g[b]),Le=Re|0,Qe=r.rotrSH(V,z,28)^r.rotrBH(V,z,34)^r.rotrBH(V,z,39),ot=r.rotrSL(V,z,28)^r.rotrBL(V,z,34)^r.rotrBL(V,z,39),Mt=V&me^V&ie^me&ie,nr=z&ye^z&Q^ye&Q;O=Pe|0,M=oe|0,Pe=Me|0,oe=ce|0,Me=ge|0,ce=Ie|0,{h:ge,l:Ie}=r.add(se|0,Be|0,ee|0,Le|0),se=ie|0,Be=Q|0,ie=me|0,Q=ye|0,me=V|0,ye=z|0;const an=r.add3L(Le,ot,nr);V=r.add3H(an,ee,Qe,Mt),z=an|0}({h:V,l:z}=r.add(this.Ah|0,this.Al|0,V|0,z|0)),{h:me,l:ye}=r.add(this.Bh|0,this.Bl|0,me|0,ye|0),{h:ie,l:Q}=r.add(this.Ch|0,this.Cl|0,ie|0,Q|0),{h:se,l:Be}=r.add(this.Dh|0,this.Dl|0,se|0,Be|0),{h:ge,l:Ie}=r.add(this.Eh|0,this.El|0,ge|0,Ie|0),{h:Me,l:ce}=r.add(this.Fh|0,this.Fl|0,Me|0,ce|0),{h:Pe,l:oe}=r.add(this.Gh|0,this.Gl|0,Pe|0,oe|0),{h:O,l:M}=r.add(this.Hh|0,this.Hl|0,O|0,M|0),this.set(V,z,me,ye,ie,Q,se,Be,ge,Ie,Me,ce,Pe,oe,O,M)}roundClean(){(0,i.clean)(g,v)}destroy(){(0,i.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}lt.SHA512=_;class I extends _{constructor(){super(48),this.Ah=e.SHA384_IV[0]|0,this.Al=e.SHA384_IV[1]|0,this.Bh=e.SHA384_IV[2]|0,this.Bl=e.SHA384_IV[3]|0,this.Ch=e.SHA384_IV[4]|0,this.Cl=e.SHA384_IV[5]|0,this.Dh=e.SHA384_IV[6]|0,this.Dl=e.SHA384_IV[7]|0,this.Eh=e.SHA384_IV[8]|0,this.El=e.SHA384_IV[9]|0,this.Fh=e.SHA384_IV[10]|0,this.Fl=e.SHA384_IV[11]|0,this.Gh=e.SHA384_IV[12]|0,this.Gl=e.SHA384_IV[13]|0,this.Hh=e.SHA384_IV[14]|0,this.Hl=e.SHA384_IV[15]|0}}lt.SHA384=I;const C=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),N=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class B extends _{constructor(){super(28),this.Ah=C[0]|0,this.Al=C[1]|0,this.Bh=C[2]|0,this.Bl=C[3]|0,this.Ch=C[4]|0,this.Cl=C[5]|0,this.Dh=C[6]|0,this.Dl=C[7]|0,this.Eh=C[8]|0,this.El=C[9]|0,this.Fh=C[10]|0,this.Fl=C[11]|0,this.Gh=C[12]|0,this.Gl=C[13]|0,this.Hh=C[14]|0,this.Hl=C[15]|0}}lt.SHA512_224=B;class Y extends _{constructor(){super(32),this.Ah=N[0]|0,this.Al=N[1]|0,this.Bh=N[2]|0,this.Bl=N[3]|0,this.Ch=N[4]|0,this.Cl=N[5]|0,this.Dh=N[6]|0,this.Dl=N[7]|0,this.Eh=N[8]|0,this.El=N[9]|0,this.Fh=N[10]|0,this.Fl=N[11]|0,this.Gh=N[12]|0,this.Gl=N[13]|0,this.Hh=N[14]|0,this.Hl=N[15]|0}}return lt.SHA512_256=Y,lt.sha256=(0,i.createHasher)(()=>new f),lt.sha224=(0,i.createHasher)(()=>new c),lt.sha512=(0,i.createHasher)(()=>new _),lt.sha384=(0,i.createHasher)(()=>new I),lt.sha512_256=(0,i.createHasher)(()=>new Y),lt.sha512_224=(0,i.createHasher)(()=>new B),lt}var lp;function v0(){if(lp)return Zn;lp=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.sha224=Zn.SHA224=Zn.sha256=Zn.SHA256=void 0;const e=hw();return Zn.SHA256=e.SHA256,Zn.sha256=e.sha256,Zn.SHA224=e.SHA224,Zn.sha224=e.sha224,Zn}var yc={};const pw={},yw=Object.freeze(Object.defineProperty({__proto__:null,default:pw},Symbol.toStringTag,{value:"Module"})),E0=Um(yw);var ap;function gw(){return ap||(ap=1,function(e){/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.schnorr=e.verify=e.signSync=e.sign=e.getSharedSecret=e.recoverPublicKey=e.getPublicKey=e.hexToBytes=e.bytesToHex=e.Signature=e.Point=e.CURVE=void 0;const r=E0,i=BigInt(0),s=BigInt(1),l=BigInt(2),f=BigInt(3),c=BigInt(8),p=Object.freeze({a:i,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:s,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});e.CURVE=p;const m=(T,x)=>(T+x/l)/x,w={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(T){const{n:x}=p,P=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),F=-s*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),q=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),te=P,he=BigInt("0x100000000000000000000000000000000"),pe=m(te*T,x),be=m(-F*T,x);let Ne=ee(T-pe*P-be*q,x),ze=ee(-pe*F-be*te,x);const qe=Ne>he,Ke=ze>he;if(qe&&(Ne=x-Ne),Ke&&(ze=x-ze),Ne>he||ze>he)throw new Error("splitScalarEndo: Endomorphism failed, k="+T);return{k1neg:qe,k1:Ne,k2neg:Ke,k2:ze}}},g=32,v=32,_=32,I=g+1,C=2*g+1;function N(T){const{a:x,b:P}=p,F=ee(T*T),q=ee(F*T);return ee(q+x*T+P)}const B=p.a===i;class Y extends Error{constructor(x){super(x)}}function X(T){if(!(T instanceof L))throw new TypeError("JacobianPoint expected")}class L{constructor(x,P,F){this.x=x,this.y=P,this.z=F}static fromAffine(x){if(!(x instanceof z))throw new TypeError("JacobianPoint#fromAffine: expected Point");return x.equals(z.ZERO)?L.ZERO:new L(x.x,x.y,s)}static toAffineBatch(x){const P=Mt(x.map(F=>F.z));return x.map((F,q)=>F.toAffine(P[q]))}static normalizeZ(x){return L.toAffineBatch(x).map(L.fromAffine)}equals(x){X(x);const{x:P,y:F,z:q}=this,{x:te,y:he,z:pe}=x,be=ee(q*q),Ne=ee(pe*pe),ze=ee(P*Ne),qe=ee(te*be),Ke=ee(ee(F*pe)*Ne),Et=ee(ee(he*q)*be);return ze===qe&&Ke===Et}negate(){return new L(this.x,ee(-this.y),this.z)}double(){const{x,y:P,z:F}=this,q=ee(x*x),te=ee(P*P),he=ee(te*te),pe=x+te,be=ee(l*(ee(pe*pe)-q-he)),Ne=ee(f*q),ze=ee(Ne*Ne),qe=ee(ze-l*be),Ke=ee(Ne*(be-qe)-c*he),Et=ee(l*P*F);return new L(qe,Ke,Et)}add(x){X(x);const{x:P,y:F,z:q}=this,{x:te,y:he,z:pe}=x;if(te===i||he===i)return this;if(P===i||F===i)return x;const be=ee(q*q),Ne=ee(pe*pe),ze=ee(P*Ne),qe=ee(te*be),Ke=ee(ee(F*pe)*Ne),Et=ee(ee(he*q)*be),pt=ee(qe-ze),Sn=ee(Et-Ke);if(pt===i)return Sn===i?this.double():L.ZERO;const mr=ee(pt*pt),wr=ee(pt*mr),vr=ee(ze*mr),vi=ee(Sn*Sn-wr-l*vr),To=ee(Sn*(vr-vi)-Ke*wr),Ei=ee(q*pe*pt);return new L(vi,To,Ei)}subtract(x){return this.add(x.negate())}multiplyUnsafe(x){const P=L.ZERO;if(typeof x=="bigint"&&x===i)return P;let F=Re(x);if(F===s)return this;if(!B){let qe=P,Ke=this;for(;F>i;)F&s&&(qe=qe.add(Ke)),Ke=Ke.double(),F>>=s;return qe}let{k1neg:q,k1:te,k2neg:he,k2:pe}=w.splitScalar(F),be=P,Ne=P,ze=this;for(;te>i||pe>i;)te&s&&(be=be.add(ze)),pe&s&&(Ne=Ne.add(ze)),ze=ze.double(),te>>=s,pe>>=s;return q&&(be=be.negate()),he&&(Ne=Ne.negate()),Ne=new L(ee(Ne.x*w.beta),Ne.y,Ne.z),be.add(Ne)}precomputeWindow(x){const P=B?128/x+1:256/x+1,F=[];let q=this,te=q;for(let he=0;he<P;he++){te=q,F.push(te);for(let pe=1;pe<2**(x-1);pe++)te=te.add(q),F.push(te);q=te.double()}return F}wNAF(x,P){!P&&this.equals(L.BASE)&&(P=z.BASE);const F=P&&P._WINDOW_SIZE||1;if(256%F)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let q=P&&V.get(P);q||(q=this.precomputeWindow(F),P&&F!==1&&(q=L.normalizeZ(q),V.set(P,q)));let te=L.ZERO,he=L.BASE;const pe=1+(B?128/F:256/F),be=2**(F-1),Ne=BigInt(2**F-1),ze=2**F,qe=BigInt(F);for(let Ke=0;Ke<pe;Ke++){const Et=Ke*be;let pt=Number(x&Ne);x>>=qe,pt>be&&(pt-=ze,x+=s);const Sn=Et,mr=Et+Math.abs(pt)-1,wr=Ke%2!==0,vr=pt<0;pt===0?he=he.add($(wr,q[Sn])):te=te.add($(vr,q[mr]))}return{p:te,f:he}}multiply(x,P){let F=Re(x),q,te;if(B){const{k1neg:he,k1:pe,k2neg:be,k2:Ne}=w.splitScalar(F);let{p:ze,f:qe}=this.wNAF(pe,P),{p:Ke,f:Et}=this.wNAF(Ne,P);ze=$(he,ze),Ke=$(be,Ke),Ke=new L(ee(Ke.x*w.beta),Ke.y,Ke.z),q=ze.add(Ke),te=qe.add(Et)}else{const{p:he,f:pe}=this.wNAF(F,P);q=he,te=pe}return L.normalizeZ([q,te])[0]}toAffine(x){const{x:P,y:F,z:q}=this,te=this.equals(L.ZERO);x==null&&(x=te?c:ot(q));const he=x,pe=ee(he*he),be=ee(pe*he),Ne=ee(P*pe),ze=ee(F*be),qe=ee(q*he);if(te)return z.ZERO;if(qe!==s)throw new Error("invZ was invalid");return new z(Ne,ze)}}L.BASE=new L(p.Gx,p.Gy,s),L.ZERO=new L(i,s,i);function $(T,x){const P=x.negate();return T?P:x}const V=new WeakMap;class z{constructor(x,P){this.x=x,this.y=P}_setWindowSize(x){this._WINDOW_SIZE=x,V.delete(this)}hasEvenY(){return this.y%l===i}static fromCompressedHex(x){const P=x.length===32,F=de(P?x:x.subarray(1));if(!pr(F))throw new Error("Point is not on curve");const q=N(F);let te=Qe(q);const he=(te&s)===s;P?he&&(te=ee(-te)):(x[0]&1)===1!==he&&(te=ee(-te));const pe=new z(F,te);return pe.assertValidity(),pe}static fromUncompressedHex(x){const P=de(x.subarray(1,g+1)),F=de(x.subarray(g+1,g*2+1)),q=new z(P,F);return q.assertValidity(),q}static fromHex(x){const P=xe(x),F=P.length,q=P[0];if(F===g)return this.fromCompressedHex(P);if(F===I&&(q===2||q===3))return this.fromCompressedHex(P);if(F===C&&q===4)return this.fromUncompressedHex(P);throw new Error(`Point.fromHex: received invalid point. Expected 32-${I} compressed bytes or ${C} uncompressed bytes, not ${F}`)}static fromPrivateKey(x){return z.BASE.multiply(Dt(x))}static fromSignature(x,P,F){const{r:q,s:te}=jr(P);if(![0,1,2,3].includes(F))throw new Error("Cannot recover: invalid recovery bit");const he=an(xe(x)),{n:pe}=p,be=F===2||F===3?q+pe:q,Ne=ot(be,pe),ze=ee(-he*Ne,pe),qe=ee(te*Ne,pe),Ke=F&1?"03":"02",Et=z.fromHex(Ke+M(be)),pt=z.BASE.multiplyAndAddUnsafe(Et,ze,qe);if(!pt)throw new Error("Cannot recover signature: point at infinify");return pt.assertValidity(),pt}toRawBytes(x=!1){return oe(this.toHex(x))}toHex(x=!1){const P=M(this.x);return x?`${this.hasEvenY()?"02":"03"}${P}`:`04${P}${M(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const x="Point is not on elliptic curve",{x:P,y:F}=this;if(!pr(P)||!pr(F))throw new Error(x);const q=ee(F*F),te=N(P);if(ee(q-te)!==i)throw new Error(x)}equals(x){return this.x===x.x&&this.y===x.y}negate(){return new z(this.x,ee(-this.y))}double(){return L.fromAffine(this).double().toAffine()}add(x){return L.fromAffine(this).add(L.fromAffine(x)).toAffine()}subtract(x){return this.add(x.negate())}multiply(x){return L.fromAffine(this).multiply(x,this).toAffine()}multiplyAndAddUnsafe(x,P,F){const q=L.fromAffine(this),te=P===i||P===s||this!==z.BASE?q.multiplyUnsafe(P):q.multiply(P),he=L.fromAffine(x).multiplyUnsafe(F),pe=te.add(he);return pe.equals(L.ZERO)?void 0:pe.toAffine()}}e.Point=z,z.BASE=new z(p.Gx,p.Gy),z.ZERO=new z(i,i);function me(T){return Number.parseInt(T[0],16)>=8?"00"+T:T}function ye(T){if(T.length<2||T[0]!==2)throw new Error(`Invalid signature integer tag: ${Me(T)}`);const x=T[1],P=T.subarray(2,x+2);if(!x||P.length!==x)throw new Error("Invalid signature integer: wrong length");if(P[0]===0&&P[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:de(P),left:T.subarray(x+2)}}function ie(T){if(T.length<2||T[0]!=48)throw new Error(`Invalid signature tag: ${Me(T)}`);if(T[1]!==T.length-2)throw new Error("Invalid signature: incorrect length");const{data:x,left:P}=ye(T.subarray(2)),{data:F,left:q}=ye(P);if(q.length)throw new Error(`Invalid signature: left bytes after parsing: ${Me(q)}`);return{r:x,s:F}}class Q{constructor(x,P){this.r=x,this.s=P,this.assertValidity()}static fromCompact(x){const P=se(x),F="Signature.fromCompact";if(typeof x!="string"&&!P)throw new TypeError(`${F}: Expected string or Uint8Array`);const q=P?Me(x):x;if(q.length!==128)throw new Error(`${F}: Expected 64-byte hex`);return new Q(we(q.slice(0,64)),we(q.slice(64,128)))}static fromDER(x){const P=se(x);if(typeof x!="string"&&!P)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:F,s:q}=ie(P?x:oe(x));return new Q(F,q)}static fromHex(x){return this.fromDER(x)}assertValidity(){const{r:x,s:P}=this;if(!Wt(x))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Wt(P))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const x=p.n>>s;return this.s>x}normalizeS(){return this.hasHighS()?new Q(this.r,ee(-this.s,p.n)):this}toDERRawBytes(){return oe(this.toDERHex())}toDERHex(){const x=me(G(this.s)),P=me(G(this.r)),F=x.length/2,q=P.length/2,te=G(F),he=G(q);return`30${G(q+F+4)}02${he}${P}02${te}${x}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return oe(this.toCompactHex())}toCompactHex(){return M(this.r)+M(this.s)}}e.Signature=Q;function se(T){return T instanceof Uint8Array||ArrayBuffer.isView(T)&&T.constructor.name==="Uint8Array"}function Be(T){if(!se(T))throw new Error("Uint8Array expected")}function ge(...T){if(T.every(Be),T.length===1)return T[0];const x=T.reduce((F,q)=>F+q.length,0),P=new Uint8Array(x);for(let F=0,q=0;F<T.length;F++){const te=T[F];P.set(te,q),q+=te.length}return P}const Ie=Array.from({length:256},(T,x)=>x.toString(16).padStart(2,"0"));function Me(T){Be(T);let x="";for(let P=0;P<T.length;P++)x+=Ie[T[P]];return x}e.bytesToHex=Me;const ce={_0:48,_9:57,A:65,F:70,a:97,f:102};function Pe(T){if(T>=ce._0&&T<=ce._9)return T-ce._0;if(T>=ce.A&&T<=ce.F)return T-(ce.A-10);if(T>=ce.a&&T<=ce.f)return T-(ce.a-10)}function oe(T){if(typeof T!="string")throw new Error("hex string expected, got "+typeof T);const x=T.length,P=x/2;if(x%2)throw new Error("hex string expected, got unpadded hex of length "+x);const F=new Uint8Array(P);for(let q=0,te=0;q<P;q++,te+=2){const he=Pe(T.charCodeAt(te)),pe=Pe(T.charCodeAt(te+1));if(he===void 0||pe===void 0){const be=T[te]+T[te+1];throw new Error('hex string expected, got non-hex character "'+be+'" at index '+te)}F[q]=he*16+pe}return F}e.hexToBytes=oe;const O=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function M(T){if(typeof T!="bigint")throw new Error("Expected bigint");if(!(i<=T&&T<O))throw new Error("Expected number 0 <= n < 2^256");return T.toString(16).padStart(64,"0")}function b(T){const x=oe(M(T));if(x.length!==32)throw new Error("Error: expected 32 bytes");return x}function G(T){const x=T.toString(16);return x.length&1?`0${x}`:x}function we(T){if(typeof T!="string")throw new TypeError("hexToNumber: expected string, got "+typeof T);return BigInt(`0x${T}`)}function de(T){return we(Me(T))}function xe(T){return se(T)?Uint8Array.from(T):oe(T)}function Re(T){if(typeof T=="number"&&Number.isSafeInteger(T)&&T>0)return BigInt(T);if(typeof T=="bigint"&&Wt(T))return T;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ee(T,x=p.P){const P=T%x;return P>=i?P:x+P}function Le(T,x){const{P}=p;let F=T;for(;x-- >i;)F*=F,F%=P;return F}function Qe(T){const{P:x}=p,P=BigInt(6),F=BigInt(11),q=BigInt(22),te=BigInt(23),he=BigInt(44),pe=BigInt(88),be=T*T*T%x,Ne=be*be*T%x,ze=Le(Ne,f)*Ne%x,qe=Le(ze,f)*Ne%x,Ke=Le(qe,l)*be%x,Et=Le(Ke,F)*Ke%x,pt=Le(Et,q)*Et%x,Sn=Le(pt,he)*pt%x,mr=Le(Sn,pe)*Sn%x,wr=Le(mr,he)*pt%x,vr=Le(wr,f)*Ne%x,vi=Le(vr,te)*Et%x,To=Le(vi,P)*be%x,Ei=Le(To,l);if(Ei*Ei%x!==T)throw new Error("Cannot find square root");return Ei}function ot(T,x=p.P){if(T===i||x<=i)throw new Error(`invert: expected positive integers, got n=${T} mod=${x}`);let P=ee(T,x),F=x,q=i,te=s;for(;P!==i;){const pe=F/P,be=F%P,Ne=q-te*pe;F=P,P=be,q=te,te=Ne}if(F!==s)throw new Error("invert: does not exist");return ee(q,x)}function Mt(T,x=p.P){const P=new Array(T.length),F=T.reduce((te,he,pe)=>he===i?te:(P[pe]=te,ee(te*he,x)),s),q=ot(F,x);return T.reduceRight((te,he,pe)=>he===i?te:(P[pe]=ee(te*P[pe],x),ee(te*he,x)),q),P}function nr(T){const x=T.length*8-v*8,P=de(T);return x>0?P>>BigInt(x):P}function an(T,x=!1){const P=nr(T);if(x)return P;const{n:F}=p;return P>=F?P-F:P}let Pn,Vn;class bn{constructor(x,P){if(this.hashLen=x,this.qByteLen=P,typeof x!="number"||x<2)throw new Error("hashLen must be a number");if(typeof P!="number"||P<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(x).fill(1),this.k=new Uint8Array(x).fill(0),this.counter=0}hmac(...x){return e.utils.hmacSha256(this.k,...x)}hmacSync(...x){return Vn(this.k,...x)}checkSync(){if(typeof Vn!="function")throw new Y("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(x=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),x),this.v=await this.hmac(this.v),x.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),x),this.v=await this.hmac(this.v))}reseedSync(x=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),x),this.v=this.hmacSync(this.v),x.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),x),this.v=this.hmacSync(this.v))}async generate(){this.incr();let x=0;const P=[];for(;x<this.qByteLen;){this.v=await this.hmac(this.v);const F=this.v.slice();P.push(F),x+=this.v.length}return ge(...P)}generateSync(){this.checkSync(),this.incr();let x=0;const P=[];for(;x<this.qByteLen;){this.v=this.hmacSync(this.v);const F=this.v.slice();P.push(F),x+=this.v.length}return ge(...P)}}function Wt(T){return i<T&&T<p.n}function pr(T){return i<T&&T<p.P}function Dr(T,x,P,F=!0){const{n:q}=p,te=an(T,!0);if(!Wt(te))return;const he=ot(te,q),pe=z.BASE.multiply(te),be=ee(pe.x,q);if(be===i)return;const Ne=ee(he*ee(x+P*be,q),q);if(Ne===i)return;let ze=new Q(be,Ne),qe=(pe.x===ze.r?0:2)|Number(pe.y&s);return F&&ze.hasHighS()&&(ze=ze.normalizeS(),qe^=1),{sig:ze,recovery:qe}}function Dt(T){let x;if(typeof T=="bigint")x=T;else if(typeof T=="number"&&Number.isSafeInteger(T)&&T>0)x=BigInt(T);else if(typeof T=="string"){if(T.length!==2*v)throw new Error("Expected 32 bytes of private key");x=we(T)}else if(se(T)){if(T.length!==v)throw new Error("Expected 32 bytes of private key");x=de(T)}else throw new TypeError("Expected valid private key");if(!Wt(x))throw new Error("Expected private key: 0 < key < n");return x}function Nn(T){return T instanceof z?(T.assertValidity(),T):z.fromHex(T)}function jr(T){if(T instanceof Q)return T.assertValidity(),T;try{return Q.fromDER(T)}catch{return Q.fromCompact(T)}}function mi(T,x=!1){return z.fromPrivateKey(T).toRawBytes(x)}e.getPublicKey=mi;function yr(T,x,P,F=!1){return z.fromSignature(T,x,P).toRawBytes(F)}e.recoverPublicKey=yr;function Kt(T){const x=se(T),P=typeof T=="string",F=(x||P)&&T.length;return x?F===I||F===C:P?F===I*2||F===C*2:T instanceof z}function $r(T,x,P=!1){if(Kt(T))throw new TypeError("getSharedSecret: first arg must be private key");if(!Kt(x))throw new TypeError("getSharedSecret: second arg must be public key");const F=Nn(x);return F.assertValidity(),F.multiply(Dt(T)).toRawBytes(P)}e.getSharedSecret=$r;function Vr(T){const x=T.length>g?T.slice(0,g):T;return de(x)}function rn(T){const x=Vr(T),P=ee(x,p.n);return wi(P<i?x:P)}function wi(T){return b(T)}function S(T,x,P){if(T==null)throw new Error(`sign: expected valid message hash, not "${T}"`);const F=xe(T),q=Dt(x),te=[wi(q),rn(F)];if(P!=null){P===!0&&(P=e.utils.randomBytes(g));const be=xe(P);if(be.length!==g)throw new Error(`sign: Expected ${g} bytes of extra data`);te.push(be)}const he=ge(...te),pe=Vr(F);return{seed:he,m:pe,d:q}}function h(T,x){const{sig:P,recovery:F}=T,{der:q,recovered:te}=Object.assign({canonical:!0,der:!0},x),he=q?P.toDERRawBytes():P.toCompactRawBytes();return te?[he,F]:he}async function y(T,x,P={}){const{seed:F,m:q,d:te}=S(T,x,P.extraEntropy),he=new bn(_,v);await he.reseed(F);let pe;for(;!(pe=Dr(await he.generate(),q,te,P.canonical));)await he.reseed();return h(pe,P)}e.sign=y;function k(T,x,P={}){const{seed:F,m:q,d:te}=S(T,x,P.extraEntropy),he=new bn(_,v);he.reseedSync(F);let pe;for(;!(pe=Dr(he.generateSync(),q,te,P.canonical));)he.reseedSync();return h(pe,P)}e.signSync=k;const R={strict:!0};function W(T,x,P,F=R){let q;try{q=jr(T),x=xe(x)}catch{return!1}const{r:te,s:he}=q;if(F.strict&&q.hasHighS())return!1;const pe=an(x);let be;try{be=Nn(P)}catch{return!1}const{n:Ne}=p,ze=ot(he,Ne),qe=ee(pe*ze,Ne),Ke=ee(te*ze,Ne),Et=z.BASE.multiplyAndAddUnsafe(be,qe,Ke);return Et?ee(Et.x,Ne)===te:!1}e.verify=W;function Z(T){return ee(de(T),p.n)}class De{constructor(x,P){this.r=x,this.s=P,this.assertValidity()}static fromHex(x){const P=xe(x);if(P.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${P.length}`);const F=de(P.subarray(0,32)),q=de(P.subarray(32,64));return new De(F,q)}assertValidity(){const{r:x,s:P}=this;if(!pr(x)||!Wt(P))throw new Error("Invalid signature")}toHex(){return M(this.r)+M(this.s)}toRawBytes(){return oe(this.toHex())}}function st(T){return z.fromPrivateKey(T).toRawX()}class tt{constructor(x,P,F=e.utils.randomBytes()){if(x==null)throw new TypeError(`sign: Expected valid message, not "${x}"`);this.m=xe(x);const{x:q,scalar:te}=this.getScalar(Dt(P));if(this.px=q,this.d=te,this.rand=xe(F),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(x){const P=z.fromPrivateKey(x),F=P.hasEvenY()?x:p.n-x;return{point:P,scalar:F,x:P.toRawX()}}initNonce(x,P){return b(x^de(P))}finalizeNonce(x){const P=ee(de(x),p.n);if(P===i)throw new Error("sign: Creation of signature failed. k is zero");const{point:F,x:q,scalar:te}=this.getScalar(P);return{R:F,rx:q,k:te}}finalizeSig(x,P,F,q){return new De(x.x,ee(P+F*q,p.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:x,d:P,px:F,rand:q}=this,te=e.utils.taggedHash,he=this.initNonce(P,await te(zn.aux,q)),{R:pe,rx:be,k:Ne}=this.finalizeNonce(await te(zn.nonce,he,F,x)),ze=Z(await te(zn.challenge,be,F,x)),qe=this.finalizeSig(pe,Ne,ze,P);return await ko(qe,x,F)||this.error(),qe}calcSync(){const{m:x,d:P,px:F,rand:q}=this,te=e.utils.taggedHashSync,he=this.initNonce(P,te(zn.aux,q)),{R:pe,rx:be,k:Ne}=this.finalizeNonce(te(zn.nonce,he,F,x)),ze=Z(te(zn.challenge,be,F,x)),qe=this.finalizeSig(pe,Ne,ze,P);return Ao(qe,x,F)||this.error(),qe}}async function ut(T,x,P){return new tt(T,x,P).calc()}function Ye(T,x,P){return new tt(T,x,P).calcSync()}function gr(T,x,P){const F=T instanceof De,q=F?T:De.fromHex(T);return F&&q.assertValidity(),{...q,m:xe(x),P:Nn(P)}}function _o(T,x,P,F){const q=z.BASE.multiplyAndAddUnsafe(x,Dt(P),ee(-F,p.n));return!(!q||!q.hasEvenY()||q.x!==T)}async function ko(T,x,P){try{const{r:F,s:q,m:te,P:he}=gr(T,x,P),pe=Z(await e.utils.taggedHash(zn.challenge,b(F),he.toRawX(),te));return _o(F,he,q,pe)}catch{return!1}}function Ao(T,x,P){try{const{r:F,s:q,m:te,P:he}=gr(T,x,P),pe=Z(e.utils.taggedHashSync(zn.challenge,b(F),he.toRawX(),te));return _o(F,he,q,pe)}catch(F){if(F instanceof Y)throw F;return!1}}e.schnorr={Signature:De,getPublicKey:st,sign:ut,verify:ko,signSync:Ye,verifySync:Ao},z.BASE._setWindowSize(8);const Gt={node:r,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},zn={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},zr={};e.utils={bytesToHex:Me,hexToBytes:oe,concatBytes:ge,mod:ee,invert:ot,isValidPrivateKey(T){try{return Dt(T),!0}catch{return!1}},_bigintTo32Bytes:b,_normalizePrivateKey:Dt,hashToPrivateKey:T=>{T=xe(T);const x=v+8;if(T.length<x||T.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const P=ee(de(T),p.n-s)+s;return b(P)},randomBytes:(T=32)=>{if(Gt.web)return Gt.web.getRandomValues(new Uint8Array(T));if(Gt.node){const{randomBytes:x}=Gt.node;return Uint8Array.from(x(T))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.hashToPrivateKey(e.utils.randomBytes(v+8)),precompute(T=8,x=z.BASE){const P=x===z.BASE?x:new z(x.x,x.y);return P._setWindowSize(T),P.multiply(f),P},sha256:async(...T)=>{if(Gt.web){const x=await Gt.web.subtle.digest("SHA-256",ge(...T));return new Uint8Array(x)}else if(Gt.node){const{createHash:x}=Gt.node,P=x("sha256");return T.forEach(F=>P.update(F)),Uint8Array.from(P.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(T,...x)=>{if(Gt.web){const P=await Gt.web.subtle.importKey("raw",T,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),F=ge(...x),q=await Gt.web.subtle.sign("HMAC",P,F);return new Uint8Array(q)}else if(Gt.node){const{createHmac:P}=Gt.node,F=P("sha256",T);return x.forEach(q=>F.update(q)),Uint8Array.from(F.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(T,...x)=>{let P=zr[T];if(P===void 0){const F=await e.utils.sha256(Uint8Array.from(T,q=>q.charCodeAt(0)));P=ge(F,F),zr[T]=P}return e.utils.sha256(P,...x)},taggedHashSync:(T,...x)=>{if(typeof Pn!="function")throw new Y("sha256Sync is undefined, you need to set it");let P=zr[T];if(P===void 0){const F=Pn(Uint8Array.from(T,q=>q.charCodeAt(0)));P=ge(F,F),zr[T]=P}return Pn(P,...x)},_JacobianPoint:L},Object.defineProperties(e.utils,{sha256Sync:{configurable:!1,get(){return Pn},set(T){Pn||(Pn=T)}},hmacSha256Sync:{configurable:!1,get(){return Vn},set(T){Vn||(Vn=T)}}})}(yc)),yc}var Hi={},cp;function mw(){if(cp)return Hi;cp=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.joseToDer=Hi.derToJose=void 0;const e=w0(),r=ul();function i(B){return(B/8|0)+(B%8===0?0:1)}const s={ES256:i(256),ES384:i(384),ES512:i(521)};function l(B){const Y=s[B];if(Y)return Y;throw new Error(`Unknown algorithm "${B}"`)}const f=128,c=0,p=32,m=16,w=2,g=m|p|c<<6,v=w|c<<6;function _(B){if(B instanceof Uint8Array)return B;if(typeof B=="string")return(0,e.toByteArray)((0,r.pad)(B));throw new TypeError("ECDSA signature must be a Base64 string or a Uint8Array")}function I(B,Y){const X=_(B),L=l(Y),$=L+1,V=X.length;let z=0;if(X[z++]!==g)throw new Error('Could not find expected "seq"');let me=X[z++];if(me===(f|1)&&(me=X[z++]),V-z<me)throw new Error(`"seq" specified length of "${me}", only "${V-z}" remaining`);if(X[z++]!==v)throw new Error('Could not find expected "int" for "r"');const ye=X[z++];if(V-z-2<ye)throw new Error(`"r" specified length of "${ye}", only "${V-z-2}" available`);if($<ye)throw new Error(`"r" specified length of "${ye}", max of "${$}" is acceptable`);const ie=z;if(z+=ye,X[z++]!==v)throw new Error('Could not find expected "int" for "s"');const Q=X[z++];if(V-z!==Q)throw new Error(`"s" specified length of "${Q}", expected "${V-z}"`);if($<Q)throw new Error(`"s" specified length of "${Q}", max of "${$}" is acceptable`);const se=z;if(z+=Q,z!==V)throw new Error(`Expected to consume entire array, but "${V-z}" bytes remain`);const Be=L-ye,ge=L-Q,Ie=new Uint8Array(Be+ye+ge+Q);for(z=0;z<Be;++z)Ie[z]=0;Ie.set(X.subarray(ie+Math.max(-Be,0),ie+ye),z),z=L;for(const Me=z;z<Me+ge;++z)Ie[z]=0;return Ie.set(X.subarray(se+Math.max(-ge,0),se+Q),z),(0,r.escape)((0,e.fromByteArray)(Ie))}Hi.derToJose=I;function C(B,Y,X){let L=0;for(;Y+L<X&&B[Y+L]===0;)++L;return B[Y+L]>=f&&--L,L}function N(B,Y){B=_(B);const X=l(Y),L=B.length;if(L!==X*2)throw new TypeError(`"${Y}" signatures must be "${X*2}" bytes, saw "${L}"`);const $=C(B,0,X),V=C(B,X,B.length),z=X-$,me=X-V,ye=2+z+1+1+me,ie=ye<f,Q=new Uint8Array((ie?2:3)+ye);let se=0;return Q[se++]=g,ie?Q[se++]=ye:(Q[se++]=f|1,Q[se++]=ye&255),Q[se++]=v,Q[se++]=z,$<0?(Q[se++]=0,Q.set(B.subarray(0,X),se),se+=X):(Q.set(B.subarray($,X),se),se+=X-$),Q[se++]=v,Q[se++]=me,V<0?(Q[se++]=0,Q.set(B.subarray(X),se)):Q.set(B.subarray(X+V),se),Q}return Hi.joseToDer=N,Hi}var Oi={},fp;function al(){if(fp)return Oi;fp=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.InvalidTokenError=Oi.MissingParametersError=void 0;class e extends Error{constructor(s){super(),this.name="MissingParametersError",this.message=s||""}}Oi.MissingParametersError=e;class r extends Error{constructor(s){super(),this.name="InvalidTokenError",this.message=s||""}}return Oi.InvalidTokenError=r,Oi}var dp;function ww(){if(dp)return as;dp=1,Object.defineProperty(as,"__esModule",{value:!0}),as.SECP256K1Client=void 0;const e=cw(),r=v0(),i=gw(),s=mw(),l=al(),f=ll();i.utils.hmacSha256Sync=(p,...m)=>{const w=e.hmac.create(r.sha256,p);return m.forEach(g=>w.update(g)),w.digest()};class c{static derivePublicKey(m,w=!0){return m.length===66&&(m=m.slice(0,64)),m.length<64&&(m=m.padStart(64,"0")),(0,f.bytesToHex)(i.getPublicKey(m,w))}static signHash(m,w,g="jose"){if(!m||!w)throw new l.MissingParametersError("a signing input hash and private key are all required");const v=i.signSync(m,w.slice(0,64),{der:!0,canonical:!1});if(g==="der")return(0,f.bytesToHex)(v);if(g==="jose")return(0,s.derToJose)(v,"ES256");throw Error("Invalid signature format")}static loadSignature(m){return(0,s.joseToDer)(m,"ES256")}static verifyHash(m,w,g){if(!m||!w||!g)throw new l.MissingParametersError("a signing input hash, der signature, and public key are all required");return i.verify(w,m,g,{strict:!1})}}return as.SECP256K1Client=c,c.algorithmName="ES256K",as}var hp;function qc(){return hp||(hp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.cryptoClients=e.SECP256K1Client=void 0;const r=ww();Object.defineProperty(e,"SECP256K1Client",{enumerable:!0,get:function(){return r.SECP256K1Client}});const i={ES256K:r.SECP256K1Client};e.cryptoClients=i}(dc)),dc}var br={},pp;function S0(){if(pp)return br;pp=1;var e=br&&br.__awaiter||function(l,f,c,p){function m(w){return w instanceof c?w:new c(function(g){g(w)})}return new(c||(c=Promise))(function(w,g){function v(C){try{I(p.next(C))}catch(N){g(N)}}function _(C){try{I(p.throw(C))}catch(N){g(N)}}function I(C){C.done?w(C.value):m(C.value).then(v,_)}I((p=p.apply(l,f||[])).next())})};Object.defineProperty(br,"__esModule",{value:!0}),br.hashSha256Async=br.hashSha256=void 0;const r=v0();function i(l){return(0,r.sha256)(l)}br.hashSha256=i;function s(l){return e(this,void 0,void 0,function*(){try{if(typeof crypto<"u"&&typeof crypto.subtle<"u"){const c=typeof l=="string"?new TextEncoder().encode(l):l,p=yield crypto.subtle.digest("SHA-256",c);return new Uint8Array(p)}else{const c=E0;if(!c.createHash)throw new Error("`crypto` module does not contain `createHash`");return Promise.resolve(c.createHash("sha256").update(l).digest())}}catch(f){return console.log(f),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(i(l))}})}return br.hashSha256Async=s,br}var yp;function vw(){if(yp)return Pr;yp=1;var e=Pr&&Pr.__awaiter||function(m,w,g,v){function _(I){return I instanceof g?I:new g(function(C){C(I)})}return new(g||(g=Promise))(function(I,C){function N(X){try{Y(v.next(X))}catch(L){C(L)}}function B(X){try{Y(v.throw(X))}catch(L){C(L)}}function Y(X){X.done?I(X.value):_(X.value).then(N,B)}Y((v=v.apply(m,w||[])).next())})};Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.TokenSigner=Pr.createUnsecuredToken=void 0;const r=ul(),i=qc(),s=al(),l=S0();function f(m,w){const g=[],v=r.encode(JSON.stringify(w));g.push(v);const _=r.encode(JSON.stringify(m));return g.push(_),g.join(".")}function c(m){return f(m,{typ:"JWT",alg:"none"})+"."}Pr.createUnsecuredToken=c;class p{constructor(w,g){if(!(w&&g))throw new s.MissingParametersError("a signing algorithm and private key are required");if(typeof w!="string")throw new Error("signing algorithm parameter must be a string");if(w=w.toUpperCase(),!i.cryptoClients.hasOwnProperty(w))throw new Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=i.cryptoClients[w],this.rawPrivateKey=g}header(w={}){const g={typ:this.tokenType,alg:this.cryptoClient.algorithmName};return Object.assign({},g,w)}sign(w,g=!1,v={}){const _=this.header(v),I=f(w,_),C=(0,l.hashSha256)(I);return this.createWithSignedHash(w,g,_,I,C)}signAsync(w,g=!1,v={}){return e(this,void 0,void 0,function*(){const _=this.header(v),I=f(w,_),C=yield(0,l.hashSha256Async)(I);return this.createWithSignedHash(w,g,_,I,C)})}createWithSignedHash(w,g,v,_,I){const C=this.cryptoClient.signHash(I,this.rawPrivateKey);return g?{header:[r.encode(JSON.stringify(v))],payload:JSON.stringify(w),signature:[C]}:[_,C].join(".")}}return Pr.TokenSigner=p,Pr}var fs={},gp;function Ew(){if(gp)return fs;gp=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.TokenVerifier=void 0;const e=ul(),r=qc(),i=al(),s=S0();class l{constructor(c,p){if(!(c&&p))throw new i.MissingParametersError("a signing algorithm and public key are required");if(typeof c!="string")throw"signing algorithm parameter must be a string";if(c=c.toUpperCase(),!r.cryptoClients.hasOwnProperty(c))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=r.cryptoClients[c],this.rawPublicKey=p}verify(c){return typeof c=="string"?this.verifyCompact(c,!1):typeof c=="object"?this.verifyExpanded(c,!1):!1}verifyAsync(c){return typeof c=="string"?this.verifyCompact(c,!0):typeof c=="object"?this.verifyExpanded(c,!0):Promise.resolve(!1)}verifyCompact(c,p){const m=c.split("."),w=m[0]+"."+m[1],g=v=>{const _=this.cryptoClient.loadSignature(m[2]);return this.cryptoClient.verifyHash(v,_,this.rawPublicKey)};if(p)return(0,s.hashSha256Async)(w).then(v=>g(v));{const v=(0,s.hashSha256)(w);return g(v)}}verifyExpanded(c,p){const m=[c.header.join("."),e.encode(c.payload)].join(".");let w=!0;const g=v=>(c.signature.map(_=>{const I=this.cryptoClient.loadSignature(_);this.cryptoClient.verifyHash(v,I,this.rawPublicKey)||(w=!1)}),w);if(p)return(0,s.hashSha256Async)(m).then(v=>g(v));{const v=(0,s.hashSha256)(m);return g(v)}}}return fs.TokenVerifier=l,fs}var ds={},mp;function Sw(){if(mp)return ds;mp=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.decodeToken=void 0;const e=ul();function r(i){if(typeof i=="string"){const s=i.split("."),l=JSON.parse(e.decode(s[0])),f=JSON.parse(e.decode(s[1])),c=s[2];return{header:l,payload:f,signature:c}}else if(typeof i=="object"){if(typeof i.payload!="string")throw new Error("Expected token payload to be a base64 or json string");let s=i.payload;i.payload[0]!=="{"&&(s=e.decode(s));const l=[];return i.header.map(f=>{const c=JSON.parse(e.decode(f));l.push(c)}),{header:l,payload:JSON.parse(s),signature:i.signature}}}return ds.decodeToken=r,ds}var wp;function xw(){return wp||(wp=1,function(e){var r=Bi&&Bi.__createBinding||(Object.create?function(s,l,f,c){c===void 0&&(c=f);var p=Object.getOwnPropertyDescriptor(l,f);(!p||("get"in p?!l.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(s,c,p)}:function(s,l,f,c){c===void 0&&(c=f),s[c]=l[f]}),i=Bi&&Bi.__exportStar||function(s,l){for(var f in s)f!=="default"&&!Object.prototype.hasOwnProperty.call(l,f)&&r(l,s,f)};Object.defineProperty(e,"__esModule",{value:!0}),i(vw(),e),i(Ew(),e),i(Sw(),e),i(al(),e),i(qc(),e)}(Bi)),Bi}var cl=xw(),Qc={},fl={};fl.byteLength=Aw;fl.toByteArray=Iw;fl.fromByteArray=bw;var fr=[],Fn=[],_w=typeof Uint8Array<"u"?Uint8Array:Array,gc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var fo=0,kw=gc.length;fo<kw;++fo)fr[fo]=gc[fo],Fn[gc.charCodeAt(fo)]=fo;Fn[45]=62;Fn[95]=63;function x0(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");i===-1&&(i=r);var s=i===r?0:4-i%4;return[i,s]}function Aw(e){var r=x0(e),i=r[0],s=r[1];return(i+s)*3/4-s}function Tw(e,r,i){return(r+i)*3/4-i}function Iw(e){var r,i=x0(e),s=i[0],l=i[1],f=new _w(Tw(e,s,l)),c=0,p=l>0?s-4:s,m;for(m=0;m<p;m+=4)r=Fn[e.charCodeAt(m)]<<18|Fn[e.charCodeAt(m+1)]<<12|Fn[e.charCodeAt(m+2)]<<6|Fn[e.charCodeAt(m+3)],f[c++]=r>>16&255,f[c++]=r>>8&255,f[c++]=r&255;return l===2&&(r=Fn[e.charCodeAt(m)]<<2|Fn[e.charCodeAt(m+1)]>>4,f[c++]=r&255),l===1&&(r=Fn[e.charCodeAt(m)]<<10|Fn[e.charCodeAt(m+1)]<<4|Fn[e.charCodeAt(m+2)]>>2,f[c++]=r>>8&255,f[c++]=r&255),f}function Cw(e){return fr[e>>18&63]+fr[e>>12&63]+fr[e>>6&63]+fr[e&63]}function Pw(e,r,i){for(var s,l=[],f=r;f<i;f+=3)s=(e[f]<<16&16711680)+(e[f+1]<<8&65280)+(e[f+2]&255),l.push(Cw(s));return l.join("")}function bw(e){for(var r,i=e.length,s=i%3,l=[],f=16383,c=0,p=i-s;c<p;c+=f)l.push(Pw(e,c,c+f>p?p:c+f));return s===1?(r=e[i-1],l.push(fr[r>>2]+fr[r<<4&63]+"==")):s===2&&(r=(e[i-2]<<8)+e[i-1],l.push(fr[r>>10]+fr[r>>4&63]+fr[r<<2&63]+"=")),l.join("")}var Zc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Zc.read=function(e,r,i,s,l){var f,c,p=l*8-s-1,m=(1<<p)-1,w=m>>1,g=-7,v=i?l-1:0,_=i?-1:1,I=e[r+v];for(v+=_,f=I&(1<<-g)-1,I>>=-g,g+=p;g>0;f=f*256+e[r+v],v+=_,g-=8);for(c=f&(1<<-g)-1,f>>=-g,g+=s;g>0;c=c*256+e[r+v],v+=_,g-=8);if(f===0)f=1-w;else{if(f===m)return c?NaN:(I?-1:1)*(1/0);c=c+Math.pow(2,s),f=f-w}return(I?-1:1)*c*Math.pow(2,f-s)};Zc.write=function(e,r,i,s,l,f){var c,p,m,w=f*8-l-1,g=(1<<w)-1,v=g>>1,_=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=s?0:f-1,C=s?1:-1,N=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(p=isNaN(r)?1:0,c=g):(c=Math.floor(Math.log(r)/Math.LN2),r*(m=Math.pow(2,-c))<1&&(c--,m*=2),c+v>=1?r+=_/m:r+=_*Math.pow(2,1-v),r*m>=2&&(c++,m/=2),c+v>=g?(p=0,c=g):c+v>=1?(p=(r*m-1)*Math.pow(2,l),c=c+v):(p=r*Math.pow(2,v-1)*Math.pow(2,l),c=0));l>=8;e[i+I]=p&255,I+=C,p/=256,l-=8);for(c=c<<l|p,w+=l;w>0;e[i+I]=c&255,I+=C,c/=256,w-=8);e[i+I-C]|=N*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const r=fl,i=Zc,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=g,e.SlowBuffer=V,e.INSPECT_MAX_BYTES=50;const l=2147483647;e.kMaxLength=l;const{Uint8Array:f,ArrayBuffer:c,SharedArrayBuffer:p}=globalThis;g.TYPED_ARRAY_SUPPORT=m(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const S=new f(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,f.prototype),Object.setPrototypeOf(S,h),S.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function w(S){if(S>l)throw new RangeError('The value "'+S+'" is invalid for option "size"');const h=new f(S);return Object.setPrototypeOf(h,g.prototype),h}function g(S,h,y){if(typeof S=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(S)}return v(S,h,y)}g.poolSize=8192;function v(S,h,y){if(typeof S=="string")return N(S,h);if(c.isView(S))return Y(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(Kt(S,c)||S&&Kt(S.buffer,c)||typeof p<"u"&&(Kt(S,p)||S&&Kt(S.buffer,p)))return X(S,h,y);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=S.valueOf&&S.valueOf();if(k!=null&&k!==S)return g.from(k,h,y);const R=L(S);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return g.from(S[Symbol.toPrimitive]("string"),h,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}g.from=function(S,h,y){return v(S,h,y)},Object.setPrototypeOf(g.prototype,f.prototype),Object.setPrototypeOf(g,f);function _(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function I(S,h,y){return _(S),S<=0?w(S):h!==void 0?typeof y=="string"?w(S).fill(h,y):w(S).fill(h):w(S)}g.alloc=function(S,h,y){return I(S,h,y)};function C(S){return _(S),w(S<0?0:$(S)|0)}g.allocUnsafe=function(S){return C(S)},g.allocUnsafeSlow=function(S){return C(S)};function N(S,h){if((typeof h!="string"||h==="")&&(h="utf8"),!g.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const y=z(S,h)|0;let k=w(y);const R=k.write(S,h);return R!==y&&(k=k.slice(0,R)),k}function B(S){const h=S.length<0?0:$(S.length)|0,y=w(h);for(let k=0;k<h;k+=1)y[k]=S[k]&255;return y}function Y(S){if(Kt(S,f)){const h=new f(S);return X(h.buffer,h.byteOffset,h.byteLength)}return B(S)}function X(S,h,y){if(h<0||S.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<h+(y||0))throw new RangeError('"length" is outside of buffer bounds');let k;return h===void 0&&y===void 0?k=new f(S):y===void 0?k=new f(S,h):k=new f(S,h,y),Object.setPrototypeOf(k,g.prototype),k}function L(S){if(g.isBuffer(S)){const h=$(S.length)|0,y=w(h);return y.length===0||S.copy(y,0,0,h),y}if(S.length!==void 0)return typeof S.length!="number"||$r(S.length)?w(0):B(S);if(S.type==="Buffer"&&Array.isArray(S.data))return B(S.data)}function $(S){if(S>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return S|0}function V(S){return+S!=S&&(S=0),g.alloc(+S)}g.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==g.prototype},g.compare=function(h,y){if(Kt(h,f)&&(h=g.from(h,h.offset,h.byteLength)),Kt(y,f)&&(y=g.from(y,y.offset,y.byteLength)),!g.isBuffer(h)||!g.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===y)return 0;let k=h.length,R=y.length;for(let W=0,Z=Math.min(k,R);W<Z;++W)if(h[W]!==y[W]){k=h[W],R=y[W];break}return k<R?-1:R<k?1:0},g.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(h,y){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return g.alloc(0);let k;if(y===void 0)for(y=0,k=0;k<h.length;++k)y+=h[k].length;const R=g.allocUnsafe(y);let W=0;for(k=0;k<h.length;++k){let Z=h[k];if(Kt(Z,f))W+Z.length>R.length?(g.isBuffer(Z)||(Z=g.from(Z)),Z.copy(R,W)):f.prototype.set.call(R,Z,W);else if(g.isBuffer(Z))Z.copy(R,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=Z.length}return R};function z(S,h){if(g.isBuffer(S))return S.length;if(c.isView(S)||Kt(S,c))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const y=S.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&y===0)return 0;let R=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return Dt(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return mi(S).length;default:if(R)return k?-1:Dt(S).length;h=(""+h).toLowerCase(),R=!0}}g.byteLength=z;function me(S,h,y){let k=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,h>>>=0,y<=h))return"";for(S||(S="utf8");;)switch(S){case"hex":return G(this,h,y);case"utf8":case"utf-8":return Pe(this,h,y);case"ascii":return M(this,h,y);case"latin1":case"binary":return b(this,h,y);case"base64":return ce(this,h,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,h,y);default:if(k)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),k=!0}}g.prototype._isBuffer=!0;function ye(S,h,y){const k=S[h];S[h]=S[y],S[y]=k}g.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<h;y+=2)ye(this,y,y+1);return this},g.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<h;y+=4)ye(this,y,y+3),ye(this,y+1,y+2);return this},g.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<h;y+=8)ye(this,y,y+7),ye(this,y+1,y+6),ye(this,y+2,y+5),ye(this,y+3,y+4);return this},g.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?Pe(this,0,h):me.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(h){if(!g.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:g.compare(this,h)===0},g.prototype.inspect=function(){let h="";const y=e.INSPECT_MAX_BYTES;return h=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(h+=" ... "),"<Buffer "+h+">"},s&&(g.prototype[s]=g.prototype.inspect),g.prototype.compare=function(h,y,k,R,W){if(Kt(h,f)&&(h=g.from(h,h.offset,h.byteLength)),!g.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(y===void 0&&(y=0),k===void 0&&(k=h?h.length:0),R===void 0&&(R=0),W===void 0&&(W=this.length),y<0||k>h.length||R<0||W>this.length)throw new RangeError("out of range index");if(R>=W&&y>=k)return 0;if(R>=W)return-1;if(y>=k)return 1;if(y>>>=0,k>>>=0,R>>>=0,W>>>=0,this===h)return 0;let Z=W-R,De=k-y;const st=Math.min(Z,De),tt=this.slice(R,W),ut=h.slice(y,k);for(let Ye=0;Ye<st;++Ye)if(tt[Ye]!==ut[Ye]){Z=tt[Ye],De=ut[Ye];break}return Z<De?-1:De<Z?1:0};function ie(S,h,y,k,R){if(S.length===0)return-1;if(typeof y=="string"?(k=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,$r(y)&&(y=R?0:S.length-1),y<0&&(y=S.length+y),y>=S.length){if(R)return-1;y=S.length-1}else if(y<0)if(R)y=0;else return-1;if(typeof h=="string"&&(h=g.from(h,k)),g.isBuffer(h))return h.length===0?-1:Q(S,h,y,k,R);if(typeof h=="number")return h=h&255,typeof f.prototype.indexOf=="function"?R?f.prototype.indexOf.call(S,h,y):f.prototype.lastIndexOf.call(S,h,y):Q(S,[h],y,k,R);throw new TypeError("val must be string, number or Buffer")}function Q(S,h,y,k,R){let W=1,Z=S.length,De=h.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(S.length<2||h.length<2)return-1;W=2,Z/=2,De/=2,y/=2}function st(ut,Ye){return W===1?ut[Ye]:ut.readUInt16BE(Ye*W)}let tt;if(R){let ut=-1;for(tt=y;tt<Z;tt++)if(st(S,tt)===st(h,ut===-1?0:tt-ut)){if(ut===-1&&(ut=tt),tt-ut+1===De)return ut*W}else ut!==-1&&(tt-=tt-ut),ut=-1}else for(y+De>Z&&(y=Z-De),tt=y;tt>=0;tt--){let ut=!0;for(let Ye=0;Ye<De;Ye++)if(st(S,tt+Ye)!==st(h,Ye)){ut=!1;break}if(ut)return tt}return-1}g.prototype.includes=function(h,y,k){return this.indexOf(h,y,k)!==-1},g.prototype.indexOf=function(h,y,k){return ie(this,h,y,k,!0)},g.prototype.lastIndexOf=function(h,y,k){return ie(this,h,y,k,!1)};function se(S,h,y,k){y=Number(y)||0;const R=S.length-y;k?(k=Number(k),k>R&&(k=R)):k=R;const W=h.length;k>W/2&&(k=W/2);let Z;for(Z=0;Z<k;++Z){const De=parseInt(h.substr(Z*2,2),16);if($r(De))return Z;S[y+Z]=De}return Z}function Be(S,h,y,k){return yr(Dt(h,S.length-y),S,y,k)}function ge(S,h,y,k){return yr(Nn(h),S,y,k)}function Ie(S,h,y,k){return yr(mi(h),S,y,k)}function Me(S,h,y,k){return yr(jr(h,S.length-y),S,y,k)}g.prototype.write=function(h,y,k,R){if(y===void 0)R="utf8",k=this.length,y=0;else if(k===void 0&&typeof y=="string")R=y,k=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(k)?(k=k>>>0,R===void 0&&(R="utf8")):(R=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const W=this.length-y;if((k===void 0||k>W)&&(k=W),h.length>0&&(k<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let Z=!1;for(;;)switch(R){case"hex":return se(this,h,y,k);case"utf8":case"utf-8":return Be(this,h,y,k);case"ascii":case"latin1":case"binary":return ge(this,h,y,k);case"base64":return Ie(this,h,y,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,h,y,k);default:if(Z)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),Z=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(S,h,y){return h===0&&y===S.length?r.fromByteArray(S):r.fromByteArray(S.slice(h,y))}function Pe(S,h,y){y=Math.min(S.length,y);const k=[];let R=h;for(;R<y;){const W=S[R];let Z=null,De=W>239?4:W>223?3:W>191?2:1;if(R+De<=y){let st,tt,ut,Ye;switch(De){case 1:W<128&&(Z=W);break;case 2:st=S[R+1],(st&192)===128&&(Ye=(W&31)<<6|st&63,Ye>127&&(Z=Ye));break;case 3:st=S[R+1],tt=S[R+2],(st&192)===128&&(tt&192)===128&&(Ye=(W&15)<<12|(st&63)<<6|tt&63,Ye>2047&&(Ye<55296||Ye>57343)&&(Z=Ye));break;case 4:st=S[R+1],tt=S[R+2],ut=S[R+3],(st&192)===128&&(tt&192)===128&&(ut&192)===128&&(Ye=(W&15)<<18|(st&63)<<12|(tt&63)<<6|ut&63,Ye>65535&&Ye<1114112&&(Z=Ye))}}Z===null?(Z=65533,De=1):Z>65535&&(Z-=65536,k.push(Z>>>10&1023|55296),Z=56320|Z&1023),k.push(Z),R+=De}return O(k)}const oe=4096;function O(S){const h=S.length;if(h<=oe)return String.fromCharCode.apply(String,S);let y="",k=0;for(;k<h;)y+=String.fromCharCode.apply(String,S.slice(k,k+=oe));return y}function M(S,h,y){let k="";y=Math.min(S.length,y);for(let R=h;R<y;++R)k+=String.fromCharCode(S[R]&127);return k}function b(S,h,y){let k="";y=Math.min(S.length,y);for(let R=h;R<y;++R)k+=String.fromCharCode(S[R]);return k}function G(S,h,y){const k=S.length;(!h||h<0)&&(h=0),(!y||y<0||y>k)&&(y=k);let R="";for(let W=h;W<y;++W)R+=Vr[S[W]];return R}function we(S,h,y){const k=S.slice(h,y);let R="";for(let W=0;W<k.length-1;W+=2)R+=String.fromCharCode(k[W]+k[W+1]*256);return R}g.prototype.slice=function(h,y){const k=this.length;h=~~h,y=y===void 0?k:~~y,h<0?(h+=k,h<0&&(h=0)):h>k&&(h=k),y<0?(y+=k,y<0&&(y=0)):y>k&&(y=k),y<h&&(y=h);const R=this.subarray(h,y);return Object.setPrototypeOf(R,g.prototype),R};function de(S,h,y){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+h>y)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(h,y,k){h=h>>>0,y=y>>>0,k||de(h,y,this.length);let R=this[h],W=1,Z=0;for(;++Z<y&&(W*=256);)R+=this[h+Z]*W;return R},g.prototype.readUintBE=g.prototype.readUIntBE=function(h,y,k){h=h>>>0,y=y>>>0,k||de(h,y,this.length);let R=this[h+--y],W=1;for(;y>0&&(W*=256);)R+=this[h+--y]*W;return R},g.prototype.readUint8=g.prototype.readUInt8=function(h,y){return h=h>>>0,y||de(h,1,this.length),this[h]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(h,y){return h=h>>>0,y||de(h,2,this.length),this[h]|this[h+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(h,y){return h=h>>>0,y||de(h,2,this.length),this[h]<<8|this[h+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(h,y){return h=h>>>0,y||de(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(h,y){return h=h>>>0,y||de(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},g.prototype.readBigUInt64LE=rn(function(h){h=h>>>0,bn(h,"offset");const y=this[h],k=this[h+7];(y===void 0||k===void 0)&&Wt(h,this.length-8);const R=y+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,W=this[++h]+this[++h]*2**8+this[++h]*2**16+k*2**24;return BigInt(R)+(BigInt(W)<<BigInt(32))}),g.prototype.readBigUInt64BE=rn(function(h){h=h>>>0,bn(h,"offset");const y=this[h],k=this[h+7];(y===void 0||k===void 0)&&Wt(h,this.length-8);const R=y*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],W=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+k;return(BigInt(R)<<BigInt(32))+BigInt(W)}),g.prototype.readIntLE=function(h,y,k){h=h>>>0,y=y>>>0,k||de(h,y,this.length);let R=this[h],W=1,Z=0;for(;++Z<y&&(W*=256);)R+=this[h+Z]*W;return W*=128,R>=W&&(R-=Math.pow(2,8*y)),R},g.prototype.readIntBE=function(h,y,k){h=h>>>0,y=y>>>0,k||de(h,y,this.length);let R=y,W=1,Z=this[h+--R];for(;R>0&&(W*=256);)Z+=this[h+--R]*W;return W*=128,Z>=W&&(Z-=Math.pow(2,8*y)),Z},g.prototype.readInt8=function(h,y){return h=h>>>0,y||de(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},g.prototype.readInt16LE=function(h,y){h=h>>>0,y||de(h,2,this.length);const k=this[h]|this[h+1]<<8;return k&32768?k|4294901760:k},g.prototype.readInt16BE=function(h,y){h=h>>>0,y||de(h,2,this.length);const k=this[h+1]|this[h]<<8;return k&32768?k|4294901760:k},g.prototype.readInt32LE=function(h,y){return h=h>>>0,y||de(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},g.prototype.readInt32BE=function(h,y){return h=h>>>0,y||de(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},g.prototype.readBigInt64LE=rn(function(h){h=h>>>0,bn(h,"offset");const y=this[h],k=this[h+7];(y===void 0||k===void 0)&&Wt(h,this.length-8);const R=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(k<<24);return(BigInt(R)<<BigInt(32))+BigInt(y+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),g.prototype.readBigInt64BE=rn(function(h){h=h>>>0,bn(h,"offset");const y=this[h],k=this[h+7];(y===void 0||k===void 0)&&Wt(h,this.length-8);const R=(y<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(R)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+k)}),g.prototype.readFloatLE=function(h,y){return h=h>>>0,y||de(h,4,this.length),i.read(this,h,!0,23,4)},g.prototype.readFloatBE=function(h,y){return h=h>>>0,y||de(h,4,this.length),i.read(this,h,!1,23,4)},g.prototype.readDoubleLE=function(h,y){return h=h>>>0,y||de(h,8,this.length),i.read(this,h,!0,52,8)},g.prototype.readDoubleBE=function(h,y){return h=h>>>0,y||de(h,8,this.length),i.read(this,h,!1,52,8)};function xe(S,h,y,k,R,W){if(!g.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>R||h<W)throw new RangeError('"value" argument is out of bounds');if(y+k>S.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(h,y,k,R){if(h=+h,y=y>>>0,k=k>>>0,!R){const De=Math.pow(2,8*k)-1;xe(this,h,y,k,De,0)}let W=1,Z=0;for(this[y]=h&255;++Z<k&&(W*=256);)this[y+Z]=h/W&255;return y+k},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(h,y,k,R){if(h=+h,y=y>>>0,k=k>>>0,!R){const De=Math.pow(2,8*k)-1;xe(this,h,y,k,De,0)}let W=k-1,Z=1;for(this[y+W]=h&255;--W>=0&&(Z*=256);)this[y+W]=h/Z&255;return y+k},g.prototype.writeUint8=g.prototype.writeUInt8=function(h,y,k){return h=+h,y=y>>>0,k||xe(this,h,y,1,255,0),this[y]=h&255,y+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(h,y,k){return h=+h,y=y>>>0,k||xe(this,h,y,2,65535,0),this[y]=h&255,this[y+1]=h>>>8,y+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(h,y,k){return h=+h,y=y>>>0,k||xe(this,h,y,2,65535,0),this[y]=h>>>8,this[y+1]=h&255,y+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(h,y,k){return h=+h,y=y>>>0,k||xe(this,h,y,4,4294967295,0),this[y+3]=h>>>24,this[y+2]=h>>>16,this[y+1]=h>>>8,this[y]=h&255,y+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(h,y,k){return h=+h,y=y>>>0,k||xe(this,h,y,4,4294967295,0),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4};function Re(S,h,y,k,R){Vn(h,k,R,S,y,7);let W=Number(h&BigInt(4294967295));S[y++]=W,W=W>>8,S[y++]=W,W=W>>8,S[y++]=W,W=W>>8,S[y++]=W;let Z=Number(h>>BigInt(32)&BigInt(4294967295));return S[y++]=Z,Z=Z>>8,S[y++]=Z,Z=Z>>8,S[y++]=Z,Z=Z>>8,S[y++]=Z,y}function ee(S,h,y,k,R){Vn(h,k,R,S,y,7);let W=Number(h&BigInt(4294967295));S[y+7]=W,W=W>>8,S[y+6]=W,W=W>>8,S[y+5]=W,W=W>>8,S[y+4]=W;let Z=Number(h>>BigInt(32)&BigInt(4294967295));return S[y+3]=Z,Z=Z>>8,S[y+2]=Z,Z=Z>>8,S[y+1]=Z,Z=Z>>8,S[y]=Z,y+8}g.prototype.writeBigUInt64LE=rn(function(h,y=0){return Re(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=rn(function(h,y=0){return ee(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(h,y,k,R){if(h=+h,y=y>>>0,!R){const st=Math.pow(2,8*k-1);xe(this,h,y,k,st-1,-st)}let W=0,Z=1,De=0;for(this[y]=h&255;++W<k&&(Z*=256);)h<0&&De===0&&this[y+W-1]!==0&&(De=1),this[y+W]=(h/Z>>0)-De&255;return y+k},g.prototype.writeIntBE=function(h,y,k,R){if(h=+h,y=y>>>0,!R){const st=Math.pow(2,8*k-1);xe(this,h,y,k,st-1,-st)}let W=k-1,Z=1,De=0;for(this[y+W]=h&255;--W>=0&&(Z*=256);)h<0&&De===0&&this[y+W+1]!==0&&(De=1),this[y+W]=(h/Z>>0)-De&255;return y+k},g.prototype.writeInt8=function(h,y,k){return h=+h,y=y>>>0,k||xe(this,h,y,1,127,-128),h<0&&(h=255+h+1),this[y]=h&255,y+1},g.prototype.writeInt16LE=function(h,y,k){return h=+h,y=y>>>0,k||xe(this,h,y,2,32767,-32768),this[y]=h&255,this[y+1]=h>>>8,y+2},g.prototype.writeInt16BE=function(h,y,k){return h=+h,y=y>>>0,k||xe(this,h,y,2,32767,-32768),this[y]=h>>>8,this[y+1]=h&255,y+2},g.prototype.writeInt32LE=function(h,y,k){return h=+h,y=y>>>0,k||xe(this,h,y,4,2147483647,-2147483648),this[y]=h&255,this[y+1]=h>>>8,this[y+2]=h>>>16,this[y+3]=h>>>24,y+4},g.prototype.writeInt32BE=function(h,y,k){return h=+h,y=y>>>0,k||xe(this,h,y,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4},g.prototype.writeBigInt64LE=rn(function(h,y=0){return Re(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=rn(function(h,y=0){return ee(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(S,h,y,k,R,W){if(y+k>S.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function Qe(S,h,y,k,R){return h=+h,y=y>>>0,R||Le(S,h,y,4),i.write(S,h,y,k,23,4),y+4}g.prototype.writeFloatLE=function(h,y,k){return Qe(this,h,y,!0,k)},g.prototype.writeFloatBE=function(h,y,k){return Qe(this,h,y,!1,k)};function ot(S,h,y,k,R){return h=+h,y=y>>>0,R||Le(S,h,y,8),i.write(S,h,y,k,52,8),y+8}g.prototype.writeDoubleLE=function(h,y,k){return ot(this,h,y,!0,k)},g.prototype.writeDoubleBE=function(h,y,k){return ot(this,h,y,!1,k)},g.prototype.copy=function(h,y,k,R){if(!g.isBuffer(h))throw new TypeError("argument should be a Buffer");if(k||(k=0),!R&&R!==0&&(R=this.length),y>=h.length&&(y=h.length),y||(y=0),R>0&&R<k&&(R=k),R===k||h.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),h.length-y<R-k&&(R=h.length-y+k);const W=R-k;return this===h&&typeof f.prototype.copyWithin=="function"?this.copyWithin(y,k,R):f.prototype.set.call(h,this.subarray(k,R),y),W},g.prototype.fill=function(h,y,k,R){if(typeof h=="string"){if(typeof y=="string"?(R=y,y=0,k=this.length):typeof k=="string"&&(R=k,k=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!g.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(h.length===1){const Z=h.charCodeAt(0);(R==="utf8"&&Z<128||R==="latin1")&&(h=Z)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(y<0||this.length<y||this.length<k)throw new RangeError("Out of range index");if(k<=y)return this;y=y>>>0,k=k===void 0?this.length:k>>>0,h||(h=0);let W;if(typeof h=="number")for(W=y;W<k;++W)this[W]=h;else{const Z=g.isBuffer(h)?h:g.from(h,R),De=Z.length;if(De===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(W=0;W<k-y;++W)this[W+y]=Z[W%De]}return this};const Mt={};function nr(S,h,y){Mt[S]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}nr("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),nr("ERR_INVALID_ARG_TYPE",function(S,h){return`The "${S}" argument must be of type number. Received type ${typeof h}`},TypeError),nr("ERR_OUT_OF_RANGE",function(S,h,y){let k=`The value of "${S}" is out of range.`,R=y;return Number.isInteger(y)&&Math.abs(y)>2**32?R=an(String(y)):typeof y=="bigint"&&(R=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(R=an(R)),R+="n"),k+=` It must be ${h}. Received ${R}`,k},RangeError);function an(S){let h="",y=S.length;const k=S[0]==="-"?1:0;for(;y>=k+4;y-=3)h=`_${S.slice(y-3,y)}${h}`;return`${S.slice(0,y)}${h}`}function Pn(S,h,y){bn(h,"offset"),(S[h]===void 0||S[h+y]===void 0)&&Wt(h,S.length-(y+1))}function Vn(S,h,y,k,R,W){if(S>y||S<h){const Z=typeof h=="bigint"?"n":"";let De;throw h===0||h===BigInt(0)?De=`>= 0${Z} and < 2${Z} ** ${(W+1)*8}${Z}`:De=`>= -(2${Z} ** ${(W+1)*8-1}${Z}) and < 2 ** ${(W+1)*8-1}${Z}`,new Mt.ERR_OUT_OF_RANGE("value",De,S)}Pn(k,R,W)}function bn(S,h){if(typeof S!="number")throw new Mt.ERR_INVALID_ARG_TYPE(h,"number",S)}function Wt(S,h,y){throw Math.floor(S)!==S?(bn(S,y),new Mt.ERR_OUT_OF_RANGE("offset","an integer",S)):h<0?new Mt.ERR_BUFFER_OUT_OF_BOUNDS:new Mt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,S)}const pr=/[^+/0-9A-Za-z-_]/g;function Dr(S){if(S=S.split("=")[0],S=S.trim().replace(pr,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function Dt(S,h){h=h||1/0;let y;const k=S.length;let R=null;const W=[];for(let Z=0;Z<k;++Z){if(y=S.charCodeAt(Z),y>55295&&y<57344){if(!R){if(y>56319){(h-=3)>-1&&W.push(239,191,189);continue}else if(Z+1===k){(h-=3)>-1&&W.push(239,191,189);continue}R=y;continue}if(y<56320){(h-=3)>-1&&W.push(239,191,189),R=y;continue}y=(R-55296<<10|y-56320)+65536}else R&&(h-=3)>-1&&W.push(239,191,189);if(R=null,y<128){if((h-=1)<0)break;W.push(y)}else if(y<2048){if((h-=2)<0)break;W.push(y>>6|192,y&63|128)}else if(y<65536){if((h-=3)<0)break;W.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((h-=4)<0)break;W.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return W}function Nn(S){const h=[];for(let y=0;y<S.length;++y)h.push(S.charCodeAt(y)&255);return h}function jr(S,h){let y,k,R;const W=[];for(let Z=0;Z<S.length&&!((h-=2)<0);++Z)y=S.charCodeAt(Z),k=y>>8,R=y%256,W.push(R),W.push(k);return W}function mi(S){return r.toByteArray(Dr(S))}function yr(S,h,y,k){let R;for(R=0;R<k&&!(R+y>=h.length||R>=S.length);++R)h[R+y]=S[R];return R}function Kt(S,h){return S instanceof h||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===h.name}function $r(S){return S!==S}const Vr=function(){const S="0123456789abcdef",h=new Array(256);for(let y=0;y<16;++y){const k=y*16;for(let R=0;R<16;++R)h[k+R]=S[y]+S[R]}return h}();function rn(S){return typeof BigInt>"u"?wi:S}function wi(){throw new Error("BigInt not supported")}})(Qc);const Lc=Qc.Buffer,vp=Qc.Buffer;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ep="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";(()=>{const e=Array(256).fill(-1);for(let r=0;r<Ep.length;++r)e[Ep.charCodeAt(r)]=r})();var Sp,mc,Hu,Jc=(Sp=function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bech32m=r.bech32=void 0;const i="qpzry9x8gf2tvdw0s3jn54khce6mua7l",s={};for(let v=0;v<32;v++){const _=i.charAt(v);s[_]=v}function l(v){const _=v>>25;return(33554431&v)<<5^996825010&-(_>>0&1)^642813549&-(_>>1&1)^513874426&-(_>>2&1)^1027748829&-(_>>3&1)^705979059&-(_>>4&1)}function f(v){let _=1;for(let I=0;I<v.length;++I){const C=v.charCodeAt(I);if(C<33||C>126)return"Invalid prefix ("+v+")";_=l(_)^C>>5}_=l(_);for(let I=0;I<v.length;++I){const C=v.charCodeAt(I);_=l(_)^31&C}return _}function c(v,_,I,C){let N=0,B=0;const Y=(1<<I)-1,X=[];for(let L=0;L<v.length;++L)for(N=N<<_|v[L],B+=_;B>=I;)B-=I,X.push(N>>B&Y);if(C)B>0&&X.push(N<<I-B&Y);else{if(B>=_)return"Excess padding";if(N<<I-B&Y)return"Non-zero padding"}return X}function p(v){return c(v,8,5,!0)}function m(v){const _=c(v,5,8,!1);if(Array.isArray(_))return _}function w(v){const _=c(v,5,8,!1);if(Array.isArray(_))return _;throw new Error(_)}function g(v){let _;function I(C,N){if(N=N||90,C.length<8)return C+" too short";if(C.length>N)return"Exceeds length limit";const B=C.toLowerCase(),Y=C.toUpperCase();if(C!==B&&C!==Y)return"Mixed-case string "+C;const X=(C=B).lastIndexOf("1");if(X===-1)return"No separator character for "+C;if(X===0)return"Missing prefix for "+C;const L=C.slice(0,X),$=C.slice(X+1);if($.length<6)return"Data too short";let V=f(L);if(typeof V=="string")return V;const z=[];for(let me=0;me<$.length;++me){const ye=$.charAt(me),ie=s[ye];if(ie===void 0)return"Unknown character "+ye;V=l(V)^ie,me+6>=$.length||z.push(ie)}return V!==_?"Invalid checksum for "+C:{prefix:L,words:z}}return _=v==="bech32"?1:734539939,{decodeUnsafe:function(C,N){const B=I(C,N);if(typeof B=="object")return B},decode:function(C,N){const B=I(C,N);if(typeof B=="object")return B;throw new Error(B)},encode:function(C,N,B){if(B=B||90,C.length+7+N.length>B)throw new TypeError("Exceeds length limit");let Y=f(C=C.toLowerCase());if(typeof Y=="string")throw new Error(Y);let X=C+"1";for(let L=0;L<N.length;++L){const $=N[L];if($>>5!=0)throw new Error("Non 5-bit word");Y=l(Y)^$,X+=i.charAt($)}for(let L=0;L<6;++L)Y=l(Y);Y^=_;for(let L=0;L<6;++L)X+=i.charAt(Y>>5*(5-L)&31);return X},toWords:p,fromWordsUnsafe:m,fromWords:w}}r.bech32=g("bech32"),r.bech32m=g("bech32m")},Sp(mc={exports:{}},mc.exports),mc.exports);(Hu=Jc)&&Hu.__esModule&&Object.prototype.hasOwnProperty.call(Hu,"default")&&Hu.default;Jc.bech32m;Jc.bech32;new Uint8Array(new Uint16Array([65279]).buffer)[0];var go,mo;(function(e){e.mainnet="mainnet",e.testnet="testnet",e.regtest="regtest"})(go||(go={})),function(e){e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr"}(mo||(mo={}));mo.p2pkh,go.mainnet,mo.p2pkh,go.testnet,mo.p2sh,go.mainnet,mo.p2sh,go.testnet;var Nw=["software","ledger","keystone"],_0=y0(Nw),Di=(e=>(e.Ordinals="ordinals",e.Payment="payment",e.Stacks="stacks",e))(Di||{}),k0=(e=>(e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr",e.stacks="stacks",e))(k0||{}),Uw=re({address:ne(),publicKey:ne(),purpose:mn(Di),addressType:mn(k0),walletType:_0}),Bw=async e=>{var s;const r=await dl(e.getProvider),{purposes:i}=e.payload;if(!i)throw new Error("Address purposes are required");try{const l=cl.createUnsecuredToken(e.payload),f=await r.connect(l);(s=e.onFinish)==null||s.call(e,f)}catch(l){console.error("[Connect] Error during address request",l)}},En=(e=>(e.Mainnet="Mainnet",e.Testnet="Testnet",e.Testnet4="Testnet4",e.Signet="Signet",e.Regtest="Regtest",e))(En||{}),A0=(e=>(e.Mainnet="mainnet",e.Testnet="testnet",e))(A0||{}),T0=(e=>(e.Mainnet="mainnet",e.Sepolia="sepolia",e))(T0||{}),Hw=Ue(vo([ne(),ln(),jn()])),Je=re({jsonrpc:We("2.0"),method:ne(),params:Ue(vo([Lt(m0()),p0({}),jn()])),id:lw(Hw)});async function dl(e){var i;const r=await(e==null?void 0:e())||((i=window.XverseProviders)==null?void 0:i.BitcoinProvider)||window.BitcoinProvider;if(!r)throw new Error("No Bitcoin wallet installed");return r}var Ow="stx_callContract",Rw=re({contract:ne(),functionName:ne(),arguments:Ue(Lt(ne())),functionArgs:Ue(Lt(ne())),postConditions:Ue(Lt(ne())),postConditionMode:Ue(vo([We("allow"),We("deny")]))});({...Je.entries,...re({method:We(Ow),params:Rw,id:ne()}).entries});var Lw="stx_deployContract",Fw=re({name:ne(),clarityCode:ne(),clarityVersion:Ue(ln()),postConditions:Ue(Lt(ne())),postConditionMode:Ue(vo([We("allow"),We("deny")]))});({...Je.entries,...re({method:We(Lw),params:Fw,id:ne()}).entries});var Mw=re({read:Ue(dr())}),Dw=re({readNetwork:Ue(dr())}),jw=re({type:We("account"),resourceId:ne(),clientId:ne(),actions:Mw}),$w=re({type:We("wallet"),resourceId:ne(),clientId:ne(),actions:Dw}),I0=Yc("type",[re({...Jh(jw,["clientId"]).entries}),re({...Jh($w,["clientId"]).entries})]),Vw="wallet_requestPermissions",zw=Cn(Lt(I0));({...Je.entries,...re({method:We(Vw),params:zw,id:ne()}).entries});var Ww="wallet_renouncePermissions",Kw=Cn(jn());({...Je.entries,...re({method:We(Ww),params:Kw,id:ne()}).entries});var Gw="wallet_disconnect",Xw=Cn(jn());({...Je.entries,...re({method:We(Gw),params:Xw,id:ne()}).entries});var Yw="wallet_getWalletType",qw=Cn(jn());({...Je.entries,...re({method:We(Yw),params:qw,id:ne()}).entries});var Qw="wallet_getCurrentPermissions",Zw=Cn(jn());({...Je.entries,...re({method:We(Qw),params:Zw,id:ne()}).entries});var Jw="wallet_getNetwork",e1=Cn(jn());({...Je.entries,...re({method:We(Jw),params:e1,id:ne()}).entries});var t1="wallet_changeNetwork",n1=re({name:mn(En)});({...Je.entries,...re({method:We(t1),params:n1,id:ne()}).entries});var r1="wallet_changeNetworkById",i1=re({id:ne()});({...Je.entries,...re({method:We(r1),params:i1,id:ne()}).entries});var o1="wallet_getAccount",s1=Cn(jn());({...Je.entries,...re({method:We(o1),params:s1,id:ne()}).entries});var u1="wallet_connect",l1=Cn(re({permissions:Ue(Lt(I0)),addresses:Ue(Lt(mn(Di))),message:Ue(Rc(ne(),f0(80,"The message must not exceed 80 characters."))),network:Ue(mn(En))}));({...Je.entries,...re({method:We(u1),params:l1,id:ne()}).entries});var a1="wallet_addNetwork",c1=Yc("chain",[re({chain:We("bitcoin"),type:mn(En),name:ne(),rpcUrl:ne(),rpcFallbackUrl:Ue(ne()),indexerUrl:Ue(ne()),blockExplorerUrl:Ue(ne()),switch:Ue(dr())}),re({chain:We("stacks"),name:ne(),type:mn(A0),rpcUrl:ne(),blockExplorerUrl:Ue(ne()),switch:Ue(dr())}),re({chain:We("starknet"),name:ne(),type:mn(T0),rpcUrl:ne(),blockExplorerUrl:Ue(ne()),switch:Ue(dr())})]);({...Je.entries,...re({method:We(a1),params:c1,id:ne()}).entries});var f1="stx_getAccounts",d1=Cn(jn());({...Je.entries,...re({method:We(f1),params:d1,id:ne()}).entries});var h1="stx_getAddresses",p1=Cn(re({message:Ue(ne())}));({...Je.entries,...re({method:We(h1),params:p1,id:ne()}).entries});var y1="stx_signMessage",g1=re({message:ne()});({...Je.entries,...re({method:We(y1),params:g1,id:ne()}).entries});var m1="stx_signStructuredMessage",w1=re({domain:ne(),message:ne(),publicKey:Ue(ne())});({...Je.entries,...re({method:We(m1),params:w1,id:ne()}).entries});var v1="stx_signTransaction",E1=re({transaction:ne(),pubkey:Ue(ne()),broadcast:Ue(dr())});({...Je.entries,...re({method:We(v1),params:E1,id:ne()}).entries});var S1="stx_signTransactions",x1=re({transactions:Rc(Lt(Rc(ne(),c0(e=>!0,"Invalid hex-encoded Stacks transaction."))),d0(1)),broadcast:Ue(dr())});({...Je.entries,...re({method:We(S1),params:x1,id:ne()}).entries});var _1="stx_transferStx",k1=re({amount:vo([ln(),ne()]),recipient:ne(),memo:Ue(ne()),version:Ue(ne()),postConditionMode:Ue(ln()),postConditions:Ue(Lt(ne())),pubkey:Ue(ne())});({...Je.entries,...re({method:We(_1),params:k1,id:ne()}).entries});var A1="getInfo",T1=Cn(jn());({...Je.entries,...re({method:We(A1),params:T1,id:ne()}).entries});var I1="getAddresses",C1=re({purposes:Lt(mn(Di)),message:Ue(ne())});({...Je.entries,...re({method:We(I1),params:C1,id:ne()}).entries});var P1="signMessage",C0=(e=>(e.ECDSA="ECDSA",e.BIP322="BIP322",e))(C0||{}),b1=re({address:ne(),message:ne(),protocol:Ue(mn(C0))});({...Je.entries,...re({method:We(P1),params:b1,id:ne()}).entries});var N1="sendTransfer",U1=re({recipients:Lt(re({address:ne(),amount:ln()}))});({...Je.entries,...re({method:We(N1),params:U1,id:ne()}).entries});var B1="signPsbt",H1=re({psbt:ne(),signInputs:Ue(g0(ne(),Lt(ln()))),broadcast:Ue(dr())});({...Je.entries,...re({method:We(B1),params:H1,id:ne()}).entries});var O1="getAccounts",R1=re({purposes:Lt(mn(Di)),message:Ue(ne())});({...Uw.entries,...re({walletType:_0}).entries});({...Je.entries,...re({method:We(O1),params:R1,id:ne()}).entries});var L1="getBalance";({...Je.entries,...re({method:We(L1),id:ne()}).entries});var F1="runes_etch",M1=re({amount:ne(),cap:ne(),heightStart:Ue(ne()),heightEnd:Ue(ne()),offsetStart:Ue(ne()),offsetEnd:Ue(ne())}),D1=re({contentType:ne(),contentBase64:ne()}),j1=re({runeName:ne(),divisibility:Ue(ln()),symbol:Ue(ne()),premine:Ue(ne()),isMintable:dr(),delegateInscriptionId:Ue(ne()),destinationAddress:ne(),refundAddress:ne(),feeRate:ln(),appServiceFee:Ue(ln()),appServiceFeeAddress:Ue(ne()),terms:Ue(M1),inscriptionDetails:Ue(D1),network:Ue(mn(En))});({...Je.entries,...re({method:We(F1),params:j1,id:ne()}).entries});var $1="runes_getBalance",V1=Cn(jn());({...Je.entries,...re({method:We($1),params:V1,id:ne()}).entries});var z1="runes_mint",W1=re({appServiceFee:Ue(ln()),appServiceFeeAddress:Ue(ne()),destinationAddress:ne(),feeRate:ln(),refundAddress:ne(),repeats:ln(),runeName:ne(),network:Ue(mn(En))});({...Je.entries,...re({method:We(z1),params:W1,id:ne()}).entries});var K1="runes_transfer",G1=re({recipients:Lt(re({runeName:ne(),amount:ne(),address:ne()}))});({...Je.entries,...re({method:We(K1),params:G1,id:ne()}).entries});var X1="ord_getInscriptions",Y1=re({offset:ln(),limit:ln()});({...Je.entries,...re({method:We(X1),params:Y1,id:ne()}).entries});var q1="ord_sendInscriptions",Q1=re({transfers:Lt(re({address:ne(),inscriptionId:ne()}))});({...Je.entries,...re({method:We(q1),params:Q1,id:ne()}).entries});var Z1=async e=>{var l,f;const r=await dl(e.getProvider),{address:i,message:s}=e.payload;if(!i)throw new Error("An address is required to sign a message");if(!s)throw new Error("A message to be signed is required");try{const c=cl.createUnsecuredToken(e.payload),p=await r.signMessage(c);(l=e.onFinish)==null||l.call(e,p)}catch(c){console.error("[Connect] Error during sign message request",c),(f=e.onCancel)==null||f.call(e)}},J1=e=>e.map(r=>{const{address:i,amountSats:s}=r;return{address:i,amountSats:s.toString()}}),e2=async e=>{var c,p;const r=await dl(e.getProvider),{recipients:i,senderAddress:s,network:l,message:f}=e.payload;if(!i||i.length===0)throw new Error("At least one recipient is required");if(i.some(m=>typeof m.address!="string"||typeof m.amountSats!="bigint"))throw new Error("Incorrect recipient format");if(!s)throw new Error("The sender address is required");try{const m=J1(i),w={network:l,senderAddress:s,message:f,recipients:m},g=cl.createUnsecuredToken(w),v=await r.sendBtcTransaction(g);(c=e.onFinish)==null||c.call(e,v)}catch(m){console.error("[Connect] Error during send BTC transaction request",m),(p=e.onCancel)==null||p.call(e)}},t2=async e=>{var l,f;const r=await dl(e.getProvider),{psbtBase64:i,inputsToSign:s}=e.payload;if(!i)throw new Error("A value for psbtBase64 representing the tx hash is required");if(!s)throw new Error("An array specifying the inputs to be signed by the wallet is required");try{const c=cl.createUnsecuredToken(e.payload),p=await r.signTransaction(c);(l=e.onFinish)==null||l.call(e,p)}catch(c){console.error("[Connect] Error during sign transaction request",c),(f=e.onCancel)==null||f.call(e)}};function Mr(){const{network:e}=Fr(),r=Oc(),{setAccounts:i,setSatsConnectProvider:s,setSelectedAccount:l,wallets:f,selectedWallet:c,setSelectedWallet:p,selectedConnectionType:m,setSelectedConnectionType:w}=Oc(),[g,v]=Ce.useState(!1),[_,I]=Ce.useState(void 0),C=Ce.useCallback(async()=>{c||v(!0)},[c]),N=Ce.useCallback(()=>{v(!1),I(void 0)},[]),B=Ce.useCallback(()=>{p(void 0),s(void 0),i([]),l(void 0),w(void 0)},[p,s,i,l,w]),Y=Ce.useCallback(async $=>{tw($);const{accounts:V}=await $.features[o0].connect({purposes:[Di.Payment]});if(V.length===0)throw new Error("No accounts returned from wallet");i(V.slice()),l(V[0]),p($),w(zt.Standard)},[i,p,l,w]),X=Ce.useCallback(async $=>{ew($);let V=r.statsConnectProvider;if(!V){const me=$.features[s0];if(!(me!=null&&me.provider))throw new Error("Sats Connect feature not available on selected wallet");if(V=me.provider,!V)throw new Error("Provider unavailable");s(V)}const z=e==="bitcoin:mainnet"?En.Mainnet:En.Testnet;await Bw({getProvider:async()=>V,payload:{purposes:[Di.Payment],message:"Address for receiving BTC",network:{type:z}},onFinish:me=>{const ye=(me.addresses||[]).map(Q=>({address:Q.address,purpose:Q.purpose}));i(ye);const ie=ye.find(Q=>Q.purpose==="payment")||ye[0]||null;l(ie),p($),w(zt.SatsConnect)},onCancel:()=>{}})},[r.statsConnectProvider,e,s,i,l,p,w]),L=Ce.useCallback(async($,V)=>{try{if(I($),V===zt.Standard)await Y($);else if(V===zt.SatsConnect)await X($);else if(V===void 0)if(Mi($))await Y($);else if(Fi($))await X($);else throw new Error("Wallet does not support any Bitcoin features");else throw new Error("Invalid connection type");v(!1),I(void 0)}catch(z){throw I(void 0),console.error("Failed to connect to wallet:",z),z}},[Y,X]);return{...r,connect:C,disconnect:B,connectWithWallet:L,isModalOpen:g,closeModal:N,wallets:f,connectingWallet:_,selectedConnectionType:m}}function n2(e){function r(i,s=""){const l={};for(const f in i){const c=(s?`${s}.${f}`:f).toLowerCase();i[f]===!0?l[f]=c:typeof i[f]=="object"&&i[f]!==null?l[f]=r(i[f],c):l[f]=i[f]}return l}return r(e)}const It=n2({testPage:{header:{id:!0,network:!0,connect:!0,disconnect:!0,account:!0,connectionStatus:!0},walletSelectionModal:{id:!0,walletsList:!0,walletOption:!0,standardButton:!0,satsConnectButton:!0},signMessage:{id:!0,message:!0,signMessage:!0,signedMessage:!0},signTransaction:{id:!0,psbt:!0,signTransaction:!0,signedPsbt:!0,txId:!0}}}),P0=({content:e,explorerUrl:r,...i})=>{const[s,l]=Ce.useState(!1),[f,c]=Ce.useState(""),p=()=>{navigator.clipboard.writeText(e).then(()=>{l(!0),setTimeout(()=>l(!1),2e3)})};return Ce.useEffect(()=>{c(`${e.slice(0,4)}...${e.slice(-4)}`)},[e]),J.jsxs("div",{...i,style:{display:"flex",alignItems:"center",gap:" 8px",flexDirection:"row",justifyContent:"center"},children:[r?J.jsx("a",{className:"content",href:r,target:"_blank",rel:"noopener noreferrer",children:f}):J.jsx("span",{className:"content",children:f}),J.jsx("span",{onClick:p,onKeyDown:m=>m.key==="Enter"&&p(),style:{background:"none",border:"none",cursor:"pointer"},children:s?J.jsx("span",{style:{fontSize:"0.8em",color:"green"},children:"Copied!"}):J.jsx("span",{children:""})})]})},r2=(e,r)=>e==="bitcoin:mainnet"?`https://mempool.space/address/${r}`:`https://mempool.space/testnet/address/${r}`,i2=({account:e,...r})=>{const{network:i}=Fr();return J.jsx(P0,{...r,content:e,explorerUrl:r2(i,e)})},o2=()=>{const e="wallet-spinner-keyframes";if(document.getElementById(e))return;const r=document.createElement("style");r.id=e,r.textContent=`
    @keyframes wallet-spinner-spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(r)};function s2({isOpen:e,wallets:r,onClose:i,connectingWallet:s}){Ce.useEffect(()=>{e&&c(void 0),o2()},[e]);const{connectWithWallet:l}=Mr(),[f,c]=Ce.useState(void 0),p=Ce.useCallback(ce=>Mi(ce)&&Fi(ce),[]),m=Ce.useCallback(ce=>{p(ce)?c((f==null?void 0:f.name)===ce.name?void 0:ce):(c(void 0),Mi(ce)?l(ce,zt.Standard):Fi(ce)&&l(ce,zt.SatsConnect),i())},[f,l,i,p]),w=Ce.useCallback((ce,Pe)=>{c(void 0),l(ce,Pe),i()},[l,i]),g=Ce.useCallback(ce=>{const Pe=Mi(ce),oe=Fi(ce);return Pe&&oe?"Standard + Sats Connect":Pe?"Standard":oe?"Sats Connect":"Unknown"},[]),v={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},_={background:"white",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column"},I={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 24px 16px 24px",borderBottom:"1px solid #e5e7eb"},C={margin:0,fontSize:"1.25rem",fontWeight:600,color:"#111827"},N={background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280",padding:"4px",borderRadius:"4px",transition:"all 0.2s"},B={padding:"16px 24px 24px 24px",overflowY:"auto",flex:1},Y={textAlign:"center",padding:"40px 20px"},X={margin:"0 0 8px 0",color:"#6b7280"},L={fontSize:"0.875rem",color:"#9ca3af"},$={display:"flex",flexDirection:"column",gap:"12px"},V=(ce,Pe)=>({display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:`1px solid ${Pe?"#3b82f6":"#e5e7eb"}`,borderRadius:"8px",cursor:ce?"not-allowed":"pointer",transition:"all 0.2s",background:Pe?"#eff6ff":"white",width:"100%",textAlign:"left",opacity:ce?.5:1,transform:"none"}),z={flex:1},me={fontWeight:600,color:"#111827",marginBottom:"4px",fontSize:"1rem"},ye={fontSize:"0.875rem",color:"#6b7280",backgroundColor:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",display:"inline-block"},ie={flexShrink:0,marginLeft:"16px"},Q={width:"32px",height:"32px",borderRadius:"6px",objectFit:"contain"},se={width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},Be={width:"20px",height:"20px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"wallet-spinner-spin 1s linear infinite"},ge={marginTop:"8px",padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},Ie={display:"flex",gap:"8px"},Me={flex:1,padding:"12px 16px",fontSize:"0.875rem",fontWeight:"500",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#f8fafc",color:"#374151",cursor:"pointer",transition:"all 0.2s ease-in-out"};if(e)return J.jsx("div",{style:v,onClick:i,onKeyDown:ce=>ce.key==="Escape"&&i(),role:"button",tabIndex:0,children:J.jsxs("div",{"data-testid":It.testPage.walletSelectionModal.id,style:_,onClick:ce=>ce.stopPropagation(),onKeyDown:ce=>ce.stopPropagation(),role:"dialog",tabIndex:-1,children:[J.jsxs("div",{style:I,children:[J.jsx("h2",{style:C,children:"Select a wallet"}),J.jsx("button",{type:"button",style:N,onClick:i,onMouseEnter:ce=>{ce.currentTarget.style.backgroundColor="#f3f4f6",ce.currentTarget.style.color="#111827"},onMouseLeave:ce=>{ce.currentTarget.style.backgroundColor="transparent",ce.currentTarget.style.color="#6b7280"},children:""})]}),J.jsx("div",{style:B,children:r.length===0?J.jsxs("div",{style:Y,children:[J.jsx("p",{style:X,children:"No wallet available"}),J.jsx("p",{style:L,children:"Make sure you have installed a compatible Bitcoin wallet"})]}):J.jsx("div",{"data-testid":It.testPage.walletSelectionModal.walletsList,style:$,children:r.map((ce,Pe)=>{const oe=s===ce,O=!!s;return J.jsxs("div",{children:[(f==null?void 0:f.name)!==ce.name&&J.jsxs("button",{"data-testid":It.testPage.walletSelectionModal.walletOption,type:"button",style:V(O,oe),onClick:()=>m(ce),disabled:O,onMouseEnter:M=>{O||(M.currentTarget.style.borderColor="#3b82f6",M.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",M.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:M=>{O||(M.currentTarget.style.borderColor=oe?"#3b82f6":"#e5e7eb",M.currentTarget.style.boxShadow="none",M.currentTarget.style.transform="none")},children:[J.jsxs("div",{style:z,children:[J.jsx("div",{style:me,children:ce.name}),J.jsx("div",{style:ye,children:g(ce)})]}),J.jsx("div",{style:ie,children:oe?J.jsx("div",{style:se,children:J.jsx("div",{style:Be})}):ce.icon&&J.jsx("img",{src:ce.icon,alt:ce.name,style:Q})})]}),(f==null?void 0:f.name)===ce.name&&J.jsx("div",{style:ge,children:J.jsxs("div",{style:Ie,children:[J.jsx("button",{"data-testid":It.testPage.walletSelectionModal.standardButton,type:"button",style:Me,onClick:()=>w(ce,zt.Standard),onMouseEnter:M=>{M.currentTarget.style.backgroundColor="#3b82f6",M.currentTarget.style.color="#ffffff"},onMouseLeave:M=>{M.currentTarget.style.backgroundColor="#f8fafc",M.currentTarget.style.color="#374151"},children:"Standard"}),J.jsx("button",{"data-testid":It.testPage.walletSelectionModal.satsConnectButton,type:"button",style:Me,onClick:()=>w(ce,zt.SatsConnect),onMouseEnter:M=>{M.currentTarget.style.backgroundColor="#3b82f6",M.currentTarget.style.color="#ffffff"},onMouseLeave:M=>{M.currentTarget.style.backgroundColor="#f8fafc",M.currentTarget.style.color="#374151"},children:"Sats Connect"}),J.jsx("button",{type:"button",onClick:()=>c(void 0),onMouseEnter:M=>{M.currentTarget.style.backgroundColor="#3b82f6",M.currentTarget.style.color="#ffffff"},onMouseLeave:M=>{M.currentTarget.style.backgroundColor="#f8fafc",M.currentTarget.style.color="#374151"},children:"X"})]})})]},`${ce.name}-${Pe}`)})})})]})})}const u2=()=>{const{connect:e,disconnect:r,selectedAccount:i,connected:s,selectedWallet:l,selectedConnectionType:f,wallets:c,isModalOpen:p,closeModal:m,connectingWallet:w}=Mr(),{network:g,setNetwork:v}=Fr(),_=I=>{if(!I)return"N/A";if(f){if(f===zt.Standard)return"Standard";if(f===zt.SatsConnect)return"Sats Connect"}const C=Mi(I),N=Fi(I);return C&&N?"Standard + Sats Connect":C?"Standard":N?"Sats Connect":"Unknown"};return J.jsxs("div",{"data-testid":It.testPage.header.id,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"1rem",alignItems:"start"},children:[J.jsxs("div",{style:{wordWrap:"break-word"},children:[J.jsx("strong",{children:"Network:"}),J.jsxs("select",{id:It.testPage.header.network,"data-testid":It.testPage.header.network,value:g,onChange:I=>v(I.target.value),style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem"},children:[J.jsx("option",{value:"bitcoin:mainnet",children:"Mainnet"}),J.jsx("option",{value:"bitcoin:testnet",children:"Testnet"})]})]}),J.jsxs("div",{style:{wordWrap:"break-word"},children:[J.jsx("strong",{children:"Status:"}),J.jsx("div",{"data-testid":It.testPage.header.connectionStatus,children:s?"Connected":"Not connected"})]}),J.jsxs("div",{style:{wordWrap:"break-word"},children:[J.jsx("strong",{children:"Account:"}),J.jsx("div",{children:i?J.jsx(i2,{"data-testid":It.testPage.header.account,account:i.address}):"N/A"})]}),J.jsxs("div",{style:{wordWrap:"break-word",textAlign:"center"},children:[J.jsx("strong",{children:"Connected Wallet:"}),J.jsx("div",{style:{maxHeight:140,overflowY:"auto",marginTop:4},children:l?J.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,justifyContent:"center"},children:[J.jsx("div",{style:{fontWeight:600},children:l.name}),J.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280",backgroundColor:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",display:"inline-block"},children:_(l)})]}):"N/A"})]}),J.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,justifyContent:"center"},children:J.jsx("button",{type:"button","data-testid":It.testPage.header.connect,onClick:s?r:e,children:s?"Disconnect":"Connect"})}),J.jsx(s2,{isOpen:p,wallets:c,onClose:m,connectingWallet:w})]})},$n={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},b0={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};function l2(e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return!1;const r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return!1;const i=e[5+r];return!(i===0||6+r+i!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||i>1&&e[r+6]===0&&!(e[r+7]&128))}function a2(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(e[0]!==48)throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(e[2]!==2)throw new Error("Expected DER integer");const r=e[3];if(r===0)throw new Error("R length is zero");if(5+r>=e.length)throw new Error("R length is too long");if(e[4+r]!==2)throw new Error("Expected DER integer (2)");const i=e[5+r];if(i===0)throw new Error("S length is zero");if(6+r+i!==e.length)throw new Error("S length is invalid");if(e[4]&128)throw new Error("R value is negative");if(r>1&&e[4]===0&&!(e[5]&128))throw new Error("R value excessively padded");if(e[r+6]&128)throw new Error("S value is negative");if(i>1&&e[r+6]===0&&!(e[r+7]&128))throw new Error("S value excessively padded");return{r:e.slice(4,4+r),s:e.slice(6+r)}}function c2(e,r){const i=e.length,s=r.length;if(i===0)throw new Error("R length is zero");if(s===0)throw new Error("S length is zero");if(i>33)throw new Error("R length is too long");if(s>33)throw new Error("S length is too long");if(e[0]&128)throw new Error("R value is negative");if(r[0]&128)throw new Error("S value is negative");if(i>1&&e[0]===0&&!(e[1]&128))throw new Error("R value excessively padded");if(s>1&&r[0]===0&&!(r[1]&128))throw new Error("S value excessively padded");const l=new Uint8Array(6+i+s);return l[0]=48,l[1]=l.length-2,l[2]=2,l[3]=e.length,l.set(e,4),l[4+i]=2,l[5+i]=r.length,l.set(r,6+i),l}var it;(function(e){e[e.OP_FALSE=0]="OP_FALSE",e[e.OP_0=0]="OP_0",e[e.OP_PUSHDATA1=76]="OP_PUSHDATA1",e[e.OP_PUSHDATA2=77]="OP_PUSHDATA2",e[e.OP_PUSHDATA4=78]="OP_PUSHDATA4",e[e.OP_1NEGATE=79]="OP_1NEGATE",e[e.OP_RESERVED=80]="OP_RESERVED",e[e.OP_TRUE=81]="OP_TRUE",e[e.OP_1=81]="OP_1",e[e.OP_2=82]="OP_2",e[e.OP_3=83]="OP_3",e[e.OP_4=84]="OP_4",e[e.OP_5=85]="OP_5",e[e.OP_6=86]="OP_6",e[e.OP_7=87]="OP_7",e[e.OP_8=88]="OP_8",e[e.OP_9=89]="OP_9",e[e.OP_10=90]="OP_10",e[e.OP_11=91]="OP_11",e[e.OP_12=92]="OP_12",e[e.OP_13=93]="OP_13",e[e.OP_14=94]="OP_14",e[e.OP_15=95]="OP_15",e[e.OP_16=96]="OP_16",e[e.OP_NOP=97]="OP_NOP",e[e.OP_VER=98]="OP_VER",e[e.OP_IF=99]="OP_IF",e[e.OP_NOTIF=100]="OP_NOTIF",e[e.OP_VERIF=101]="OP_VERIF",e[e.OP_VERNOTIF=102]="OP_VERNOTIF",e[e.OP_ELSE=103]="OP_ELSE",e[e.OP_ENDIF=104]="OP_ENDIF",e[e.OP_VERIFY=105]="OP_VERIFY",e[e.OP_RETURN=106]="OP_RETURN",e[e.OP_TOALTSTACK=107]="OP_TOALTSTACK",e[e.OP_FROMALTSTACK=108]="OP_FROMALTSTACK",e[e.OP_2DROP=109]="OP_2DROP",e[e.OP_2DUP=110]="OP_2DUP",e[e.OP_3DUP=111]="OP_3DUP",e[e.OP_2OVER=112]="OP_2OVER",e[e.OP_2ROT=113]="OP_2ROT",e[e.OP_2SWAP=114]="OP_2SWAP",e[e.OP_IFDUP=115]="OP_IFDUP",e[e.OP_DEPTH=116]="OP_DEPTH",e[e.OP_DROP=117]="OP_DROP",e[e.OP_DUP=118]="OP_DUP",e[e.OP_NIP=119]="OP_NIP",e[e.OP_OVER=120]="OP_OVER",e[e.OP_PICK=121]="OP_PICK",e[e.OP_ROLL=122]="OP_ROLL",e[e.OP_ROT=123]="OP_ROT",e[e.OP_SWAP=124]="OP_SWAP",e[e.OP_TUCK=125]="OP_TUCK",e[e.OP_CAT=126]="OP_CAT",e[e.OP_SUBSTR=127]="OP_SUBSTR",e[e.OP_LEFT=128]="OP_LEFT",e[e.OP_RIGHT=129]="OP_RIGHT",e[e.OP_SIZE=130]="OP_SIZE",e[e.OP_INVERT=131]="OP_INVERT",e[e.OP_AND=132]="OP_AND",e[e.OP_OR=133]="OP_OR",e[e.OP_XOR=134]="OP_XOR",e[e.OP_EQUAL=135]="OP_EQUAL",e[e.OP_EQUALVERIFY=136]="OP_EQUALVERIFY",e[e.OP_RESERVED1=137]="OP_RESERVED1",e[e.OP_RESERVED2=138]="OP_RESERVED2",e[e.OP_1ADD=139]="OP_1ADD",e[e.OP_1SUB=140]="OP_1SUB",e[e.OP_2MUL=141]="OP_2MUL",e[e.OP_2DIV=142]="OP_2DIV",e[e.OP_NEGATE=143]="OP_NEGATE",e[e.OP_ABS=144]="OP_ABS",e[e.OP_NOT=145]="OP_NOT",e[e.OP_0NOTEQUAL=146]="OP_0NOTEQUAL",e[e.OP_ADD=147]="OP_ADD",e[e.OP_SUB=148]="OP_SUB",e[e.OP_MUL=149]="OP_MUL",e[e.OP_DIV=150]="OP_DIV",e[e.OP_MOD=151]="OP_MOD",e[e.OP_LSHIFT=152]="OP_LSHIFT",e[e.OP_RSHIFT=153]="OP_RSHIFT",e[e.OP_BOOLAND=154]="OP_BOOLAND",e[e.OP_BOOLOR=155]="OP_BOOLOR",e[e.OP_NUMEQUAL=156]="OP_NUMEQUAL",e[e.OP_NUMEQUALVERIFY=157]="OP_NUMEQUALVERIFY",e[e.OP_NUMNOTEQUAL=158]="OP_NUMNOTEQUAL",e[e.OP_LESSTHAN=159]="OP_LESSTHAN",e[e.OP_GREATERTHAN=160]="OP_GREATERTHAN",e[e.OP_LESSTHANOREQUAL=161]="OP_LESSTHANOREQUAL",e[e.OP_GREATERTHANOREQUAL=162]="OP_GREATERTHANOREQUAL",e[e.OP_MIN=163]="OP_MIN",e[e.OP_MAX=164]="OP_MAX",e[e.OP_WITHIN=165]="OP_WITHIN",e[e.OP_RIPEMD160=166]="OP_RIPEMD160",e[e.OP_SHA1=167]="OP_SHA1",e[e.OP_SHA256=168]="OP_SHA256",e[e.OP_HASH160=169]="OP_HASH160",e[e.OP_HASH256=170]="OP_HASH256",e[e.OP_CODESEPARATOR=171]="OP_CODESEPARATOR",e[e.OP_CHECKSIG=172]="OP_CHECKSIG",e[e.OP_CHECKSIGVERIFY=173]="OP_CHECKSIGVERIFY",e[e.OP_CHECKMULTISIG=174]="OP_CHECKMULTISIG",e[e.OP_CHECKMULTISIGVERIFY=175]="OP_CHECKMULTISIGVERIFY",e[e.OP_NOP1=176]="OP_NOP1",e[e.OP_CHECKLOCKTIMEVERIFY=177]="OP_CHECKLOCKTIMEVERIFY",e[e.OP_NOP2=177]="OP_NOP2",e[e.OP_CHECKSEQUENCEVERIFY=178]="OP_CHECKSEQUENCEVERIFY",e[e.OP_NOP3=178]="OP_NOP3",e[e.OP_NOP4=179]="OP_NOP4",e[e.OP_NOP5=180]="OP_NOP5",e[e.OP_NOP6=181]="OP_NOP6",e[e.OP_NOP7=182]="OP_NOP7",e[e.OP_NOP8=183]="OP_NOP8",e[e.OP_NOP9=184]="OP_NOP9",e[e.OP_NOP10=185]="OP_NOP10",e[e.OP_CHECKSIGADD=186]="OP_CHECKSIGADD",e[e.OP_PUBKEYHASH=253]="OP_PUBKEYHASH",e[e.OP_PUBKEY=254]="OP_PUBKEY",e[e.OP_INVALIDOPCODE=255]="OP_INVALIDOPCODE"})(it||(it={}));const Wu="0123456789abcdefABCDEF",Ku=Wu.split("").map(e=>e.codePointAt(0)),Gu=Array(256).fill(!0).map((e,r)=>{const i=String.fromCodePoint(r),s=Wu.indexOf(i);return s<0?void 0:s<16?s:s-6}),N0=new TextEncoder,U0=new TextDecoder;function f2(e){return U0.decode(e)}function d2(e){return N0.encode(e)}function vt(e){const r=e.reduce((l,f)=>l+f.length,0),i=new Uint8Array(r);let s=0;for(const l of e)i.set(l,s),s+=l.length;return i}function je(e){const r=e||new Uint8Array;return r.length>512?p2(r):h2(r)}function h2(e){let r="";for(let i=0;i<e.length;++i)r+=Wu[Gu[Ku[e[i]>>4]]],r+=Wu[Gu[Ku[e[i]&15]]];return r}function p2(e){const r=new Uint8Array(e.length*2);for(let i=0;i<e.length;++i)r[i*2]=Ku[e[i]>>4],r[i*2+1]=Ku[e[i]&15];return U0.decode(r)}function gi(e){const r=N0.encode(e||""),i=new Uint8Array(Math.floor(r.length/2));let s;for(s=0;s<i.length;s++){const l=Gu[r[s*2]],f=Gu[r[s*2+1]];if(l===void 0||f===void 0)break;i[s]=l<<4|f}return s===i.length?i:i.slice(0,s)}function y2(e){return btoa(String.fromCharCode(...e))}function B0(e){const r=atob(e),i=new Uint8Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return i}function Ee(e,r){const i=Math.min(e.length,r.length);for(let s=0;s<i;++s)if(e[s]!==r[s])return e[s]<r[s]?-1:1;return e.length===r.length?0:e.length>r.length?1:-1}function In(e,r,i){if(r+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(i>255)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 255. Received ${i}`);return e[r]=i,r+1}function g2(e,r,i,s){if(r+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),i>65535)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 65535. Received ${i}`);return s==="LE"?(e[r]=i&255,e[r+1]=i>>8&255):(e[r]=i>>8&255,e[r+1]=i&255),r+2}function _s(e,r,i,s){if(r+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),i>4294967295)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${4294967295}. Received ${i}`);return s==="LE"?(e[r]=i&255,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255):(e[r]=i>>24&255,e[r+1]=i>>16&255,e[r+2]=i>>8&255,e[r+3]=i&255),r+4}function m2(e,r,i,s){if(r+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),i>0xffffffffffffffffn)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${0xffffffffffffffffn}. Received ${i}`);return s==="LE"?(e[r]=Number(i&0xffn),e[r+1]=Number(i>>8n&0xffn),e[r+2]=Number(i>>16n&0xffn),e[r+3]=Number(i>>24n&0xffn),e[r+4]=Number(i>>32n&0xffn),e[r+5]=Number(i>>40n&0xffn),e[r+6]=Number(i>>48n&0xffn),e[r+7]=Number(i>>56n&0xffn)):(e[r]=Number(i>>56n&0xffn),e[r+1]=Number(i>>48n&0xffn),e[r+2]=Number(i>>40n&0xffn),e[r+3]=Number(i>>32n&0xffn),e[r+4]=Number(i>>24n&0xffn),e[r+5]=Number(i>>16n&0xffn),e[r+6]=Number(i>>8n&0xffn),e[r+7]=Number(i&0xffn)),r+8}function Rr(e,r){if(r+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");return e[r]}function w2(e,r,i){if(r+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(i=i.toUpperCase(),i==="LE"){let s=0;return s=(s<<8)+e[r+1],s=(s<<8)+e[r],s}else{let s=0;return s=(s<<8)+e[r],s=(s<<8)+e[r+1],s}}function Eo(e,r,i){if(r+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(i=i.toUpperCase(),i==="LE"){let s=0;return s=(s<<8)+e[r+3]>>>0,s=(s<<8)+e[r+2]>>>0,s=(s<<8)+e[r+1]>>>0,s=(s<<8)+e[r]>>>0,s}else{let s=0;return s=(s<<8)+e[r]>>>0,s=(s<<8)+e[r+1]>>>0,s=(s<<8)+e[r+2]>>>0,s=(s<<8)+e[r+3]>>>0,s}}function H0(e,r,i,s){if(r+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(i>2147483647||i<-2147483648)throw new Error(`The value of "value" is out of range. It must be >= -2147483648 and <= 2147483647. Received ${i}`);return s=s.toUpperCase(),s==="LE"?(e[r]=i&255,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255):(e[r]=i>>24&255,e[r+1]=i>>16&255,e[r+2]=i>>8&255,e[r+3]=i&255),r+4}function O0(e,r,i,s){if(r+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(i>0x7fffffffffffffffn||i<-0x8000000000000000n)throw new Error(`The value of "value" is out of range. It must be >= ${-0x8000000000000000n} and <= ${0x7fffffffffffffffn}. Received ${i}`);return s=s.toUpperCase(),s==="LE"?(e[r]=Number(i&0xffn),e[r+1]=Number(i>>8n&0xffn),e[r+2]=Number(i>>16n&0xffn),e[r+3]=Number(i>>24n&0xffn),e[r+4]=Number(i>>32n&0xffn),e[r+5]=Number(i>>40n&0xffn),e[r+6]=Number(i>>48n&0xffn),e[r+7]=Number(i>>56n&0xffn)):(e[r]=Number(i>>56n&0xffn),e[r+1]=Number(i>>48n&0xffn),e[r+2]=Number(i>>40n&0xffn),e[r+3]=Number(i>>32n&0xffn),e[r+4]=Number(i>>24n&0xffn),e[r+5]=Number(i>>16n&0xffn),e[r+6]=Number(i>>8n&0xffn),e[r+7]=Number(i&0xffn)),r+8}function v2(e,r,i){if(r+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(i=i.toUpperCase(),i==="LE"){const s=e[r]+(e[r+1]<<8)+(e[r+2]<<16)+(e[r+3]<<24>>>0);return e[r+3]<=127?s:s-4294967296}else{const s=(e[r]<<24>>>0)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return e[r]<=127?s:s-4294967296}}function R0(e,r,i){if(r+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");i=i.toUpperCase();let s=0n;if(i==="LE")return s=(s<<8n)+BigInt(e[r+7]),s=(s<<8n)+BigInt(e[r+6]),s=(s<<8n)+BigInt(e[r+5]),s=(s<<8n)+BigInt(e[r+4]),s=(s<<8n)+BigInt(e[r+3]),s=(s<<8n)+BigInt(e[r+2]),s=(s<<8n)+BigInt(e[r+1]),s=(s<<8n)+BigInt(e[r]),e[r+7]<=127?s:s-0x10000000000000000n;{let l=0n;return l=(l<<8n)+BigInt(e[r]),l=(l<<8n)+BigInt(e[r+1]),l=(l<<8n)+BigInt(e[r+2]),l=(l<<8n)+BigInt(e[r+3]),l=(l<<8n)+BigInt(e[r+4]),l=(l<<8n)+BigInt(e[r+5]),l=(l<<8n)+BigInt(e[r+6]),l=(l<<8n)+BigInt(e[r+7]),e[r]<=127?l:l-0x10000000000000000n}}function L0(e){return e<it.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}function E2(e,r,i){const s=L0(r);return s===1?In(e,i,r):s===2?(In(e,i,it.OP_PUSHDATA1),In(e,i+1,r)):s===3?(In(e,i,it.OP_PUSHDATA2),g2(e,i+1,r,"LE")):(In(e,i,it.OP_PUSHDATA4),_s(e,i+1,r,"LE")),s}function S2(e,r){const i=Rr(e,r);let s,l;if(i<it.OP_PUSHDATA1)s=i,l=1;else if(i===it.OP_PUSHDATA1){if(r+2>e.length)return null;s=Rr(e,r+1),l=2}else if(i===it.OP_PUSHDATA2){if(r+3>e.length)return null;s=w2(e,r+1,"LE"),l=3}else{if(r+5>e.length)return null;if(i!==it.OP_PUSHDATA4)throw new Error("Unexpected opcode");s=Eo(e,r+1,"LE"),l=5}return{opcode:i,number:s,size:l}}function x2(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function _2(e){let r=Math.abs(e);const i=x2(r),s=new Uint8Array(i),l=e<0;for(let f=0;f<i;++f)In(s,f,r&255),r>>=8;return s[i-1]&128?In(s,i-1,l?128:0):l&&(s[i-1]|=128),s}var Nr;function k2(e){return{lang:(e==null?void 0:e.lang)??(Nr==null?void 0:Nr.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(Nr==null?void 0:Nr.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(Nr==null?void 0:Nr.abortPipeEarly)}}var wc;function A2(e){return wc==null?void 0:wc.get(e)}var vc;function T2(e){return vc==null?void 0:vc.get(e)}var Ec;function I2(e,r){var i;return(i=Ec==null?void 0:Ec.get(e))==null?void 0:i.get(r)}function ws(e){var i,s;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((s=(i=Object.getPrototypeOf(e))==null?void 0:i.constructor)==null?void 0:s.name))??"null":r}function nn(e,r,i,s,l){const f=l&&"input"in l?l.input:i.value,c=(l==null?void 0:l.expected)??e.expects??null,p=(l==null?void 0:l.received)??ws(f),m={kind:e.kind,type:e.type,input:f,expected:c,received:p,message:`Invalid ${r}: ${c?`Expected ${c} but r`:"R"}eceived ${p}`,requirement:e.requirement,path:l==null?void 0:l.path,issues:l==null?void 0:l.issues,lang:s.lang,abortEarly:s.abortEarly,abortPipeEarly:s.abortPipeEarly},w=e.kind==="schema",g=(l==null?void 0:l.message)??e.message??I2(e.reference,m.lang)??(w?T2(m.lang):null)??s.message??A2(m.lang);g&&(m.message=typeof g=="function"?g(m):g),w&&(i.typed=!1),i.issues?i.issues.push(m):i.issues=[m]}function C2(e,r){const i=[...new Set(e)];return i.length>1?`(${i.join(` ${r} `)})`:i[0]??"never"}var P2=class extends Error{constructor(r){super(r[0].message);ht(this,"issues");this.name="ValiError",this.issues=r}};function F0(e,r){return{kind:"validation",type:"every_item",reference:F0,async:!1,expects:null,requirement:e,message:r,_run(i,s){return i.typed&&!i.value.every(this.requirement)&&nn(this,"item",i,s),i}}}function ef(e){return{kind:"validation",type:"integer",reference:ef,async:!1,expects:null,requirement:Number.isInteger,message:e,_run(r,i){return r.typed&&!this.requirement(r.value)&&nn(this,"integer",r,i),r}}}function M0(e,r){return{kind:"validation",type:"length",reference:M0,async:!1,expects:`${e}`,requirement:e,message:r,_run(i,s){return i.typed&&i.value.length!==this.requirement&&nn(this,"length",i,s,{received:`${i.value.length}`}),i}}}function hl(e,r){return{kind:"validation",type:"max_value",reference:hl,async:!1,expects:`<=${e instanceof Date?e.toJSON():ws(e)}`,requirement:e,message:r,_run(i,s){return i.typed&&i.value>this.requirement&&nn(this,"value",i,s,{received:i.value instanceof Date?i.value.toJSON():ws(i.value)}),i}}}function pl(e,r){return{kind:"validation",type:"min_value",reference:pl,async:!1,expects:`>=${e instanceof Date?e.toJSON():ws(e)}`,requirement:e,message:r,_run(i,s){return i.typed&&i.value<this.requirement&&nn(this,"value",i,s,{received:i.value instanceof Date?i.value.toJSON():ws(i.value)}),i}}}function D0(e,r){return{kind:"validation",type:"regex",reference:D0,async:!1,expects:`${e}`,requirement:e,message:r,_run(i,s){return i.typed&&!this.requirement.test(i.value)&&nn(this,"format",i,s),i}}}function tf(e,r,i){return typeof e.default=="function"?e.default(r,i):e.default}function yl(e,r){return!e._run({typed:!1,value:r},{abortEarly:!0}).issues}function j0(){return{kind:"schema",type:"any",reference:j0,expects:"any",async:!1,_run(e){return e.typed=!0,e}}}function wn(e,r){return{kind:"schema",type:"array",reference:wn,expects:"Array",async:!1,item:e,message:r,_run(i,s){var f;const l=i.value;if(Array.isArray(l)){i.typed=!0,i.value=[];for(let c=0;c<l.length;c++){const p=l[c],m=this.item._run({typed:!1,value:p},s);if(m.issues){const w={type:"array",origin:"value",input:l,key:c,value:p};for(const g of m.issues)g.path?g.path.unshift(w):g.path=[w],(f=i.issues)==null||f.push(g);if(i.issues||(i.issues=m.issues),s.abortEarly){i.typed=!1;break}}m.typed||(i.typed=!1),i.value.push(m.value)}}else nn(this,"type",i,s);return i}}}function $0(e){return{kind:"schema",type:"bigint",reference:$0,expects:"bigint",async:!1,message:e,_run(r,i){return typeof r.value=="bigint"?r.typed=!0:nn(this,"type",r,i),r}}}function tr(e,r){return{kind:"schema",type:"custom",reference:tr,expects:"unknown",async:!1,check:e,message:r,_run(i,s){return this.check(i.value)?i.typed=!0:nn(this,"type",i,s),i}}}function gl(e,r){return{kind:"schema",type:"instance",reference:gl,expects:e.name,async:!1,class:e,message:r,_run(i,s){return i.value instanceof this.class?i.typed=!0:nn(this,"type",i,s),i}}}function Fc(e,...r){const i={kind:"schema",type:"nullable",reference:Fc,expects:`(${e.expects} | null)`,async:!1,wrapped:e,_run(s,l){return s.value===null&&("default"in this&&(s.value=tf(this,s,l)),s.value===null)?(s.typed=!0,s):this.wrapped._run(s,l)}};return 0 in r&&(i.default=r[0]),i}function V0(e,...r){const i={kind:"schema",type:"nullish",reference:V0,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,_run(s,l){return(s.value===null||s.value===void 0)&&("default"in this&&(s.value=tf(this,s,l)),s.value===null||s.value===void 0)?(s.typed=!0,s):this.wrapped._run(s,l)}};return 0 in r&&(i.default=r[0]),i}function gn(e){return{kind:"schema",type:"number",reference:gn,expects:"number",async:!1,message:e,_run(r,i){return typeof r.value=="number"&&!isNaN(r.value)?r.typed=!0:nn(this,"type",r,i),r}}}function Ct(e,r){return{kind:"schema",type:"object",reference:Ct,expects:"Object",async:!1,entries:e,message:r,_run(i,s){var f;const l=i.value;if(l&&typeof l=="object"){i.typed=!0,i.value={};for(const c in this.entries){const p=l[c],m=this.entries[c]._run({typed:!1,value:p},s);if(m.issues){const w={type:"object",origin:"value",input:l,key:c,value:p};for(const g of m.issues)g.path?g.path.unshift(w):g.path=[w],(f=i.issues)==null||f.push(g);if(i.issues||(i.issues=m.issues),s.abortEarly){i.typed=!1;break}}m.typed||(i.typed=!1),(m.value!==void 0||c in l)&&(i.value[c]=m.value)}}else nn(this,"type",i,s);return i}}}function Xu(e,...r){const i={kind:"schema",type:"optional",reference:Xu,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,_run(s,l){return s.value===void 0&&("default"in this&&(s.value=tf(this,s,l)),s.value===void 0)?(s.typed=!0,s):this.wrapped._run(s,l)}};return 0 in r&&(i.default=r[0]),i}function ji(e){return{kind:"schema",type:"string",reference:ji,expects:"string",async:!1,message:e,_run(r,i){return typeof r.value=="string"?r.typed=!0:nn(this,"type",r,i),r}}}function cr(e,r){return{kind:"schema",type:"tuple",reference:cr,expects:"Array",async:!1,items:e,message:r,_run(i,s){var f;const l=i.value;if(Array.isArray(l)){i.typed=!0,i.value=[];for(let c=0;c<this.items.length;c++){const p=l[c],m=this.items[c]._run({typed:!1,value:p},s);if(m.issues){const w={type:"array",origin:"value",input:l,key:c,value:p};for(const g of m.issues)g.path?g.path.unshift(w):g.path=[w],(f=i.issues)==null||f.push(g);if(i.issues||(i.issues=m.issues),s.abortEarly){i.typed=!1;break}}m.typed||(i.typed=!1),i.value.push(m.value)}}else nn(this,"type",i,s);return i}}}function xp(e){let r;if(e)for(const i of e)r?r.push(...i.issues):r=i.issues;return r}function nf(e,r){return{kind:"schema",type:"union",reference:nf,expects:C2(e.map(i=>i.expects),"|"),async:!1,options:e,message:r,_run(i,s){let l,f,c;for(const p of this.options){const m=p._run({typed:!1,value:i.value},s);if(m.typed)if(m.issues)f?f.push(m):f=[m];else{l=m;break}else c?c.push(m):c=[m]}if(l)return l;if(f){if(f.length===1)return f[0];nn(this,"type",i,s,{issues:xp(f)}),i.typed=!0}else{if((c==null?void 0:c.length)===1)return c[0];nn(this,"type",i,s,{issues:xp(c)})}return i}}}function mt(e,r,i){const s=e._run({typed:!1,value:r},k2(i));if(s.issues)throw new P2(s.issues);return s.value}function pi(e,r){const i={};for(const s in e.entries)i[s]=Xu(e.entries[s]);return{...e,entries:i}}function So(...e){return{...e[0],pipe:e,_run(r,i){for(const s of e)if(s.kind!=="metadata"){if(r.issues&&(s.kind==="schema"||s.kind==="transformation")){r.typed=!1;break}(!r.issues||!i.abortEarly&&!i.abortPipeEarly)&&(r=s._run(r,i))}return r}}}const _p=new Uint8Array(32),kp=gi("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Bt=e=>So(gl(Uint8Array),M0(e));function vs(e,r){return e.length!==r.length?!1:e.every((i,s)=>Ee(i,r[s])===0)}function er(e){if(!(e instanceof Uint8Array)||e.length<33)return!1;const r=e[0],i=e.slice(1,33);if(Ee(_p,i)===0||Ee(i,kp)>=0)return!1;if((r===2||r===3)&&e.length===33)return!0;const s=e.slice(33);return Ee(_p,s)===0||Ee(s,kp)>=0?!1:r===4&&e.length===65}const Vu=254;function rf(e){return!e||!("output"in e)||!(e.output instanceof Uint8Array)?!1:e.version!==void 0?(e.version&Vu)===e.version:!0}function z0(e){return Array.isArray(e)?e.length!==2?!1:e.every(r=>z0(r)):rf(e)}const b2=Bt(32),N2=Bt(20),Ap=Bt(32),rt=gl(Uint8Array);So(ji(),D0(/^([0-9a-f]{2})+$/i));const U2=So(gn(),ef(),pl(0),hl(255)),Ur=So(gn(),ef(),pl(0),hl(4294967295)),Sc=So($0(),pl(0n),hl(0x7fffffffffffffffn)),Tp=e=>Ct(Object.entries(e).reduce((r,i)=>({...r,[i[0]]:V0(i[1])}),{})),Ip=new Uint8Array(1);function Cp(e){let r=0;for(;e[r]===0;)++r;return r===e.length?Ip:(e=e.slice(r),e[0]&128?vt([Ip,e]):e)}function Pp(e){e[0]===0&&(e=e.slice(1));const r=new Uint8Array(32),i=Math.max(0,32-e.length);return r.set(e,i),r}function B2(e){const r=Rr(e,e.length-1);if(!sf(r))throw new Error("Invalid hashType "+r);const i=a2(e.subarray(0,-1)),s=Pp(i.r),l=Pp(i.s);return{signature:vt([s,l]),hashType:r}}function H2(e,r){if(mt(Ct({signature:Bt(64),hashType:U2}),{signature:e,hashType:r}),!sf(r))throw new Error("Invalid hashType "+r);const i=new Uint8Array(1);In(i,0,r);const s=Cp(e.slice(0,32)),l=Cp(e.slice(32,64));return vt([c2(s,l),i])}const O2=Object.freeze(Object.defineProperty({__proto__:null,decode:B2,encode:H2},Symbol.toStringTag,{value:"Module"})),W0=it.OP_RESERVED,K0=wn(nf([gl(Uint8Array),gn()]));function R2(e){return yl(gn(),e)&&(e===it.OP_0||e>=it.OP_1&&e<=it.OP_16||e===it.OP_1NEGATE)}function G0(e){return yl(rt,e)||R2(e)}function of(e){return yl(So(j0(),F0(G0)),e)}function X0(e){return e.length-e.filter(G0).length}function Yu(e){if(e.length===0)return it.OP_0;if(e.length===1){if(e[0]>=1&&e[0]<=16)return W0+e[0];if(e[0]===129)return it.OP_1NEGATE}}function Y0(e){return e instanceof Uint8Array}function L2(e){return yl(K0,e)}function qu(e){return e instanceof Uint8Array}function vn(e){if(Y0(e))return e;mt(K0,e);const r=e.reduce((l,f)=>qu(f)?f.length===1&&Yu(f)!==void 0?l+1:l+L0(f.length)+f.length:l+1,0),i=new Uint8Array(r);let s=0;if(e.forEach(l=>{if(qu(l)){const f=Yu(l);if(f!==void 0){In(i,s,f),s+=1;return}s+=E2(i,l.length,s),i.set(l,s),s+=l.length}else In(i,s,l),s+=1}),s!==i.length)throw new Error("Could not decode chunks");return i}function _t(e){if(L2(e))return e;mt(rt,e);const r=[];let i=0;for(;i<e.length;){const s=e[i];if(s>it.OP_0&&s<=it.OP_PUSHDATA4){const l=S2(e,i);if(l===null||(i+=l.size,i+l.number>e.length))return null;const f=e.slice(i,i+l.number);i+=l.number;const c=Yu(f);c!==void 0?r.push(c):r.push(f)}else r.push(s),i+=1}return r}function F2(e){if(Y0(e)&&(e=_t(e)),!e)throw new Error("Could not convert invalid chunks to ASM");return e.map(r=>{if(qu(r)){const i=Yu(r);if(i===void 0)return je(r);r=i}return it[r]}).join(" ")}function M2(e){return e=_t(e),mt(tr(of),e),e.map(r=>qu(r)?r:r===it.OP_0?new Uint8Array(0):_2(r-W0))}function D2(e){return er(e)}function sf(e){const r=e&-129;return r>0&&r<4}function Lr(e){return!(e instanceof Uint8Array)||!sf(e[e.length-1])?!1:l2(e.slice(0,-1))}const ms=O2;function Fe(e,r,i){Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get(){const s=i.call(this);return this[r]=s,s},set(s){Object.defineProperty(this,r,{configurable:!0,enumerable:!0,value:s,writable:!0})}})}function Mn(e){let r;return()=>(r!==void 0||(r=e()),r)}const po=it,Ou=po.OP_RESERVED;function ml(e,r){if(!e.input&&!e.output&&!(e.pubkeys&&e.m!==void 0)&&!e.signatures)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{});function i(m){return Lr(m)||(r.allowIncomplete&&m===po.OP_0)!==void 0}mt(pi(Ct({network:Ct({}),m:gn(),n:gn(),output:rt,pubkeys:wn(tr(er),"Received invalid pubkey"),signatures:wn(tr(i),"Expected signature to be of type isAcceptableSignature"),input:rt})),e);const l={network:e.network||$n};let f=[],c=!1;function p(m){c||(c=!0,f=_t(m),l.m=f[0]-Ou,l.n=f[f.length-2]-Ou,l.pubkeys=f.slice(1,-2))}if(Fe(l,"output",()=>{if(e.m&&l.n&&e.pubkeys)return vn([].concat(Ou+e.m,e.pubkeys,Ou+l.n,po.OP_CHECKMULTISIG))}),Fe(l,"m",()=>{if(l.output)return p(l.output),l.m}),Fe(l,"n",()=>{if(l.pubkeys)return l.pubkeys.length}),Fe(l,"pubkeys",()=>{if(e.output)return p(e.output),l.pubkeys}),Fe(l,"signatures",()=>{if(e.input)return _t(e.input).slice(1)}),Fe(l,"input",()=>{if(e.signatures)return vn([po.OP_0].concat(e.signatures))}),Fe(l,"witness",()=>{if(l.input)return[]}),Fe(l,"name",()=>{if(!(!l.m||!l.n))return`p2ms(${l.m} of ${l.n})`}),r.validate){if(e.output){if(p(e.output),mt(gn(),f[0],{message:"Output is invalid"}),mt(gn(),f[f.length-2],{message:"Output is invalid"}),f[f.length-1]!==po.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(l.m<=0||l.n>16||l.m>l.n||l.n!==f.length-3)throw new TypeError("Output is invalid");if(!l.pubkeys.every(m=>er(m)))throw new TypeError("Output is invalid");if(e.m!==void 0&&e.m!==l.m)throw new TypeError("m mismatch");if(e.n!==void 0&&e.n!==l.n)throw new TypeError("n mismatch");if(e.pubkeys&&!vs(e.pubkeys,l.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(e.n!==void 0&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(l.n=e.pubkeys.length,l.n<l.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<l.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>l.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==po.OP_0)throw new TypeError("Input is invalid");if(l.signatures.length===0||!l.signatures.every(i))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!vs(e.signatures,l.signatures))throw new TypeError("Signature mismatch");if(e.m!==void 0&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(l,e)}const bp=it;function q0(e,r){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),mt(pi(Ct({network:Ct({}),output:rt,pubkey:tr(er,"invalid pubkey"),signature:tr(Lr,"Expected signature to be of type isCanonicalScriptSignature"),input:rt})),e);const i=Mn(()=>_t(e.input)),l={name:"p2pk",network:e.network||$n};if(Fe(l,"output",()=>{if(e.pubkey)return vn([e.pubkey,bp.OP_CHECKSIG])}),Fe(l,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),Fe(l,"signature",()=>{if(e.input)return i()[0]}),Fe(l,"input",()=>{if(e.signature)return vn([e.signature])}),Fe(l,"witness",()=>{if(l.input)return[]}),r.validate){if(e.output){if(e.output[e.output.length-1]!==bp.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!er(l.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&Ee(e.pubkey,l.pubkey)!==0)throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&Ee(e.input,l.input)!==0)throw new TypeError("Signature mismatch");if(e.input){if(i().length!==1)throw new TypeError("Input is invalid");if(!Lr(l.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(l,e)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function j2(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function uf(e,...r){if(!j2(e))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function Np(e,r=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e.finished)throw new Error("Hash#digest() has already been called")}function $2(e,r){uf(e);const i=r.outputLen;if(e.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}function Es(...e){for(let r=0;r<e.length;r++)e[r].fill(0)}function xc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function lr(e,r){return e<<32-r|e>>>r}function Ru(e,r){return e<<r|e>>>32-r>>>0}function V2(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Q0(e){return typeof e=="string"&&(e=V2(e)),uf(e),e}class z2{}function Z0(e){const r=s=>e().update(Q0(s)).digest(),i=e();return r.outputLen=i.outputLen,r.blockLen=i.blockLen,r.create=()=>e(),r}function W2(e,r,i,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(r,i,s);const l=BigInt(32),f=BigInt(4294967295),c=Number(i>>l&f),p=Number(i&f),m=s?4:0,w=s?0:4;e.setUint32(r+m,c,s),e.setUint32(r+w,p,s)}function K2(e,r,i){return e&r^~e&i}function G2(e,r,i){return e&r^e&i^r&i}class J0 extends z2{constructor(r,i,s,l){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=r,this.outputLen=i,this.padOffset=s,this.isLE=l,this.buffer=new Uint8Array(r),this.view=xc(this.buffer)}update(r){Np(this),r=Q0(r),uf(r);const{view:i,buffer:s,blockLen:l}=this,f=r.length;for(let c=0;c<f;){const p=Math.min(l-this.pos,f-c);if(p===l){const m=xc(r);for(;l<=f-c;c+=l)this.process(m,c);continue}s.set(r.subarray(c,c+p),this.pos),this.pos+=p,c+=p,this.pos===l&&(this.process(i,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){Np(this),$2(r,this),this.finished=!0;const{buffer:i,view:s,blockLen:l,isLE:f}=this;let{pos:c}=this;i[c++]=128,Es(this.buffer.subarray(c)),this.padOffset>l-c&&(this.process(s,0),c=0);for(let v=c;v<l;v++)i[v]=0;W2(s,l-8,BigInt(this.length*8),f),this.process(s,0);const p=xc(r),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=m/4,g=this.get();if(w>g.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<w;v++)p.setUint32(4*v,g[v],f)}digest(){const{buffer:r,outputLen:i}=this;this.digestInto(r);const s=r.slice(0,i);return this.destroy(),s}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:i,buffer:s,length:l,finished:f,destroyed:c,pos:p}=this;return r.destroyed=c,r.finished=f,r.length=l,r.pos=p,l%i&&r.buffer.set(s),r}clone(){return this._cloneInto()}}const ci=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),X2=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),ey=Uint8Array.from(new Array(16).fill(0).map((e,r)=>r)),Y2=ey.map(e=>(9*e+5)%16),ty=(()=>{const i=[[ey],[Y2]];for(let s=0;s<4;s++)for(let l of i)l.push(l[s].map(f=>X2[f]));return i})(),ny=ty[0],ry=ty[1],iy=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),q2=ny.map((e,r)=>e.map(i=>iy[r][i])),Q2=ry.map((e,r)=>e.map(i=>iy[r][i])),Z2=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),J2=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function Up(e,r,i,s){return e===0?r^i^s:e===1?r&i|~r&s:e===2?(r|~i)^s:e===3?r&s|i&~s:r^(i|~s)}const Lu=new Uint32Array(16);class ev extends J0{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:r,h1:i,h2:s,h3:l,h4:f}=this;return[r,i,s,l,f]}set(r,i,s,l,f){this.h0=r|0,this.h1=i|0,this.h2=s|0,this.h3=l|0,this.h4=f|0}process(r,i){for(let I=0;I<16;I++,i+=4)Lu[I]=r.getUint32(i,!0);let s=this.h0|0,l=s,f=this.h1|0,c=f,p=this.h2|0,m=p,w=this.h3|0,g=w,v=this.h4|0,_=v;for(let I=0;I<5;I++){const C=4-I,N=Z2[I],B=J2[I],Y=ny[I],X=ry[I],L=q2[I],$=Q2[I];for(let V=0;V<16;V++){const z=Ru(s+Up(I,f,p,w)+Lu[Y[V]]+N,L[V])+v|0;s=v,v=w,w=Ru(p,10)|0,p=f,f=z}for(let V=0;V<16;V++){const z=Ru(l+Up(C,c,m,g)+Lu[X[V]]+B,$[V])+_|0;l=_,_=g,g=Ru(m,10)|0,m=c,c=z}}this.set(this.h1+p+g|0,this.h2+w+_|0,this.h3+v+l|0,this.h4+s+c|0,this.h0+f+m|0)}roundClean(){Es(Lu)}destroy(){this.destroyed=!0,Es(this.buffer),this.set(0,0,0,0,0)}}const tv=Z0(()=>new ev),nv=tv,rv=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fi=new Uint32Array(64);class iv extends J0{constructor(r=32){super(64,r,8,!1),this.A=ci[0]|0,this.B=ci[1]|0,this.C=ci[2]|0,this.D=ci[3]|0,this.E=ci[4]|0,this.F=ci[5]|0,this.G=ci[6]|0,this.H=ci[7]|0}get(){const{A:r,B:i,C:s,D:l,E:f,F:c,G:p,H:m}=this;return[r,i,s,l,f,c,p,m]}set(r,i,s,l,f,c,p,m){this.A=r|0,this.B=i|0,this.C=s|0,this.D=l|0,this.E=f|0,this.F=c|0,this.G=p|0,this.H=m|0}process(r,i){for(let v=0;v<16;v++,i+=4)fi[v]=r.getUint32(i,!1);for(let v=16;v<64;v++){const _=fi[v-15],I=fi[v-2],C=lr(_,7)^lr(_,18)^_>>>3,N=lr(I,17)^lr(I,19)^I>>>10;fi[v]=N+fi[v-7]+C+fi[v-16]|0}let{A:s,B:l,C:f,D:c,E:p,F:m,G:w,H:g}=this;for(let v=0;v<64;v++){const _=lr(p,6)^lr(p,11)^lr(p,25),I=g+_+K2(p,m,w)+rv[v]+fi[v]|0,N=(lr(s,2)^lr(s,13)^lr(s,22))+G2(s,l,f)|0;g=w,w=m,m=p,p=c+I|0,c=f,f=l,l=s,s=I+N|0}s=s+this.A|0,l=l+this.B|0,f=f+this.C|0,c=c+this.D|0,p=p+this.E|0,m=m+this.F|0,w=w+this.G|0,g=g+this.H|0,this.set(s,l,f,c,p,m,w,g)}roundClean(){Es(fi)}destroy(){this.set(0,0,0,0,0,0,0,0),Es(this.buffer)}}const ov=Z0(()=>new iv),un=ov;function Or(e){return nv(un(e))}function Ri(e){return un(un(e))}const sv={"BIP0340/challenge":Uint8Array.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Uint8Array.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Uint8Array.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Uint8Array.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Uint8Array.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Uint8Array.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Uint8Array.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Uint8Array.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Uint8Array.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function wl(e,r){return un(vt([sv[e],r]))}function uv(e){if(e.length>=255)throw new TypeError("Alphabet too long");const r=new Uint8Array(256);for(let w=0;w<r.length;w++)r[w]=255;for(let w=0;w<e.length;w++){const g=e.charAt(w),v=g.charCodeAt(0);if(r[v]!==255)throw new TypeError(g+" is ambiguous");r[v]=w}const i=e.length,s=e.charAt(0),l=Math.log(i)/Math.log(256),f=Math.log(256)/Math.log(i);function c(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";let g=0,v=0,_=0;const I=w.length;for(;_!==I&&w[_]===0;)_++,g++;const C=(I-_)*f+1>>>0,N=new Uint8Array(C);for(;_!==I;){let X=w[_],L=0;for(let $=C-1;(X!==0||L<v)&&$!==-1;$--,L++)X+=256*N[$]>>>0,N[$]=X%i>>>0,X=X/i>>>0;if(X!==0)throw new Error("Non-zero carry");v=L,_++}let B=C-v;for(;B!==C&&N[B]===0;)B++;let Y=s.repeat(g);for(;B<C;++B)Y+=e.charAt(N[B]);return Y}function p(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;let g=0,v=0,_=0;for(;w[g]===s;)v++,g++;const I=(w.length-g)*l+1>>>0,C=new Uint8Array(I);for(;g<w.length;){const X=w.charCodeAt(g);if(X>255)return;let L=r[X];if(L===255)return;let $=0;for(let V=I-1;(L!==0||$<_)&&V!==-1;V--,$++)L+=i*C[V]>>>0,C[V]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");_=$,g++}let N=I-_;for(;N!==I&&C[N]===0;)N++;const B=new Uint8Array(v+(I-N));let Y=v;for(;N!==I;)B[Y++]=C[N++];return B}function m(w){const g=p(w);if(g)return g;throw new Error("Non-base"+i+" character")}return{encode:c,decodeUnsafe:p,decode:m}}var lv="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const _c=uv(lv);function av(e){function r(f){var c=Uint8Array.from(f),p=e(c),m=c.length+4,w=new Uint8Array(m);return w.set(c,0),w.set(p.subarray(0,4),c.length),_c.encode(w)}function i(f){var c=f.slice(0,-4),p=f.slice(-4),m=e(c);if(!(p[0]^m[0]|p[1]^m[1]|p[2]^m[2]|p[3]^m[3]))return c}function s(f){var c=_c.decodeUnsafe(f);if(c!=null)return i(c)}function l(f){var c=_c.decode(f),p=i(c);if(p==null)throw new Error("Invalid checksum");return p}return{encode:r,decode:l,decodeUnsafe:s}}function cv(e){return un(un(e))}const Ss=av(cv),di=it;function ks(e,r){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),mt(pi(Ct({network:Ct({}),address:ji(),hash:N2,output:Bt(25),pubkey:tr(er),signature:tr(Lr),input:rt})),e);const i=Mn(()=>{const c=Ss.decode(e.address),p=Rr(c,0),m=c.slice(1);return{version:p,hash:m}}),s=Mn(()=>_t(e.input)),l=e.network||$n,f={name:"p2pkh",network:l};if(Fe(f,"address",()=>{if(!f.hash)return;const c=new Uint8Array(21);return In(c,0,l.pubKeyHash),c.set(f.hash,1),Ss.encode(c)}),Fe(f,"hash",()=>{if(e.output)return e.output.slice(3,23);if(e.address)return i().hash;if(e.pubkey||f.pubkey)return Or(e.pubkey||f.pubkey)}),Fe(f,"output",()=>{if(f.hash)return vn([di.OP_DUP,di.OP_HASH160,f.hash,di.OP_EQUALVERIFY,di.OP_CHECKSIG])}),Fe(f,"pubkey",()=>{if(e.input)return s()[1]}),Fe(f,"signature",()=>{if(e.input)return s()[0]}),Fe(f,"input",()=>{if(e.pubkey&&e.signature)return vn([e.signature,e.pubkey])}),Fe(f,"witness",()=>{if(f.input)return[]}),r.validate){let c=Uint8Array.from([]);if(e.address){if(i().version!==l.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");c=i().hash}if(e.hash){if(c.length>0&&Ee(c,e.hash)!==0)throw new TypeError("Hash mismatch");c=e.hash}if(e.output){if(e.output.length!==25||e.output[0]!==di.OP_DUP||e.output[1]!==di.OP_HASH160||e.output[2]!==20||e.output[23]!==di.OP_EQUALVERIFY||e.output[24]!==di.OP_CHECKSIG)throw new TypeError("Output is invalid");const p=e.output.slice(3,23);if(c.length>0&&Ee(c,p)!==0)throw new TypeError("Hash mismatch");c=p}if(e.pubkey){const p=Or(e.pubkey);if(c.length>0&&Ee(c,p)!==0)throw new TypeError("Hash mismatch");c=p}if(e.input){const p=s();if(p.length!==2)throw new TypeError("Input is invalid");if(!Lr(p[0]))throw new TypeError("Input has invalid signature");if(!er(p[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&Ee(e.signature,p[0])!==0)throw new TypeError("Signature mismatch");if(e.pubkey&&Ee(e.pubkey,p[1])!==0)throw new TypeError("Pubkey mismatch");const m=Or(p[1]);if(c.length>0&&Ee(c,m)!==0)throw new TypeError("Hash mismatch")}}return Object.assign(f,e)}const hs=it;function As(e,r){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),mt(pi(Ct({network:Ct({}),address:ji(),hash:Bt(20),output:Bt(23),redeem:pi(Ct({network:Ct({}),output:rt,input:rt,witness:wn(rt)})),input:rt,witness:wn(rt)})),e);let i=e.network;i||(i=e.redeem&&e.redeem.network||$n);const s={network:i},l=Mn(()=>{const p=Ss.decode(e.address),m=Rr(p,0),w=p.slice(1);return{version:m,hash:w}}),f=Mn(()=>_t(e.input)),c=Mn(()=>{const p=f(),m=p[p.length-1];return{network:i,output:m===hs.OP_FALSE?Uint8Array.from([]):m,input:vn(p.slice(0,-1)),witness:e.witness||[]}});if(Fe(s,"address",()=>{if(!s.hash)return;const p=new Uint8Array(21);return In(p,0,s.network.scriptHash),p.set(s.hash,1),Ss.encode(p)}),Fe(s,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return l().hash;if(s.redeem&&s.redeem.output)return Or(s.redeem.output)}),Fe(s,"output",()=>{if(s.hash)return vn([hs.OP_HASH160,s.hash,hs.OP_EQUAL])}),Fe(s,"redeem",()=>{if(e.input)return c()}),Fe(s,"input",()=>{if(!(!e.redeem||!e.redeem.input||!e.redeem.output))return vn([].concat(_t(e.redeem.input),e.redeem.output))}),Fe(s,"witness",()=>{if(s.redeem&&s.redeem.witness)return s.redeem.witness;if(s.input)return[]}),Fe(s,"name",()=>{const p=["p2sh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&p.push(s.redeem.name),p.join("-")}),r.validate){let p=Uint8Array.from([]);if(e.address){if(l().version!==i.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(l().hash.length!==20)throw new TypeError("Invalid address");p=l().hash}if(e.hash){if(p.length>0&&Ee(p,e.hash)!==0)throw new TypeError("Hash mismatch");p=e.hash}if(e.output){if(e.output.length!==23||e.output[0]!==hs.OP_HASH160||e.output[1]!==20||e.output[22]!==hs.OP_EQUAL)throw new TypeError("Output is invalid");const w=e.output.slice(2,22);if(p.length>0&&Ee(p,w)!==0)throw new TypeError("Hash mismatch");p=w}const m=w=>{if(w.output){const g=_t(w.output);if(!g||g.length<1)throw new TypeError("Redeem.output too short");if(w.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(X0(g)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const v=Or(w.output);if(p.length>0&&Ee(p,v)!==0)throw new TypeError("Hash mismatch");p=v}if(w.input){const g=w.input.length>0,v=w.witness&&w.witness.length>0;if(!g&&!v)throw new TypeError("Empty input");if(g&&v)throw new TypeError("Input and witness provided");if(g){const _=_t(w.input);if(!of(_))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const w=f();if(!w||w.length<1)throw new TypeError("Input too short");if(!(c().output instanceof Uint8Array))throw new TypeError("Input is invalid");m(c())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==i)throw new TypeError("Network mismatch");if(e.input){const w=c();if(e.redeem.output&&Ee(e.redeem.output,w.output)!==0)throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&Ee(e.redeem.input,w.input)!==0)throw new TypeError("Redeem.input mismatch")}m(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!vs(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(s,e)}var Li={},Bp;function fv(){if(Bp)return Li;Bp=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.bech32m=Li.bech32=void 0;const e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let w=0;w<e.length;w++){const g=e.charAt(w);r[g]=w}function i(w){const g=w>>25;return(w&33554431)<<5^-(g>>0&1)&996825010^-(g>>1&1)&642813549^-(g>>2&1)&513874426^-(g>>3&1)&1027748829^-(g>>4&1)&705979059}function s(w){let g=1;for(let v=0;v<w.length;++v){const _=w.charCodeAt(v);if(_<33||_>126)return"Invalid prefix ("+w+")";g=i(g)^_>>5}g=i(g);for(let v=0;v<w.length;++v){const _=w.charCodeAt(v);g=i(g)^_&31}return g}function l(w,g,v,_){let I=0,C=0;const N=(1<<v)-1,B=[];for(let Y=0;Y<w.length;++Y)for(I=I<<g|w[Y],C+=g;C>=v;)C-=v,B.push(I>>C&N);if(_)C>0&&B.push(I<<v-C&N);else{if(C>=g)return"Excess padding";if(I<<v-C&N)return"Non-zero padding"}return B}function f(w){return l(w,8,5,!0)}function c(w){const g=l(w,5,8,!1);if(Array.isArray(g))return g}function p(w){const g=l(w,5,8,!1);if(Array.isArray(g))return g;throw new Error(g)}function m(w){let g;w==="bech32"?g=1:g=734539939;function v(N,B,Y){if(Y=Y||90,N.length+7+B.length>Y)throw new TypeError("Exceeds length limit");N=N.toLowerCase();let X=s(N);if(typeof X=="string")throw new Error(X);let L=N+"1";for(let $=0;$<B.length;++$){const V=B[$];if(V>>5!==0)throw new Error("Non 5-bit word");X=i(X)^V,L+=e.charAt(V)}for(let $=0;$<6;++$)X=i(X);X^=g;for(let $=0;$<6;++$){const V=X>>(5-$)*5&31;L+=e.charAt(V)}return L}function _(N,B){if(B=B||90,N.length<8)return N+" too short";if(N.length>B)return"Exceeds length limit";const Y=N.toLowerCase(),X=N.toUpperCase();if(N!==Y&&N!==X)return"Mixed-case string "+N;N=Y;const L=N.lastIndexOf("1");if(L===-1)return"No separator character for "+N;if(L===0)return"Missing prefix for "+N;const $=N.slice(0,L),V=N.slice(L+1);if(V.length<6)return"Data too short";let z=s($);if(typeof z=="string")return z;const me=[];for(let ye=0;ye<V.length;++ye){const ie=V.charAt(ye),Q=r[ie];if(Q===void 0)return"Unknown character "+ie;z=i(z)^Q,!(ye+6>=V.length)&&me.push(Q)}return z!==g?"Invalid checksum for "+N:{prefix:$,words:me}}function I(N,B){const Y=_(N,B);if(typeof Y=="object")return Y}function C(N,B){const Y=_(N,B);if(typeof Y=="object")return Y;throw new Error(Y)}return{decodeUnsafe:I,decode:C,encode:v,toWords:f,fromWordsUnsafe:c,fromWords:p}}return Li.bech32=m("bech32"),Li.bech32m=m("bech32m"),Li}var tn=fv();const Hp=it,dv=new Uint8Array(0);function vl(e,r){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),mt(pi(Ct({address:ji(),hash:Bt(20),input:Bt(0),network:Ct({}),output:Bt(22),pubkey:tr(er,"Not a valid pubkey"),signature:tr(Lr),witness:wn(rt)})),e);const i=Mn(()=>{const f=tn.bech32.decode(e.address),c=f.words.shift(),p=tn.bech32.fromWords(f.words);return{version:c,prefix:f.prefix,data:Uint8Array.from(p)}}),s=e.network||$n,l={name:"p2wpkh",network:s};if(Fe(l,"address",()=>{if(!l.hash)return;const f=tn.bech32.toWords(l.hash);return f.unshift(0),tn.bech32.encode(s.bech32,f)}),Fe(l,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return i().data;if(e.pubkey||l.pubkey)return Or(e.pubkey||l.pubkey)}),Fe(l,"output",()=>{if(l.hash)return vn([Hp.OP_0,l.hash])}),Fe(l,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.witness)return e.witness[1]}),Fe(l,"signature",()=>{if(e.witness)return e.witness[0]}),Fe(l,"input",()=>{if(l.witness)return dv}),Fe(l,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),r.validate){let f=Uint8Array.from([]);if(e.address){if(s&&s.bech32!==i().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(i().version!==0)throw new TypeError("Invalid address version");if(i().data.length!==20)throw new TypeError("Invalid address data");f=i().data}if(e.hash){if(f.length>0&&Ee(f,e.hash)!==0)throw new TypeError("Hash mismatch");f=e.hash}if(e.output){if(e.output.length!==22||e.output[0]!==Hp.OP_0||e.output[1]!==20)throw new TypeError("Output is invalid");if(f.length>0&&Ee(f,e.output.slice(2))!==0)throw new TypeError("Hash mismatch");f=e.output.slice(2)}if(e.pubkey){const c=Or(e.pubkey);if(f.length>0&&Ee(f,c)!==0)throw new TypeError("Hash mismatch");if(f=c,!er(e.pubkey)||e.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(e.witness.length!==2)throw new TypeError("Witness is invalid");if(!Lr(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!er(e.witness[1])||e.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(e.signature&&Ee(e.signature,e.witness[0])!==0)throw new TypeError("Signature mismatch");if(e.pubkey&&Ee(e.pubkey,e.witness[1])!==0)throw new TypeError("Pubkey mismatch");const c=Or(e.witness[1]);if(f.length>0&&Ee(f,c)!==0)throw new TypeError("Hash mismatch")}}return Object.assign(l,e)}const Op=it,kc=new Uint8Array(0);function Fu(e){return!!(e instanceof Uint8Array&&e.length===65&&e[0]===4&&er(e))}function Ts(e,r){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),mt(Tp({network:Ct({}),address:ji(),hash:b2,output:Bt(34),redeem:Tp({input:rt,network:Ct({}),output:rt,witness:wn(rt)}),input:Bt(0),witness:wn(rt)}),e);const i=Mn(()=>{const c=tn.bech32.decode(e.address),p=c.words.shift(),m=tn.bech32.fromWords(c.words);return{version:p,prefix:c.prefix,data:Uint8Array.from(m)}}),s=Mn(()=>_t(e.redeem.input));let l=e.network;l||(l=e.redeem&&e.redeem.network||$n);const f={network:l};if(Fe(f,"address",()=>{if(!f.hash)return;const c=tn.bech32.toWords(f.hash);return c.unshift(0),tn.bech32.encode(l.bech32,c)}),Fe(f,"hash",()=>{if(e.output)return e.output.slice(2);if(e.address)return i().data;if(f.redeem&&f.redeem.output)return un(f.redeem.output)}),Fe(f,"output",()=>{if(f.hash)return vn([Op.OP_0,f.hash])}),Fe(f,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:kc,witness:e.witness.slice(0,-1)}}),Fe(f,"input",()=>{if(f.witness)return kc}),Fe(f,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const c=M2(s());return f.redeem=Object.assign({witness:c},e.redeem),f.redeem.input=kc,[].concat(c,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),Fe(f,"name",()=>{const c=["p2wsh"];return f.redeem!==void 0&&f.redeem.name!==void 0&&c.push(f.redeem.name),c.join("-")}),r.validate){let c=Uint8Array.from([]);if(e.address){if(i().prefix!==l.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(i().version!==0)throw new TypeError("Invalid address version");if(i().data.length!==32)throw new TypeError("Invalid address data");c=i().data}if(e.hash){if(c.length>0&&Ee(c,e.hash)!==0)throw new TypeError("Hash mismatch");c=e.hash}if(e.output){if(e.output.length!==34||e.output[0]!==Op.OP_0||e.output[1]!==32)throw new TypeError("Output is invalid");const p=e.output.slice(2);if(c.length>0&&Ee(c,p)!==0)throw new TypeError("Hash mismatch");c=p}if(e.redeem){if(e.redeem.network&&e.redeem.network!==l)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const p=_t(e.redeem.output);if(!p||p.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(X0(p)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const m=un(e.redeem.output);if(c.length>0&&Ee(c,m)!==0)throw new TypeError("Hash mismatch");c=m}if(e.redeem.input&&!of(s()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!vs(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&s().some(Fu)||e.redeem.output&&(_t(e.redeem.output)||[]).some(Fu))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const p=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&Ee(e.redeem.output,p)!==0)throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(Fu)||(_t(p)||[]).some(Fu))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(f,e)}const Rp={};function Mc(){if(!Rp.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return Rp.eccLib}const oy="0123456789abcdefABCDEF";oy.split("").map(e=>e.codePointAt(0));Array(256).fill(!0).map((e,r)=>{const i=String.fromCodePoint(r),s=oy.indexOf(i);return s<0?void 0:s<16?s:s-6});new TextEncoder;new TextDecoder;function hv(e,r,i,s){if(r+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),i>65535)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 65535. Received ${i}`);s==="LE"?(e[r]=i&255,e[r+1]=i>>8&255):(e[r]=i>>8&255,e[r+1]=i&255)}function pv(e,r,i,s){if(r+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),i>4294967295)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${4294967295}. Received ${i}`);s==="LE"?(e[r]=i&255,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255):(e[r]=i>>24&255,e[r+1]=i>>16&255,e[r+2]=i>>8&255,e[r+3]=i&255)}function yv(e,r,i,s){if(r+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),i>0xffffffffffffffffn)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${0xffffffffffffffffn}. Received ${i}`);s==="LE"?(e[r]=Number(i&0xffn),e[r+1]=Number(i>>8n&0xffn),e[r+2]=Number(i>>16n&0xffn),e[r+3]=Number(i>>24n&0xffn),e[r+4]=Number(i>>32n&0xffn),e[r+5]=Number(i>>40n&0xffn),e[r+6]=Number(i>>48n&0xffn),e[r+7]=Number(i>>56n&0xffn)):(e[r]=Number(i>>56n&0xffn),e[r+1]=Number(i>>48n&0xffn),e[r+2]=Number(i>>40n&0xffn),e[r+3]=Number(i>>32n&0xffn),e[r+4]=Number(i>>24n&0xffn),e[r+5]=Number(i>>16n&0xffn),e[r+6]=Number(i>>8n&0xffn),e[r+7]=Number(i&0xffn))}function gv(e,r,i){if(r+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(i=i.toUpperCase(),i==="LE"){let s=0;return s=(s<<8)+e[r+1],s=(s<<8)+e[r],s}else{let s=0;return s=(s<<8)+e[r],s=(s<<8)+e[r+1],s}}function mv(e,r,i){if(r+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(i=i.toUpperCase(),i==="LE"){let s=0;return s=(s<<8)+e[r+3]>>>0,s=(s<<8)+e[r+2]>>>0,s=(s<<8)+e[r+1]>>>0,s=(s<<8)+e[r]>>>0,s}else{let s=0;return s=(s<<8)+e[r]>>>0,s=(s<<8)+e[r+1]>>>0,s=(s<<8)+e[r+2]>>>0,s=(s<<8)+e[r+3]>>>0,s}}function wv(e,r,i){if(r+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(i=i.toUpperCase(),i==="LE"){let s=0n;return s=(s<<8n)+BigInt(e[r+7]),s=(s<<8n)+BigInt(e[r+6]),s=(s<<8n)+BigInt(e[r+5]),s=(s<<8n)+BigInt(e[r+4]),s=(s<<8n)+BigInt(e[r+3]),s=(s<<8n)+BigInt(e[r+2]),s=(s<<8n)+BigInt(e[r+1]),s=(s<<8n)+BigInt(e[r]),s}else{let s=0n;return s=(s<<8n)+BigInt(e[r]),s=(s<<8n)+BigInt(e[r+1]),s=(s<<8n)+BigInt(e[r+2]),s=(s<<8n)+BigInt(e[r+3]),s=(s<<8n)+BigInt(e[r+4]),s=(s<<8n)+BigInt(e[r+5]),s=(s<<8n)+BigInt(e[r+6]),s=(s<<8n)+BigInt(e[r+7]),s}}const vv=e=>{if(e<0||e>0xffffffffffffffffn)throw new RangeError("value out of range")};function Ev(e){if(e<0||e>Number.MAX_SAFE_INTEGER||e%1!==0)throw new RangeError("value out of range")}function sy(e){typeof e=="number"?Ev(e):vv(e)}function yi(e,r,i){sy(e),i===void 0&&(i=0),r===void 0&&(r=new Uint8Array(Dn(e)));let s=0;return e<253?(r.set([Number(e)],i),s=1):e<=65535?(r.set([253],i),hv(r,i+1,Number(e),"LE"),s=3):e<=4294967295?(r.set([254],i),pv(r,i+1,Number(e),"LE"),s=5):(r.set([255],i),yv(r,i+1,BigInt(e),"LE"),s=9),{buffer:r,bytes:s}}function xo(e,r){r===void 0&&(r=0);const i=e.at(r);if(i===void 0)throw new Error("buffer too small");if(i<253)return{numberValue:i,bigintValue:BigInt(i),bytes:1};if(i===253){const s=gv(e,r+1,"LE");return{numberValue:s,bigintValue:BigInt(s),bytes:3}}else if(i===254){const s=mv(e,r+1,"LE");return{numberValue:s,bigintValue:BigInt(s),bytes:5}}else{const s=wv(e,r+1,"LE");return{numberValue:s<=Number.MAX_SAFE_INTEGER?Number(s):null,bigintValue:s,bytes:9}}}function Dn(e){return sy(e),e<253?1:e<=65535?3:e<=4294967295?5:9}const Sv=9007199254740991;function xv(e,r){if(typeof e!="number"&&typeof e!="bigint")throw new Error("cannot write a non-number as a number");if(e<0&&e<BigInt(0))throw new Error("specified a negative value for writing an unsigned value");if(e>r&&e>BigInt(r))throw new Error("RangeError: value out of range");if(Math.floor(Number(e))!==Number(e))throw new Error("value has a fractional component")}function lf(e){if(e.length<1)return e;let r=e.length-1,i=0;for(let s=0;s<e.length/2;s++)i=e[s],e[s]=e[r],e[r]=i,r--;return e}function Lp(e){const r=new Uint8Array(e.length);return r.set(e),r}class en{constructor(r,i=0){ht(this,"buffer");ht(this,"offset");this.buffer=r,this.offset=i,mt(cr([rt,Ur]),[r,i])}static withCapacity(r){return new en(new Uint8Array(r))}writeUInt8(r){this.offset=In(this.buffer,this.offset,r)}writeInt32(r){this.offset=H0(this.buffer,this.offset,r,"LE")}writeInt64(r){this.offset=O0(this.buffer,this.offset,BigInt(r),"LE")}writeUInt32(r){this.offset=_s(this.buffer,this.offset,r,"LE")}writeUInt64(r){this.offset=m2(this.buffer,this.offset,BigInt(r),"LE")}writeVarInt(r){const{bytes:i}=yi(r,this.buffer,this.offset);this.offset+=i}writeSlice(r){if(this.buffer.length<this.offset+r.length)throw new Error("Cannot write slice out of bounds");this.buffer.set(r,this.offset),this.offset+=r.length}writeVarSlice(r){this.writeVarInt(r.length),this.writeSlice(r)}writeVector(r){this.writeVarInt(r.length),r.forEach(i=>this.writeVarSlice(i))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}class _v{constructor(r,i=0){ht(this,"buffer");ht(this,"offset");this.buffer=r,this.offset=i,mt(cr([rt,Ur]),[r,i])}readUInt8(){const r=Rr(this.buffer,this.offset);return this.offset++,r}readInt32(){const r=v2(this.buffer,this.offset,"LE");return this.offset+=4,r}readUInt32(){const r=Eo(this.buffer,this.offset,"LE");return this.offset+=4,r}readInt64(){const r=R0(this.buffer,this.offset,"LE");return this.offset+=8,r}readVarInt(){const{bigintValue:r,bytes:i}=xo(this.buffer,this.offset);return this.offset+=i,r}readSlice(r){xv(r,Sv);const i=Number(r);if(this.buffer.length<this.offset+i)throw new Error("Cannot read slice out of bounds");const s=this.buffer.slice(this.offset,this.offset+i);return this.offset+=i,s}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const r=this.readVarInt(),i=[];for(let s=0;s<r;s++)i.push(this.readVarSlice());return i}}const uy=192,kv=128,Av=e=>"left"in e&&"right"in e;function Dc(e,r){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const i=(e.length-33)/32;let s=r;for(let l=0;l<i;l++){const f=e.slice(33+32*l,65+32*l);Ee(s,f)<0?s=$c(s,f):s=$c(f,s)}return s}function jc(e){if(rf(e))return{hash:Hr(e)};const r=[jc(e[0]),jc(e[1])];r.sort((l,f)=>Ee(l.hash,f.hash));const[i,s]=r;return{hash:$c(i.hash,s.hash),left:i,right:s}}function Qu(e,r){if(Av(e)){const i=Qu(e.left,r);if(i!==void 0)return[...i,e.right.hash];const s=Qu(e.right,r);if(s!==void 0)return[...s,e.left.hash]}else if(Ee(e.hash,r)===0)return[]}function Hr(e){const r=e.version||uy;return wl("TapLeaf",vt([Uint8Array.from([r]),Iv(e.output)]))}function Tv(e,r){return wl("TapTweak",vt(r?[e,r]:[e]))}function Mu(e,r){if(!(e instanceof Uint8Array)||e.length!==32||r&&r.length!==32)return null;const i=Tv(e,r),s=Mc().xOnlyPointAddTweak(e,i);return!s||s.xOnlyPubkey===null?null:{parity:s.parity,x:Uint8Array.from(s.xOnlyPubkey)}}function $c(e,r){return wl("TapBranch",vt([e,r]))}function Iv(e){const r=Dn(e.length),i=new Uint8Array(r);return yi(e.length,i),vt([i,e])}const Fp=it,Mp=1,Cv=80;function Is(e,r){if(!e.address&&!e.output&&!e.pubkey&&!e.internalPubkey&&!(e.witness&&e.witness.length>1))throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),mt(pi(Ct({address:ji(),input:Bt(0),network:Ct({}),output:Bt(34),internalPubkey:Bt(32),hash:Bt(32),pubkey:Bt(32),signature:nf([Bt(64),Bt(65)]),witness:wn(rt),scriptTree:tr(z0,"Taptree is not of type isTaptree"),redeem:pi(Ct({output:rt,redeemVersion:gn(),witness:wn(rt)})),redeemVersion:gn()})),e);const i=Mn(()=>py(e.address)),s=Mn(()=>{if(!(!e.witness||!e.witness.length))return e.witness.length>=2&&e.witness[e.witness.length-1][0]===Cv?e.witness.slice(0,-1):e.witness.slice()}),l=Mn(()=>{if(e.scriptTree)return jc(e.scriptTree);if(e.hash)return{hash:e.hash}}),f=e.network||$n,c={name:"p2tr",network:f};if(Fe(c,"address",()=>{if(!c.pubkey)return;const p=tn.bech32m.toWords(c.pubkey);return p.unshift(Mp),tn.bech32m.encode(f.bech32,p)}),Fe(c,"hash",()=>{const p=l();if(p)return p.hash;const m=s();if(m&&m.length>1){const w=m[m.length-1],g=w[0]&Vu,v=m[m.length-2],_=Hr({output:v,version:g});return Dc(w,_)}return null}),Fe(c,"output",()=>{if(c.pubkey)return vn([Fp.OP_1,c.pubkey])}),Fe(c,"redeemVersion",()=>e.redeemVersion?e.redeemVersion:e.redeem&&e.redeem.redeemVersion!==void 0&&e.redeem.redeemVersion!==null?e.redeem.redeemVersion:uy),Fe(c,"redeem",()=>{const p=s();if(!(!p||p.length<2))return{output:p[p.length-2],witness:p.slice(0,-2),redeemVersion:p[p.length-1][0]&Vu}}),Fe(c,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return i().data;if(c.internalPubkey){const p=Mu(c.internalPubkey,c.hash);if(p)return p.x}}),Fe(c,"internalPubkey",()=>{if(e.internalPubkey)return e.internalPubkey;const p=s();if(p&&p.length>1)return p[p.length-1].slice(1,33)}),Fe(c,"signature",()=>{if(e.signature)return e.signature;const p=s();if(!(!p||p.length!==1))return p[0]}),Fe(c,"witness",()=>{if(e.witness)return e.witness;const p=l();if(p&&e.redeem&&e.redeem.output&&e.internalPubkey){const m=Hr({output:e.redeem.output,version:c.redeemVersion}),w=Qu(p,m);if(!w)return;const g=Mu(e.internalPubkey,p.hash);if(!g)return;const v=vt([Uint8Array.from([c.redeemVersion|g.parity]),e.internalPubkey].concat(w));return[e.redeem.output,v]}if(e.signature)return[e.signature]}),r.validate){let p=Uint8Array.from([]);if(e.address){if(f&&f.bech32!==i().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(i().version!==Mp)throw new TypeError("Invalid address version");if(i().data.length!==32)throw new TypeError("Invalid address data");p=i().data}if(e.pubkey){if(p.length>0&&Ee(p,e.pubkey)!==0)throw new TypeError("Pubkey mismatch");p=e.pubkey}if(e.output){if(e.output.length!==34||e.output[0]!==Fp.OP_1||e.output[1]!==32)throw new TypeError("Output is invalid");if(p.length>0&&Ee(p,e.output.slice(2))!==0)throw new TypeError("Pubkey mismatch");p=e.output.slice(2)}if(e.internalPubkey){const g=Mu(e.internalPubkey,c.hash);if(p.length>0&&Ee(p,g.x)!==0)throw new TypeError("Pubkey mismatch");p=g.x}if(p&&p.length&&!Mc().isXOnlyPoint(p))throw new TypeError("Invalid pubkey for p2tr");const m=l();if(e.hash&&m&&Ee(e.hash,m.hash)!==0)throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&m){const g=Hr({output:e.redeem.output,version:c.redeemVersion});if(!Qu(m,g))throw new TypeError("Redeem script not in tree")}const w=s();if(e.redeem&&c.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==c.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(_t(e.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(c.redeem.output&&Ee(e.redeem.output,c.redeem.output)!==0)throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&c.redeem.witness&&!vs(e.redeem.witness,c.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(w&&w.length)if(w.length===1){if(e.signature&&Ee(e.signature,w[0])!==0)throw new TypeError("Signature mismatch")}else{const g=w[w.length-1];if(g.length<33)throw new TypeError(`The control-block length is too small. Got ${g.length}, expected min 33.`);if((g.length-33)%32!==0)throw new TypeError(`The control-block length of ${g.length} is incorrect!`);const v=(g.length-33)/32;if(v>128)throw new TypeError(`The script path is too long. Got ${v}, expected max 128.`);const _=g.slice(1,33);if(e.internalPubkey&&Ee(e.internalPubkey,_)!==0)throw new TypeError("Internal pubkey mismatch");if(!Mc().isXOnlyPoint(_))throw new TypeError("Invalid internalPubkey for p2tr witness");const I=g[0]&Vu,C=w[w.length-2],N=Hr({output:C,version:I}),B=Dc(g,N),Y=Mu(_,B);if(!Y)throw new TypeError("Invalid outputKey for p2tr witness");if(p.length&&Ee(p,Y.x)!==0)throw new TypeError("Pubkey mismatch for p2tr witness");if(Y.parity!==(g[0]&1))throw new Error("Incorrect parity")}}return Object.assign(c,e)}const ly=40,ay=2,cy=16,fy=2,dy=80,hy="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.",Zu=[!1,!1];function Pv(e,r){const i=e.slice(2);if(i.length<ay||i.length>ly)throw new TypeError("Invalid program length for segwit address");const s=e[0]-dy;if(s<fy||s>cy)throw new TypeError("Invalid version for segwit address");if(e[1]!==i.length)throw new TypeError("Invalid script for segwit address");return Zu[0]===!1&&(console.warn(hy),Zu[0]=!0),Nv(i,s,r.bech32)}function bv(e){const r=Ss.decode(e);if(r.length<21)throw new TypeError(e+" is too short");if(r.length>21)throw new TypeError(e+" is too long");const i=Rr(r,0),s=r.slice(1);return{version:i,hash:s}}function py(e){let r,i;try{r=tn.bech32.decode(e)}catch{}if(r){if(i=r.words[0],i!==0)throw new TypeError(e+" uses wrong encoding")}else if(r=tn.bech32m.decode(e),i=r.words[0],i===0)throw new TypeError(e+" uses wrong encoding");const s=tn.bech32.fromWords(r.words.slice(1));return{version:i,prefix:r.prefix,data:Uint8Array.from(s)}}function Nv(e,r,i){const s=tn.bech32.toWords(e);return s.unshift(r),r===0?tn.bech32.encode(i,s):tn.bech32m.encode(i,s)}function Uv(e,r){r=r||$n;try{return ks({output:e,network:r}).address}catch{}try{return As({output:e,network:r}).address}catch{}try{return vl({output:e,network:r}).address}catch{}try{return Ts({output:e,network:r}).address}catch{}try{return Is({output:e,network:r}).address}catch{}try{return Pv(e,r)}catch{}throw new Error(F2(e)+" has no matching Address")}function Vc(e,r){r=r||$n;let i,s;try{i=bv(e)}catch{}if(i){if(i.version===r.pubKeyHash)return ks({hash:i.hash}).output;if(i.version===r.scriptHash)return As({hash:i.hash}).output}else{try{s=py(e)}catch{}if(s){if(s.prefix!==r.bech32)throw new Error(e+" has an invalid prefix");if(s.version===0){if(s.data.length===20)return vl({hash:s.data}).output;if(s.data.length===32)return Ts({hash:s.data}).output}else if(s.version===1){if(s.data.length===32)return Is({pubkey:s.data}).output}else if(s.version>=fy&&s.version<=cy&&s.data.length>=ay&&s.data.length<=ly)return Zu[1]===!1&&(console.warn(hy),Zu[1]=!0),vn([s.version+dy,s.data])}}throw new Error(e+" has no matching Script")}function ar(e){const r=e.length;return Dn(r)+r}function Bv(e){const r=e.length;return Dn(r)+e.reduce((i,s)=>i+ar(s),0)}const hi=new Uint8Array(0),Ac=[],Tc=gi("0000000000000000000000000000000000000000000000000000000000000000"),Dp=gi("0000000000000000000000000000000000000000000000000000000000000001"),Hv=gi("ffffffffffffffff"),Ov={script:hi,valueBuffer:Hv};function Rv(e){return e.value!==void 0}const Xe=class Xe{constructor(){ht(this,"version",1);ht(this,"locktime",0);ht(this,"ins",[]);ht(this,"outs",[])}static fromBuffer(r,i){const s=new _v(r),l=new Xe;l.version=s.readUInt32();const f=s.readUInt8(),c=s.readUInt8();let p=!1;f===Xe.ADVANCED_TRANSACTION_MARKER&&c===Xe.ADVANCED_TRANSACTION_FLAG?p=!0:s.offset-=2;const m=s.readVarInt();for(let g=0;g<m;++g)l.ins.push({hash:s.readSlice(32),index:s.readUInt32(),script:s.readVarSlice(),sequence:s.readUInt32(),witness:Ac});const w=s.readVarInt();for(let g=0;g<w;++g)l.outs.push({value:s.readInt64(),script:s.readVarSlice()});if(p){for(let g=0;g<m;++g)l.ins[g].witness=s.readVector();if(!l.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(l.locktime=s.readUInt32(),i)return l;if(s.offset!==r.length)throw new Error("Transaction has unexpected data");return l}static fromHex(r){return Xe.fromBuffer(gi(r),!1)}static isCoinbaseHash(r){mt(Ap,r);for(let i=0;i<32;++i)if(r[i]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&Xe.isCoinbaseHash(this.ins[0].hash)}addInput(r,i,s,l){return mt(cr([Ap,Ur,Fc(Xu(Ur)),Fc(Xu(rt))]),[r,i,s,l]),s==null&&(s=Xe.DEFAULT_SEQUENCE),this.ins.push({hash:r,index:i,script:l||hi,sequence:s,witness:Ac})-1}addOutput(r,i){return mt(cr([rt,Sc]),[r,i]),this.outs.push({script:r,value:i})-1}hasWitnesses(){return this.ins.some(r=>r.witness.length!==0)}stripWitnesses(){this.ins.forEach(r=>{r.witness=Ac})}weight(){const r=this.byteLength(!1),i=this.byteLength(!0);return r*3+i}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(r=!0){const i=r&&this.hasWitnesses();return(i?10:8)+Dn(this.ins.length)+Dn(this.outs.length)+this.ins.reduce((s,l)=>s+40+ar(l.script),0)+this.outs.reduce((s,l)=>s+8+ar(l.script),0)+(i?this.ins.reduce((s,l)=>s+Bv(l.witness),0):0)}clone(){const r=new Xe;return r.version=this.version,r.locktime=this.locktime,r.ins=this.ins.map(i=>({hash:i.hash,index:i.index,script:i.script,sequence:i.sequence,witness:i.witness})),r.outs=this.outs.map(i=>({script:i.script,value:i.value})),r}hashForSignature(r,i,s){if(mt(cr([Ur,rt,gn()]),[r,i,s]),r>=this.ins.length)return Dp;const l=vn(_t(i).filter(p=>p!==it.OP_CODESEPARATOR)),f=this.clone();if((s&31)===Xe.SIGHASH_NONE)f.outs=[],f.ins.forEach((p,m)=>{m!==r&&(p.sequence=0)});else if((s&31)===Xe.SIGHASH_SINGLE){if(r>=this.outs.length)return Dp;f.outs.length=r+1;for(let p=0;p<r;p++)f.outs[p]=Ov;f.ins.forEach((p,m)=>{m!==r&&(p.sequence=0)})}s&Xe.SIGHASH_ANYONECANPAY?(f.ins=[f.ins[r]],f.ins[0].script=l):(f.ins.forEach(p=>{p.script=hi}),f.ins[r].script=l);const c=new Uint8Array(f.byteLength(!1)+4);return H0(c,c.length-4,s,"LE"),f.__toBuffer(c,0,!1),Ri(c)}hashForWitnessV1(r,i,s,l,f,c){if(mt(cr([Ur,wn(rt),wn(Sc),Ur]),[r,i,s,l]),s.length!==this.ins.length||i.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const p=l===Xe.SIGHASH_DEFAULT?Xe.SIGHASH_ALL:l&Xe.SIGHASH_OUTPUT_MASK,w=(l&Xe.SIGHASH_INPUT_MASK)===Xe.SIGHASH_ANYONECANPAY,g=p===Xe.SIGHASH_NONE,v=p===Xe.SIGHASH_SINGLE;let _=hi,I=hi,C=hi,N=hi,B=hi;if(!w){let $=en.withCapacity(36*this.ins.length);this.ins.forEach(V=>{$.writeSlice(V.hash),$.writeUInt32(V.index)}),_=un($.end()),$=en.withCapacity(8*this.ins.length),s.forEach(V=>$.writeInt64(V)),I=un($.end()),$=en.withCapacity(i.map(ar).reduce((V,z)=>V+z)),i.forEach(V=>$.writeVarSlice(V)),C=un($.end()),$=en.withCapacity(4*this.ins.length),this.ins.forEach(V=>$.writeUInt32(V.sequence)),N=un($.end())}if(g||v){if(v&&r<this.outs.length){const $=this.outs[r],V=en.withCapacity(8+ar($.script));V.writeInt64($.value),V.writeVarSlice($.script),B=un(V.end())}}else{if(!this.outs.length)throw new Error("Add outputs to the transaction before signing.");const $=this.outs.map(z=>8+ar(z.script)).reduce((z,me)=>z+me),V=en.withCapacity($);this.outs.forEach(z=>{V.writeInt64(z.value),V.writeVarSlice(z.script)}),B=un(V.end())}const Y=(f?2:0)+(c?1:0),X=174-(w?49:0)-(g?32:0)+(c?32:0)+(f?37:0),L=en.withCapacity(X);if(L.writeUInt8(l),L.writeUInt32(this.version),L.writeUInt32(this.locktime),L.writeSlice(_),L.writeSlice(I),L.writeSlice(C),L.writeSlice(N),g||v||L.writeSlice(B),L.writeUInt8(Y),w){const $=this.ins[r];L.writeSlice($.hash),L.writeUInt32($.index),L.writeInt64(s[r]),L.writeVarSlice(i[r]),L.writeUInt32($.sequence)}else L.writeUInt32(r);if(c){const $=en.withCapacity(ar(c));$.writeVarSlice(c),L.writeSlice(un($.end()))}return v&&L.writeSlice(B),f&&(L.writeSlice(f),L.writeUInt8(0),L.writeUInt32(4294967295)),wl("TapSighash",vt([Uint8Array.from([0]),L.end()]))}hashForWitnessV0(r,i,s,l){mt(cr([Ur,rt,Sc,Ur]),[r,i,s,l]);let f=Uint8Array.from([]),c,p=Tc,m=Tc,w=Tc;if(l&Xe.SIGHASH_ANYONECANPAY||(f=new Uint8Array(36*this.ins.length),c=new en(f,0),this.ins.forEach(v=>{c.writeSlice(v.hash),c.writeUInt32(v.index)}),m=Ri(f)),!(l&Xe.SIGHASH_ANYONECANPAY)&&(l&31)!==Xe.SIGHASH_SINGLE&&(l&31)!==Xe.SIGHASH_NONE&&(f=new Uint8Array(4*this.ins.length),c=new en(f,0),this.ins.forEach(v=>{c.writeUInt32(v.sequence)}),w=Ri(f)),(l&31)!==Xe.SIGHASH_SINGLE&&(l&31)!==Xe.SIGHASH_NONE){const v=this.outs.reduce((_,I)=>_+8+ar(I.script),0);f=new Uint8Array(v),c=new en(f,0),this.outs.forEach(_=>{c.writeInt64(_.value),c.writeVarSlice(_.script)}),p=Ri(f)}else if((l&31)===Xe.SIGHASH_SINGLE&&r<this.outs.length){const v=this.outs[r];f=new Uint8Array(8+ar(v.script)),c=new en(f,0),c.writeInt64(v.value),c.writeVarSlice(v.script),p=Ri(f)}f=new Uint8Array(156+ar(i)),c=new en(f,0);const g=this.ins[r];return c.writeUInt32(this.version),c.writeSlice(m),c.writeSlice(w),c.writeSlice(g.hash),c.writeUInt32(g.index),c.writeVarSlice(i),c.writeInt64(s),c.writeUInt32(g.sequence),c.writeSlice(p),c.writeUInt32(this.locktime),c.writeUInt32(l),Ri(f)}getHash(r){return r&&this.isCoinbase()?new Uint8Array(32):Ri(this.__toBuffer(void 0,void 0,r))}getId(){return je(lf(this.getHash(!1)))}toBuffer(r,i){return this.__toBuffer(r,i,!0)}toHex(){return je(this.toBuffer(void 0,void 0))}setInputScript(r,i){mt(cr([gn(),rt]),[r,i]),this.ins[r].script=i}setWitness(r,i){mt(cr([gn(),wn(rt)]),[r,i]),this.ins[r].witness=i}__toBuffer(r,i,s=!1){r||(r=new Uint8Array(this.byteLength(s)));const l=new en(r,i||0);l.writeUInt32(this.version);const f=s&&this.hasWitnesses();return f&&(l.writeUInt8(Xe.ADVANCED_TRANSACTION_MARKER),l.writeUInt8(Xe.ADVANCED_TRANSACTION_FLAG)),l.writeVarInt(this.ins.length),this.ins.forEach(c=>{l.writeSlice(c.hash),l.writeUInt32(c.index),l.writeVarSlice(c.script),l.writeUInt32(c.sequence)}),l.writeVarInt(this.outs.length),this.outs.forEach(c=>{Rv(c)?l.writeInt64(c.value):l.writeSlice(c.valueBuffer),l.writeVarSlice(c.script)}),f&&this.ins.forEach(c=>{l.writeVector(c.witness)}),l.writeUInt32(this.locktime),i!==void 0?r.slice(i,l.offset):r}};ht(Xe,"DEFAULT_SEQUENCE",4294967295),ht(Xe,"SIGHASH_DEFAULT",0),ht(Xe,"SIGHASH_ALL",1),ht(Xe,"SIGHASH_NONE",2),ht(Xe,"SIGHASH_SINGLE",3),ht(Xe,"SIGHASH_ANYONECANPAY",128),ht(Xe,"SIGHASH_OUTPUT_MASK",3),ht(Xe,"SIGHASH_INPUT_MASK",128),ht(Xe,"ADVANCED_TRANSACTION_MARKER",0),ht(Xe,"ADVANCED_TRANSACTION_FLAG",1);let wt=Xe;var hr;(function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(hr||(hr={}));var Te;(function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(Te||(Te={}));var At;(function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(At||(At={}));const Lv=e=>[...Array(e).keys()];function Fv(e){if(e.key[0]!==hr.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+je(e.key));if(e.key.length!==79||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+je(e.key));if(e.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const r=e.key.slice(1),i={masterFingerprint:e.value.slice(0,4),extendedPubkey:r,path:"m"};for(const s of Lv(e.value.length/4-1)){const l=Eo(e.value,s*4+4,"LE"),f=!!(l&2147483648),c=l&2147483647;i.path+="/"+c.toString(10)+(f?"'":"")}return i}function Mv(e){const r=new Uint8Array([hr.GLOBAL_XPUB]),i=vt([r,e.extendedPubkey]),s=e.path.split("/"),l=new Uint8Array(s.length*4);l.set(e.masterFingerprint,0);let f=4;return s.slice(1).forEach(c=>{const p=c.slice(-1)==="'";let m=2147483647&parseInt(p?c.slice(0,-1):c,10);p&&(m+=2147483648),_s(l,f,m,"LE"),f+=4}),{key:i,value:l}}const Dv="{ masterFingerprint: Uint8Array; extendedPubkey: Uint8Array; path: string; }";function jv(e){const r=e.extendedPubkey,i=e.masterFingerprint,s=e.path;return r instanceof Uint8Array&&r.length===78&&[2,3].indexOf(r[45])>-1&&i instanceof Uint8Array&&i.length===4&&typeof s=="string"&&!!s.match(/^m(\/\d+'?)*$/)}function $v(e,r,i){const s=je(r.extendedPubkey);return i.has(s)?!1:(i.add(s),e.filter(l=>Ee(l.extendedPubkey,r.extendedPubkey)).length===0)}const Vv=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:$v,check:jv,decode:Fv,encode:Mv,expected:Dv},Symbol.toStringTag,{value:"Module"}));function zv(e){return{key:new Uint8Array([hr.UNSIGNED_TX]),value:e.toBuffer()}}const Wv=Object.freeze(Object.defineProperty({__proto__:null,encode:zv},Symbol.toStringTag,{value:"Module"}));function Kv(e){if(e.key[0]!==Te.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+je(e.key));return e.value}function Gv(e){return{key:new Uint8Array([Te.FINAL_SCRIPTSIG]),value:e}}const Xv="Uint8Array";function Yv(e){return e instanceof Uint8Array}function qv(e,r){return!!e&&!!r&&e.finalScriptSig===void 0}const Qv=Object.freeze(Object.defineProperty({__proto__:null,canAdd:qv,check:Yv,decode:Kv,encode:Gv,expected:Xv},Symbol.toStringTag,{value:"Module"}));function Zv(e){if(e.key[0]!==Te.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+je(e.key));return e.value}function Jv(e){return{key:new Uint8Array([Te.FINAL_SCRIPTWITNESS]),value:e}}const eE="Uint8Array";function tE(e){return e instanceof Uint8Array}function nE(e,r){return!!e&&!!r&&e.finalScriptWitness===void 0}const rE=Object.freeze(Object.defineProperty({__proto__:null,canAdd:nE,check:tE,decode:Zv,encode:Jv,expected:eE},Symbol.toStringTag,{value:"Module"}));function iE(e){if(e.key[0]!==Te.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+je(e.key));return e.value}function oE(e){return{key:new Uint8Array([Te.NON_WITNESS_UTXO]),value:e}}const sE="Uint8Array";function uE(e){return e instanceof Uint8Array}function lE(e,r){return!!e&&!!r&&e.nonWitnessUtxo===void 0}const aE=Object.freeze(Object.defineProperty({__proto__:null,canAdd:lE,check:uE,decode:iE,encode:oE,expected:sE},Symbol.toStringTag,{value:"Module"}));function cE(e){if(e.key[0]!==Te.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+je(e.key));if(!(e.key.length===34||e.key.length===66)||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+je(e.key));return{pubkey:e.key.slice(1),signature:e.value}}function fE(e){const r=new Uint8Array([Te.PARTIAL_SIG]);return{key:vt([r,e.pubkey]),value:e.signature}}const dE="{ pubkey: Uint8Array; signature: Uint8Array; }";function hE(e){return e.pubkey instanceof Uint8Array&&e.signature instanceof Uint8Array&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&pE(e.signature)}function pE(e){if(!(e instanceof Uint8Array)||e.length<9||e[0]!==48||e.length!==e[1]+3||e[2]!==2)return!1;const r=e[3];if(r>33||r<1||e[3+r+1]!==2)return!1;const i=e[3+r+2];return!(i>33||i<1||e.length!==3+r+2+i+2)}function yE(e,r,i){const s=je(r.pubkey);return i.has(s)?!1:(i.add(s),e.filter(l=>Ee(l.pubkey,r.pubkey)===0).length===0)}const gE=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:yE,check:hE,decode:cE,encode:fE,expected:dE},Symbol.toStringTag,{value:"Module"}));function mE(e){if(e.key[0]!==Te.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+je(e.key));return f2(e.value)}function wE(e){return{key:new Uint8Array([Te.POR_COMMITMENT]),value:d2(e)}}const vE="string";function EE(e){return typeof e=="string"}function SE(e,r){return!!e&&!!r&&e.porCommitment===void 0}const xE=Object.freeze(Object.defineProperty({__proto__:null,canAdd:SE,check:EE,decode:mE,encode:wE,expected:vE},Symbol.toStringTag,{value:"Module"}));function _E(e){if(e.key[0]!==Te.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+je(e.key));return Number(Eo(e.value,0,"LE"))}function kE(e){const r=Uint8Array.from([Te.SIGHASH_TYPE]),i=new Uint8Array(4);return _s(i,0,e,"LE"),{key:r,value:i}}const AE="number";function TE(e){return typeof e=="number"}function IE(e,r){return!!e&&!!r&&e.sighashType===void 0}const CE=Object.freeze(Object.defineProperty({__proto__:null,canAdd:IE,check:TE,decode:_E,encode:kE,expected:AE},Symbol.toStringTag,{value:"Module"}));function PE(e){if(e.key[0]!==Te.TAP_KEY_SIG||e.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+je(e.key));if(!yy(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value}function bE(e){return{key:Uint8Array.from([Te.TAP_KEY_SIG]),value:e}}const NE="Uint8Array";function yy(e){return e instanceof Uint8Array&&(e.length===64||e.length===65)}function UE(e,r){return!!e&&!!r&&e.tapKeySig===void 0}const BE=Object.freeze(Object.defineProperty({__proto__:null,canAdd:UE,check:yy,decode:PE,encode:bE,expected:NE},Symbol.toStringTag,{value:"Module"}));function HE(e){if(e.key[0]!==Te.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+je(e.key));if((e.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+je(e.key));const r=e.value[e.value.length-1];if((e.key[1]&254)!==r)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+je(e.key));const i=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:i,leafVersion:r}}function OE(e){const r=Uint8Array.from([Te.TAP_LEAF_SCRIPT]),i=Uint8Array.from([e.leafVersion]);return{key:vt([r,e.controlBlock]),value:vt([e.script,i])}}const RE="{ controlBlock: Uint8Array; leafVersion: number, script: Uint8Array; }";function LE(e){return e.controlBlock instanceof Uint8Array&&(e.controlBlock.length-1)%32===0&&(e.controlBlock[0]&254)===e.leafVersion&&e.script instanceof Uint8Array}function FE(e,r,i){const s=je(r.controlBlock);return i.has(s)?!1:(i.add(s),e.filter(l=>Ee(l.controlBlock,r.controlBlock)===0).length===0)}const ME=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:FE,check:LE,decode:HE,encode:OE,expected:RE},Symbol.toStringTag,{value:"Module"}));function DE(e){if(e.key[0]!==Te.TAP_MERKLE_ROOT||e.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+je(e.key));if(!gy(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value}function jE(e){return{key:Uint8Array.from([Te.TAP_MERKLE_ROOT]),value:e}}const $E="Uint8Array";function gy(e){return e instanceof Uint8Array&&e.length===32}function VE(e,r){return!!e&&!!r&&e.tapMerkleRoot===void 0}const zE=Object.freeze(Object.defineProperty({__proto__:null,canAdd:VE,check:gy,decode:DE,encode:jE,expected:$E},Symbol.toStringTag,{value:"Module"}));function WE(e){if(e.key[0]!==Te.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+je(e.key));if(e.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+je(e.key));if(e.value.length!==64&&e.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+je(e.key));const r=e.key.slice(1,33),i=e.key.slice(33);return{pubkey:r,leafHash:i,signature:e.value}}function KE(e){const r=Uint8Array.from([Te.TAP_SCRIPT_SIG]);return{key:vt([r,e.pubkey,e.leafHash]),value:e.signature}}const GE="{ pubkey: Uint8Array; leafHash: Uint8Array; signature: Uint8Array; }";function XE(e){return e.pubkey instanceof Uint8Array&&e.leafHash instanceof Uint8Array&&e.signature instanceof Uint8Array&&e.pubkey.length===32&&e.leafHash.length===32&&(e.signature.length===64||e.signature.length===65)}function YE(e,r,i){const s=je(r.pubkey)+je(r.leafHash);return i.has(s)?!1:(i.add(s),e.filter(l=>Ee(l.pubkey,r.pubkey)===0&&Ee(l.leafHash,r.leafHash)===0).length===0)}const qE=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:YE,check:XE,decode:WE,encode:KE,expected:GE},Symbol.toStringTag,{value:"Module"}));function QE(e){if(e.key[0]!==Te.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+je(e.key));const r=R0(e.value,0,"LE");let i=8;const{numberValue:s,bytes:l}=xo(e.value,i);i+=l;const f=e.value.slice(i);if(f.length!==s)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:f,value:r}}function ZE(e){const{script:r,value:i}=e,s=Dn(r.length),l=new Uint8Array(8+s+r.length);return O0(l,0,BigInt(i),"LE"),yi(r.length,l,8),l.set(r,8+s),{key:Uint8Array.from([Te.WITNESS_UTXO]),value:l}}const JE="{ script: Uint8Array; value: bigint; }";function eS(e){return e.script instanceof Uint8Array&&typeof e.value=="bigint"}function tS(e,r){return!!e&&!!r&&e.witnessUtxo===void 0}const nS=Object.freeze(Object.defineProperty({__proto__:null,canAdd:tS,check:eS,decode:QE,encode:ZE,expected:JE},Symbol.toStringTag,{value:"Module"}));function rS(e){if(e.key[0]!==At.TAP_TREE||e.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+je(e.key));let r=0;const i=[];for(;r<e.value.length;){const s=e.value[r++],l=e.value[r++],{numberValue:f,bytes:c}=xo(e.value,r);r+=c,i.push({depth:s,leafVersion:l,script:e.value.slice(r,r+f)}),r+=f}return{leaves:i}}function iS(e){const r=Uint8Array.from([At.TAP_TREE]),i=[].concat(...e.leaves.map(s=>[Uint8Array.of(s.depth,s.leafVersion),yi(BigInt(s.script.length)).buffer,s.script]));return{key:r,value:vt(i)}}const oS="{ leaves: [{ depth: number; leafVersion: number, script: Uint8Array; }] }";function sS(e){return Array.isArray(e.leaves)&&e.leaves.every(r=>r.depth>=0&&r.depth<=128&&(r.leafVersion&254)===r.leafVersion&&r.script instanceof Uint8Array)}function uS(e,r){return!!e&&!!r&&e.tapTree===void 0}const lS=Object.freeze(Object.defineProperty({__proto__:null,canAdd:uS,check:sS,decode:rS,encode:iS,expected:oS},Symbol.toStringTag,{value:"Module"})),aS=e=>[...Array(e).keys()],cS=e=>e.length===33&&[2,3].includes(e[0])||e.length===65&&e[0]===4;function af(e,r=cS){function i(p){if(p.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+je(p.key));const m=p.key.slice(1);if(!r(m))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+je(p.key));if(p.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const w={masterFingerprint:p.value.slice(0,4),pubkey:m,path:"m"};for(const g of aS(p.value.length/4-1)){const v=Eo(p.value,g*4+4,"LE"),_=!!(v&2147483648),I=v&2147483647;w.path+="/"+I.toString(10)+(_?"'":"")}return w}function s(p){const m=Uint8Array.from([e]),w=vt([m,p.pubkey]),g=p.path.split("/"),v=new Uint8Array(g.length*4);v.set(p.masterFingerprint,0);let _=4;return g.slice(1).forEach(I=>{const C=I.slice(-1)==="'";let N=2147483647&parseInt(C?I.slice(0,-1):I,10);C&&(N+=2147483648),_s(v,_,N,"LE"),_+=4}),{key:w,value:v}}const l="{ masterFingerprint: Uint8Array; pubkey: Uint8Array; path: string; }";function f(p){return p.pubkey instanceof Uint8Array&&p.masterFingerprint instanceof Uint8Array&&typeof p.path=="string"&&r(p.pubkey)&&p.masterFingerprint.length===4}function c(p,m,w){const g=je(m.pubkey);return w.has(g)?!1:(w.add(g),p.filter(v=>Ee(v.pubkey,m.pubkey)===0).length===0)}return{decode:i,encode:s,check:f,expected:l,canAddToArray:c}}function cf(e){return r;function r(i){let s;if(e.includes(i.key[0])&&(s=i.key.slice(1),!(s.length===33||s.length===65)||![2,3,4].includes(s[0])))throw new Error("Format Error: invalid pubkey in key 0x"+je(i.key));return s}}function my(e){function r(c){if(c.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+je(c.key));return c.value}function i(c){return{key:Uint8Array.from([e]),value:c}}const s="Uint8Array";function l(c){return c instanceof Uint8Array}function f(c,p){return!!c&&!!p&&c.redeemScript===void 0}return{decode:r,encode:i,check:l,expected:s,canAdd:f}}const fS=e=>e.length===32;function wy(e){const r=af(e,fS);function i(c){const{numberValue:p,bytes:m}=xo(c.value),w=r.decode({key:c.key,value:c.value.slice(m+Number(p)*32)}),g=new Array(Number(p));for(let v=0,_=m;v<p;v++,_+=32)g[v]=c.value.slice(_,_+32);return{...w,leafHashes:g}}function s(c){const p=r.encode(c),m=Dn(c.leafHashes.length),w=new Uint8Array(m);yi(c.leafHashes.length,w);const g=vt([w,...c.leafHashes,p.value]);return{...p,value:g}}const l="{ masterFingerprint: Uint8Array; pubkey: Uint8Array; path: string; leafHashes: Uint8Array[]; }";function f(c){return Array.isArray(c.leafHashes)&&c.leafHashes.every(p=>p instanceof Uint8Array&&p.length===32)&&r.check(c)}return{decode:i,encode:s,check:f,expected:l,canAddToArray:r.canAddToArray}}function vy(e){function r(c){if(c.key[0]!==e||c.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+je(c.key));if(c.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return c.value}function i(c){return{key:Uint8Array.from([e]),value:c}}const s="Uint8Array";function l(c){return c instanceof Uint8Array&&c.length===32}function f(c,p){return!!c&&!!p&&c.tapInternalKey===void 0}return{decode:r,encode:i,check:l,expected:s,canAdd:f}}function Ey(e){function r(c){if(c.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+je(c.key));return c.value}function i(c){return{key:Uint8Array.from([e]),value:c}}const s="Uint8Array";function l(c){return c instanceof Uint8Array}function f(c,p){return!!c&&!!p&&c.witnessScript===void 0}return{decode:r,encode:i,check:l,expected:s,canAdd:f}}const ff={unsignedTx:Wv,globalXpub:Vv,checkPubkey:cf([])},Ut={nonWitnessUtxo:aE,partialSig:gE,sighashType:CE,finalScriptSig:Qv,finalScriptWitness:rE,porCommitment:xE,witnessUtxo:nS,bip32Derivation:af(Te.BIP32_DERIVATION),redeemScript:my(Te.REDEEM_SCRIPT),witnessScript:Ey(Te.WITNESS_SCRIPT),checkPubkey:cf([Te.PARTIAL_SIG,Te.BIP32_DERIVATION]),tapKeySig:BE,tapScriptSig:qE,tapLeafScript:ME,tapBip32Derivation:wy(Te.TAP_BIP32_DERIVATION),tapInternalKey:vy(Te.TAP_INTERNAL_KEY),tapMerkleRoot:zE},Br={bip32Derivation:af(At.BIP32_DERIVATION),redeemScript:my(At.REDEEM_SCRIPT),witnessScript:Ey(At.WITNESS_SCRIPT),checkPubkey:cf([At.BIP32_DERIVATION]),tapBip32Derivation:wy(At.TAP_BIP32_DERIVATION),tapTree:lS,tapInternalKey:vy(At.TAP_INTERNAL_KEY)},dS=Object.freeze(Object.defineProperty({__proto__:null,globals:ff,inputs:Ut,outputs:Br},Symbol.toStringTag,{value:"Module"})),Ju=e=>[...Array(e).keys()];function jp(e){const r=e.map(hS);return r.push(Uint8Array.from([0])),vt(r)}function hS(e){const r=e.key.length,i=e.value.length,s=Dn(r),l=Dn(i),f=new Uint8Array(s+r+l+i);return yi(r,f,0),f.set(e.key,s),yi(i,f,s+r),f.set(e.value,s+r+l),f}function pS(e,r){let i=0;function s(){const{numberValue:B,bytes:Y}=xo(e,i);i+=Y;const X=e.slice(i,i+Number(B));return i+=Number(B),X}function l(){const B=Eo(e,i,"BE");return i+=4,B}function f(){const B=Rr(e,i);return i+=1,B}function c(){const B=s(),Y=s();return{key:B,value:Y}}function p(){if(i>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const B=Rr(e,i)===0;return B&&i++,B}if(l()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(f()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");const m=[],w={};for(;!p();){const B=c(),Y=je(B.key);if(w[Y])throw new Error("Format Error: Keys must be unique for global keymap: key "+Y);w[Y]=1,m.push(B)}const g=m.filter(B=>B.key[0]===hr.UNSIGNED_TX);if(g.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const v=r(g[0].value),{inputCount:_,outputCount:I}=v.getInputOutputCounts(),C=[],N=[];for(const B of Ju(_)){const Y={},X=[];for(;!p();){const L=c(),$=je(L.key);if(Y[$])throw new Error("Format Error: Keys must be unique for each input: input index "+B+" key "+$);Y[$]=1,X.push(L)}C.push(X)}for(const B of Ju(I)){const Y={},X=[];for(;!p();){const L=c(),$=je(L.key);if(Y[$])throw new Error("Format Error: Keys must be unique for each output: output index "+B+" key "+$);Y[$]=1,X.push(L)}N.push(X)}return Sy(v,{globalMapKeyVals:m,inputKeyVals:C,outputKeyVals:N})}function Jt(e,r,i){if(Ee(r,Uint8Array.from([i])))throw new Error(`Format Error: Invalid ${e} key: ${je(r)}`)}function Sy(e,{globalMapKeyVals:r,inputKeyVals:i,outputKeyVals:s}){const l={unsignedTx:e};let f=0;for(const g of r)switch(g.key[0]){case hr.UNSIGNED_TX:if(Jt("global",g.key,hr.UNSIGNED_TX),f>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");f++;break;case hr.GLOBAL_XPUB:l.globalXpub===void 0&&(l.globalXpub=[]),l.globalXpub.push(ff.globalXpub.decode(g));break;default:l.unknownKeyVals||(l.unknownKeyVals=[]),l.unknownKeyVals.push(g)}const c=i.length,p=s.length,m=[],w=[];for(const g of Ju(c)){const v={};for(const _ of i[g])switch(Ut.checkPubkey(_),_.key[0]){case Te.NON_WITNESS_UTXO:if(Jt("input",_.key,Te.NON_WITNESS_UTXO),v.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");v.nonWitnessUtxo=Ut.nonWitnessUtxo.decode(_);break;case Te.WITNESS_UTXO:if(Jt("input",_.key,Te.WITNESS_UTXO),v.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");v.witnessUtxo=Ut.witnessUtxo.decode(_);break;case Te.PARTIAL_SIG:v.partialSig===void 0&&(v.partialSig=[]),v.partialSig.push(Ut.partialSig.decode(_));break;case Te.SIGHASH_TYPE:if(Jt("input",_.key,Te.SIGHASH_TYPE),v.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");v.sighashType=Ut.sighashType.decode(_);break;case Te.REDEEM_SCRIPT:if(Jt("input",_.key,Te.REDEEM_SCRIPT),v.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");v.redeemScript=Ut.redeemScript.decode(_);break;case Te.WITNESS_SCRIPT:if(Jt("input",_.key,Te.WITNESS_SCRIPT),v.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");v.witnessScript=Ut.witnessScript.decode(_);break;case Te.BIP32_DERIVATION:v.bip32Derivation===void 0&&(v.bip32Derivation=[]),v.bip32Derivation.push(Ut.bip32Derivation.decode(_));break;case Te.FINAL_SCRIPTSIG:Jt("input",_.key,Te.FINAL_SCRIPTSIG),v.finalScriptSig=Ut.finalScriptSig.decode(_);break;case Te.FINAL_SCRIPTWITNESS:Jt("input",_.key,Te.FINAL_SCRIPTWITNESS),v.finalScriptWitness=Ut.finalScriptWitness.decode(_);break;case Te.POR_COMMITMENT:Jt("input",_.key,Te.POR_COMMITMENT),v.porCommitment=Ut.porCommitment.decode(_);break;case Te.TAP_KEY_SIG:Jt("input",_.key,Te.TAP_KEY_SIG),v.tapKeySig=Ut.tapKeySig.decode(_);break;case Te.TAP_SCRIPT_SIG:v.tapScriptSig===void 0&&(v.tapScriptSig=[]),v.tapScriptSig.push(Ut.tapScriptSig.decode(_));break;case Te.TAP_LEAF_SCRIPT:v.tapLeafScript===void 0&&(v.tapLeafScript=[]),v.tapLeafScript.push(Ut.tapLeafScript.decode(_));break;case Te.TAP_BIP32_DERIVATION:v.tapBip32Derivation===void 0&&(v.tapBip32Derivation=[]),v.tapBip32Derivation.push(Ut.tapBip32Derivation.decode(_));break;case Te.TAP_INTERNAL_KEY:Jt("input",_.key,Te.TAP_INTERNAL_KEY),v.tapInternalKey=Ut.tapInternalKey.decode(_);break;case Te.TAP_MERKLE_ROOT:Jt("input",_.key,Te.TAP_MERKLE_ROOT),v.tapMerkleRoot=Ut.tapMerkleRoot.decode(_);break;default:v.unknownKeyVals||(v.unknownKeyVals=[]),v.unknownKeyVals.push(_)}m.push(v)}for(const g of Ju(p)){const v={};for(const _ of s[g])switch(Br.checkPubkey(_),_.key[0]){case At.REDEEM_SCRIPT:if(Jt("output",_.key,At.REDEEM_SCRIPT),v.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");v.redeemScript=Br.redeemScript.decode(_);break;case At.WITNESS_SCRIPT:if(Jt("output",_.key,At.WITNESS_SCRIPT),v.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");v.witnessScript=Br.witnessScript.decode(_);break;case At.BIP32_DERIVATION:v.bip32Derivation===void 0&&(v.bip32Derivation=[]),v.bip32Derivation.push(Br.bip32Derivation.decode(_));break;case At.TAP_INTERNAL_KEY:Jt("output",_.key,At.TAP_INTERNAL_KEY),v.tapInternalKey=Br.tapInternalKey.decode(_);break;case At.TAP_TREE:Jt("output",_.key,At.TAP_TREE),v.tapTree=Br.tapTree.decode(_);break;case At.TAP_BIP32_DERIVATION:v.tapBip32Derivation===void 0&&(v.tapBip32Derivation=[]),v.tapBip32Derivation.push(Br.tapBip32Derivation.decode(_));break;default:v.unknownKeyVals||(v.unknownKeyVals=[]),v.unknownKeyVals.push(_)}w.push(v)}return{globalMap:l,inputs:m,outputs:w}}function yS({globalMap:e,inputs:r,outputs:i}){const{globalKeyVals:s,inputKeyVals:l,outputKeyVals:f}=zc({globalMap:e,inputs:r,outputs:i}),c=jp(s),p=v=>v.length===0?[Uint8Array.from([0])]:v.map(jp),m=p(l),w=p(f),g=new Uint8Array(5);return g.set([112,115,98,116,255],0),vt([g,c].concat(m,w))}const gS=(e,r)=>Ee(e.key,r.key);function Ic(e,r){const i=new Set,s=Object.entries(e).reduce((f,[c,p])=>{if(c==="unknownKeyVals")return f;const m=r[c];if(m===void 0)return f;const w=(Array.isArray(p)?p:[p]).map(m.encode);return w.map(v=>je(v.key)).forEach(v=>{if(i.has(v))throw new Error("Serialize Error: Duplicate key: "+v);i.add(v)}),f.concat(w)},[]),l=e.unknownKeyVals?e.unknownKeyVals.filter(f=>!i.has(je(f.key))):[];return s.concat(l).sort(gS)}function zc({globalMap:e,inputs:r,outputs:i}){return{globalKeyVals:Ic(e,ff),inputKeyVals:r.map(s=>Ic(s,Ut)),outputKeyVals:i.map(s=>Ic(s,Br))}}function mS(e){const r=e[0],i=zc(r),s=e.slice(1);if(s.length===0)throw new Error("Combine: Nothing to combine");const l=$p(r);if(l===void 0)throw new Error("Combine: Self missing transaction");const f=ho(i.globalKeyVals),c=i.inputKeyVals.map(ho),p=i.outputKeyVals.map(ho);for(const m of s){const w=$p(m);if(w===void 0||Ee(w.toBuffer(),l.toBuffer())!==0)throw new Error("Combine: One of the Psbts does not have the same transaction.");const g=zc(m);ho(g.globalKeyVals).forEach(Cc(f,i.globalKeyVals,g.globalKeyVals)),g.inputKeyVals.map(ho).forEach((C,N)=>C.forEach(Cc(c[N],i.inputKeyVals[N],g.inputKeyVals[N]))),g.outputKeyVals.map(ho).forEach((C,N)=>C.forEach(Cc(p[N],i.outputKeyVals[N],g.outputKeyVals[N])))}return Sy(l,{globalMapKeyVals:i.globalKeyVals,inputKeyVals:i.inputKeyVals,outputKeyVals:i.outputKeyVals})}function Cc(e,r,i){return s=>{if(e.has(s))return;const l=i.filter(f=>je(f.key)===s)[0];r.push(l),e.add(s)}}function $p(e){return e.globalMap.unsignedTx}function ho(e){const r=new Set;return e.forEach(i=>{const s=je(i.key);if(r.has(s))throw new Error("Combine: KeyValue Map keys should be unique");r.add(s)}),r}function Vt(e,r){const i=e[r];if(i===void 0)throw new Error(`No input #${r}`);return i}function xs(e,r){const i=e[r];if(i===void 0)throw new Error(`No output #${r}`);return i}function Pc(e,r,i){if(e.key[0]<i)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(r&&r.filter(s=>Ee(s.key,e.key)===0).length!==0)throw new Error(`Duplicate Key: ${je(e.key)}`)}function bc(e){let r=0;return Object.keys(e).forEach(i=>{Number(isNaN(Number(i)))&&r++}),r}function wS(e,r){let i=!1;if(r.nonWitnessUtxo||r.witnessUtxo){const s=!!r.redeemScript,l=!!r.witnessScript,f=!s||!!r.finalScriptSig,c=!l||!!r.finalScriptWitness,p=!!r.finalScriptSig||!!r.finalScriptWitness;i=f&&c&&p}if(i===!1)throw new Error(`Input #${e} has too much or too little data to clean`)}function Vp(e,r,i,s){throw new Error(`Data for ${e} key ${r} is incorrect: Expected ${i} and got ${JSON.stringify(s)}`)}function df(e){return(r,i)=>{for(const s of Object.keys(r)){const l=r[s],{canAdd:f,canAddToArray:c,check:p,expected:m}=dS[e+"s"][s]||{},w=!!c;if(p)if(w){if(!Array.isArray(l)||i[s]&&!Array.isArray(i[s]))throw new Error(`Key type ${s} must be an array`);l.every(p)||Vp(e,s,m,l);const g=i[s]||[],v=new Set;if(!l.every(_=>c(g,_,v)))throw new Error("Can not add duplicate data to array");i[s]=g.concat(l)}else{if(p(l)||Vp(e,s,m,l),!f(i,l))throw new Error(`Can not add duplicate data to ${e}`);i[s]=l}}}}const vS=df("global"),xy=df("input"),_y=df("output");function ES(e,r){const i=e.length-1,s=Vt(e,i);xy(r,s)}function SS(e,r){const i=e.length-1,s=xs(e,i);_y(r,s)}let zp=class{constructor(r){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:r}}static fromBase64(r,i){const s=B0(r);return this.fromBuffer(s,i)}static fromHex(r,i){const s=gi(r);return this.fromBuffer(s,i)}static fromBuffer(r,i){const s=pS(r,i),l=new this(s.globalMap.unsignedTx);return Object.assign(l,s),l}toBase64(){const r=this.toBuffer();return y2(r)}toHex(){const r=this.toBuffer();return je(r)}toBuffer(){return yS(this)}updateGlobal(r){return vS(r,this.globalMap),this}updateInput(r,i){const s=Vt(this.inputs,r);return xy(i,s),this}updateOutput(r,i){const s=xs(this.outputs,r);return _y(i,s),this}addUnknownKeyValToGlobal(r){return Pc(r,this.globalMap.unknownKeyVals,bc(hr)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(r),this}addUnknownKeyValToInput(r,i){const s=Vt(this.inputs,r);return Pc(i,s.unknownKeyVals,bc(Te)),s.unknownKeyVals||(s.unknownKeyVals=[]),s.unknownKeyVals.push(i),this}addUnknownKeyValToOutput(r,i){const s=xs(this.outputs,r);return Pc(i,s.unknownKeyVals,bc(At)),s.unknownKeyVals||(s.unknownKeyVals=[]),s.unknownKeyVals.push(i),this}addInput(r){this.globalMap.unsignedTx.addInput(r),this.inputs.push({unknownKeyVals:[]});const i=r.unknownKeyVals||[],s=this.inputs.length-1;if(!Array.isArray(i))throw new Error("unknownKeyVals must be an Array");return i.forEach(l=>this.addUnknownKeyValToInput(s,l)),ES(this.inputs,r),this}addOutput(r){this.globalMap.unsignedTx.addOutput(r),this.outputs.push({unknownKeyVals:[]});const i=r.unknownKeyVals||[],s=this.outputs.length-1;if(!Array.isArray(i))throw new Error("unknownKeyVals must be an Array");return i.forEach(l=>this.addUnknownKeyValToOutput(s,l)),SS(this.outputs,r),this}clearFinalizedInput(r){const i=Vt(this.inputs,r);wS(r,i);for(const s of Object.keys(i))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(s)||delete i[s];return this}combine(...r){const i=mS([this].concat(r));return Object.assign(this,i),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};function $i(e){return r=>{try{return e({output:r}),!0}catch{return!1}}}const xS=$i(ml),_S=$i(q0),kS=$i(ks),El=$i(vl),Wp=$i(Ts),ky=$i(As),Ay=$i(Is);function el(e){let r=new Uint8Array(0);function i(c){r=vt([r,c])}function s(c){const p=r.length,m=Dn(c);r=vt([r,new Uint8Array(m)]),yi(c,r,p)}function l(c){s(c.length),i(c)}function f(c){s(c.length),c.forEach(l)}return f(e),r}function Ty(e,r){const i=Or(e),s=e.slice(1,33),l=_t(r);if(l===null)throw new Error("Unknown script error");return l.findIndex(f=>typeof f=="number"?!1:Ee(e,f)===0||Ee(i,f)===0||Ee(s,f)===0)}function Sl(e,r){return Ty(e,r)!==-1}function AS(e,r){return TS(e).some(s=>Iy(s,ms.decode,r))}function Iy(e,r,i){const{hashType:s}=r(e),l=[];switch(s&wt.SIGHASH_ANYONECANPAY&&l.push("addInput"),s&31){case wt.SIGHASH_ALL:break;case wt.SIGHASH_SINGLE:case wt.SIGHASH_NONE:l.push("addOutput"),l.push("setInputSequence");break}return l.indexOf(i)===-1}function TS(e){let r=[];if((e.partialSig||[]).length===0){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];r=IS(e)}else r=e.partialSig;return r.map(i=>i.signature)}function IS(e){const r=e.finalScriptSig?_t(e.finalScriptSig)||[]:[],i=e.finalScriptWitness?_t(e.finalScriptWitness)||[]:[];return r.concat(i).filter(s=>s instanceof Uint8Array&&Lr(s)).map(s=>({signature:s}))}const zu=e=>e.length===32?e:e.slice(1,33);function Kp(e,r,i){const s=jS(r,e,i);try{const f=MS(r,s).concat(s.script).concat(s.controlBlock);return{finalScriptWitness:el(f)}}catch(l){throw new Error(`Can not finalize taproot input #${e}: ${l}`)}}function Du(e,r){const i=r?Uint8Array.from([r]):Uint8Array.from([]);return vt([e,i])}function Jn(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&Ay(e.witnessUtxo.script))}function Nc(e,r){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||r)}function Gp(e,r,i){RS(e,r,i),FS(e,r,i)}function Xp(e,r,i){LS(e,r,i),CS(e,r)}function CS(e,r){if(!r.tapTree&&!r.tapInternalKey)return;const i=r.tapInternalKey||e.tapInternalKey,s=r.tapTree||e.tapTree;if(i){const{script:l}=e,f=PS(i,s);if(l&&Ee(f,l)!==0)throw new Error("Error adding output. Script or address mismatch.")}}function PS(e,r){const i=r&&bS(r.leaves),{output:s}=Is({internalPubkey:e,scriptTree:i});return s}function bS(e=[]){return e.length===1&&e[0].depth===0?{output:e[0].script,version:e[0].leafVersion}:OS(e)}function NS(e,r){return BS(e).some(s=>Iy(s,US,r))}function US(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||wt.SIGHASH_DEFAULT}}function BS(e){const r=[];if(e.tapKeySig&&r.push(e.tapKeySig),e.tapScriptSig&&r.push(...e.tapScriptSig.map(i=>i.signature)),!r.length){const i=HS(e.finalScriptWitness);i&&r.push(i)}return r}function HS(e){if(!e)return;const r=e.slice(2);if(r.length===64||r.length===65)return r}function OS(e){let r;for(const i of e)if(r=Wc(i,r),!r)throw new Error("No room left to insert tapleaf in tree");return r}function Wc(e,r,i=0){if(i>kv)throw new Error("Max taptree depth exceeded.");if(e.depth===i)return r?void 0:{output:e.script,version:e.leafVersion};if(rf(r))return;const s=Wc(e,r&&r[0],i+1);if(s)return[s,r&&r[1]];const l=Wc(e,r&&r[1],i+1);if(l)return[r&&r[0],l]}function RS(e,r,i){const s=Jn(e)&&wo(r),l=wo(e)&&Jn(r),f=e===r&&Jn(r)&&wo(r);if(s||l||f)throw new Error(`Invalid arguments for Psbt.${i}. Cannot use both taproot and non-taproot fields.`)}function LS(e,r,i){const s=Nc(e)&&wo(r),l=wo(e)&&Nc(r),f=e===r&&Nc(r)&&wo(r);if(s||l||f)throw new Error(`Invalid arguments for Psbt.${i}. Cannot use both taproot and non-taproot fields.`)}function FS(e,r,i){if(r.tapMerkleRoot){const s=(r.tapLeafScript||[]).every(f=>Uc(f,r.tapMerkleRoot)),l=(e.tapLeafScript||[]).every(f=>Uc(f,r.tapMerkleRoot));if(!s||!l)throw new Error(`Invalid arguments for Psbt.${i}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot&&!(r.tapLeafScript||[]).every(l=>Uc(l,e.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${i}. Tapleaf not part of taptree.`)}function Uc(e,r){if(!r)return!0;const i=Hr({output:e.script,version:e.leafVersion}),s=Dc(e.controlBlock,i);return Ee(s,r)===0}function MS(e,r){const i=Hr({output:r.script,version:r.leafVersion});return(e.tapScriptSig||[]).filter(s=>Ee(s.leafHash,i)===0).map(s=>DS(r.script,s)).sort((s,l)=>l.positionInScript-s.positionInScript).map(s=>s.signature)}function DS(e,r){return Object.assign({positionInScript:Ty(r.pubkey,e)},r)}function jS(e,r,i){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${r}. No tapleaf script signature provided.`);const s=(e.tapLeafScript||[]).sort((l,f)=>l.controlBlock.length-f.controlBlock.length).find(l=>$S(l,e.tapScriptSig,i));if(!s)throw new Error(`Can not finalize taproot input #${r}. Signature for tapleaf script not found.`);return s}function $S(e,r,i){const s=Hr({output:e.script,version:e.leafVersion});return(!i||Ee(s,i)===0)&&r.find(f=>Ee(f.leafHash,s)===0)!==void 0}function wo(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}const VS={network:$n,maximumFeeRate:5e3};class tl{constructor(r={},i=new zp(new Cy)){ht(this,"data");ht(this,"__CACHE");ht(this,"opts");this.data=i,this.opts=Object.assign({},VS,r),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);const s=(l,f,c,p)=>Object.defineProperty(l,f,{enumerable:c,writable:p});s(this,"__CACHE",!1,!0),s(this,"opts",!1,!0)}static fromBase64(r,i={}){const s=B0(r);return this.fromBuffer(s,i)}static fromHex(r,i={}){const s=gi(r);return this.fromBuffer(s,i)}static fromBuffer(r,i={}){const s=zp.fromBuffer(r,zS),l=new tl(i,s);return YS(l.__CACHE.__TX,l.__CACHE),l}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(r){this.setVersion(r)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(r){this.setLocktime(r)}get txInputs(){return this.__CACHE.__TX.ins.map(r=>({hash:Lp(r.hash),index:r.index,sequence:r.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(r=>{let i;try{i=Uv(r.script,this.opts.network)}catch{}return{script:Lp(r.script),value:r.value,address:i}})}combine(...r){return this.data.combine(...r.map(i=>i.data)),this}clone(){const r=tl.fromBuffer(this.data.toBuffer());return r.opts=JSON.parse(JSON.stringify(this.opts)),r}setMaximumFeeRate(r){ju(r),this.opts.maximumFeeRate=r}setVersion(r){ju(r),ps(this.data.inputs,"setVersion");const i=this.__CACHE;return i.__TX.version=r,i.__EXTRACTED_TX=void 0,this}setLocktime(r){ju(r),ps(this.data.inputs,"setLocktime");const i=this.__CACHE;return i.__TX.locktime=r,i.__EXTRACTED_TX=void 0,this}setInputSequence(r,i){ju(i),ps(this.data.inputs,"setInputSequence");const s=this.__CACHE;if(s.__TX.ins.length<=r)throw new Error("Input index too high");return s.__TX.ins[r].sequence=i,s.__EXTRACTED_TX=void 0,this}addInputs(r){return r.forEach(i=>this.addInput(i)),this}addInput(r){if(arguments.length>1||!r||r.hash===void 0||r.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");Gp(r,r,"addInput"),ps(this.data.inputs,"addInput"),r.witnessScript&&nl(r.witnessScript);const i=this.__CACHE;this.data.addInput(r);const s=i.__TX.ins[i.__TX.ins.length-1];Ny(i,s);const l=this.data.inputs.length-1,f=this.data.inputs[l];return f.nonWitnessUtxo&&Gc(this.__CACHE,f,l),i.__FEE=void 0,i.__FEE_RATE=void 0,i.__EXTRACTED_TX=void 0,this}addOutputs(r){return r.forEach(i=>this.addOutput(i)),this}addOutput(r){if(arguments.length>1||!r||r.value===void 0||r.address===void 0&&r.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");ps(this.data.inputs,"addOutput");const{address:i}=r;if(typeof i=="string"){const{network:l}=this.opts,f=Vc(i,l);r=Object.assign({},r,{script:f})}Xp(r,r,"addOutput");const s=this.__CACHE;return this.data.addOutput(r),s.__FEE=void 0,s.__FEE_RATE=void 0,s.__EXTRACTED_TX=void 0,this}extractTransaction(r){if(!this.data.inputs.every(Py))throw new Error("Not finalized");const i=this.__CACHE;if(r||KS(this,i,this.opts),i.__EXTRACTED_TX)return i.__EXTRACTED_TX;const s=i.__TX.clone();return Ly(this.data.inputs,s,i,!0),s}getFeeRate(){return Jp("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return Jp("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return Vt(this.data.inputs,0),ys(this.data.inputs.length).forEach(r=>this.finalizeInput(r)),this}finalizeInput(r,i){const s=Vt(this.data.inputs,r);return Jn(s)?this._finalizeTaprootInput(r,s,void 0,i):this._finalizeInput(r,s,i)}finalizeTaprootInput(r,i,s=Kp){const l=Vt(this.data.inputs,r);if(Jn(l))return this._finalizeTaprootInput(r,l,i,s);throw new Error(`Cannot finalize input #${r}. Not Taproot.`)}_finalizeInput(r,i,s=qS){const{script:l,isP2SH:f,isP2WSH:c,isSegwit:p}=ex(r,i,this.__CACHE);if(!l)throw new Error(`No script found for input #${r}`);GS(i);const{finalScriptSig:m,finalScriptWitness:w}=s(r,i,l,p,f,c);if(m&&this.data.updateInput(r,{finalScriptSig:m}),w&&this.data.updateInput(r,{finalScriptWitness:w}),!m&&!w)throw new Error(`Unknown error finalizing input #${r}`);return this.data.clearFinalizedInput(r),this}_finalizeTaprootInput(r,i,s,l=Kp){if(!i.witnessUtxo)throw new Error(`Cannot finalize input #${r}. Missing withness utxo.`);if(i.tapKeySig){const f=Is({output:i.witnessUtxo.script,signature:i.tapKeySig}),c=el(f.witness);this.data.updateInput(r,{finalScriptWitness:c})}else{const{finalScriptWitness:f}=l(r,i,s);this.data.updateInput(r,{finalScriptWitness:f})}return this.data.clearFinalizedInput(r),this}getInputType(r){const i=Vt(this.data.inputs,r),s=Fy(r,i,this.__CACHE),l=_l(s,r,"input",i.redeemScript||ox(i.finalScriptSig),i.witnessScript||sx(i.finalScriptWitness)),f=l.type==="raw"?"":l.type+"-",c=Dy(l.meaningfulScript);return f+c}inputHasPubkey(r,i){const s=Vt(this.data.inputs,r);return rx(i,s,r,this.__CACHE)}inputHasHDKey(r,i){const s=Vt(this.data.inputs,r),l=qp(i);return!!s.bip32Derivation&&s.bip32Derivation.some(l)}outputHasPubkey(r,i){const s=xs(this.data.outputs,r);return ix(i,s,r,this.__CACHE)}outputHasHDKey(r,i){const s=xs(this.data.outputs,r),l=qp(i);return!!s.bip32Derivation&&s.bip32Derivation.some(l)}validateSignaturesOfAllInputs(r){return Vt(this.data.inputs,0),ys(this.data.inputs.length).map(s=>this.validateSignaturesOfInput(s,r)).reduce((s,l)=>l===!0&&s,!0)}validateSignaturesOfInput(r,i,s){const l=this.data.inputs[r];return Jn(l)?this.validateSignaturesOfTaprootInput(r,i,s):this._validateSignaturesOfInput(r,i,s)}_validateSignaturesOfInput(r,i,s){const l=this.data.inputs[r],f=(l||{}).partialSig;if(!l||!f||f.length<1)throw new Error("No signatures to validate");if(typeof i!="function")throw new Error("Need validator function to validate signatures");const c=s?f.filter(v=>Ee(v.pubkey,s)===0):f;if(c.length<1)throw new Error("No signatures for this pubkey");const p=[];let m,w,g;for(const v of c){const _=ms.decode(v.signature),{hash:I,script:C}=g!==_.hashType?By(r,Object.assign({},l,{sighashType:_.hashType}),this.__CACHE,!0):{hash:m,script:w};g=_.hashType,m=I,w=C,by(v.pubkey,C,"verify"),p.push(i(v.pubkey,I,_.signature))}return p.every(v=>v===!0)}validateSignaturesOfTaprootInput(r,i,s){const l=this.data.inputs[r],f=(l||{}).tapKeySig,c=(l||{}).tapScriptSig;if(!l&&!f&&!(c&&!c.length))throw new Error("No signatures to validate");if(typeof i!="function")throw new Error("Need validator function to validate signatures");s=s&&zu(s);const p=s?Kc(r,l,this.data.inputs,s,this.__CACHE):ZS(r,l,this.data.inputs,this.__CACHE);if(!p.length)throw new Error("No signatures for this pubkey");const m=p.find(g=>!g.leafHash);let w=0;if(f&&m){if(!i(m.pubkey,m.hash,t0(f)))return!1;w++}if(c)for(const g of c){const v=p.find(_=>Ee(_.pubkey,g.pubkey)===0);if(v){if(!i(g.pubkey,v.hash,t0(g.signature)))return!1;w++}}return w>0}signAllInputsHD(r,i=[wt.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");const s=[];for(const l of ys(this.data.inputs.length))try{this.signInputHD(l,r,i),s.push(!0)}catch{s.push(!1)}if(s.every(l=>l===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(r,i=[wt.SIGHASH_ALL]){return new Promise((s,l)=>{if(!r||!r.publicKey||!r.fingerprint)return l(new Error("Need HDSigner to sign input"));const f=[],c=[];for(const p of ys(this.data.inputs.length))c.push(this.signInputHDAsync(p,r,i).then(()=>{f.push(!0)},()=>{f.push(!1)}));return Promise.all(c).then(()=>{if(f.every(p=>p===!1))return l(new Error("No inputs were signed"));s()})})}signInputHD(r,i,s=[wt.SIGHASH_ALL]){if(!i||!i.publicKey||!i.fingerprint)throw new Error("Need HDSigner to sign input");return n0(r,this.data.inputs,i).forEach(f=>this.signInput(r,f,s)),this}signInputHDAsync(r,i,s=[wt.SIGHASH_ALL]){return new Promise((l,f)=>{if(!i||!i.publicKey||!i.fingerprint)return f(new Error("Need HDSigner to sign input"));const p=n0(r,this.data.inputs,i).map(m=>this.signInputAsync(r,m,s));return Promise.all(p).then(()=>{l()}).catch(f)})}signAllInputs(r,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const s=[];for(const l of ys(this.data.inputs.length))try{this.signInput(l,r,i),s.push(!0)}catch{s.push(!1)}if(s.every(l=>l===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(r,i){return new Promise((s,l)=>{if(!r||!r.publicKey)return l(new Error("Need Signer to sign input"));const f=[],c=[];for(const[p]of this.data.inputs.entries())c.push(this.signInputAsync(p,r,i).then(()=>{f.push(!0)},()=>{f.push(!1)}));return Promise.all(c).then(()=>{if(f.every(p=>p===!1))return l(new Error("No inputs were signed"));s()})})}signInput(r,i,s){if(!i||!i.publicKey)throw new Error("Need Signer to sign input");const l=Vt(this.data.inputs,r);return Jn(l)?this._signTaprootInput(r,l,i,void 0,s):this._signInput(r,i,s)}signTaprootInput(r,i,s,l){if(!i||!i.publicKey)throw new Error("Need Signer to sign input");const f=Vt(this.data.inputs,r);if(Jn(f))return this._signTaprootInput(r,f,i,s,l);throw new Error(`Input #${r} is not of type Taproot.`)}_signInput(r,i,s=[wt.SIGHASH_ALL]){const{hash:l,sighashType:f}=e0(this.data.inputs,r,i.publicKey,this.__CACHE,s),c=[{pubkey:i.publicKey,signature:ms.encode(i.sign(l),f)}];return this.data.updateInput(r,{partialSig:c}),this}_signTaprootInput(r,i,s,l,f=[wt.SIGHASH_DEFAULT]){const c=this.checkTaprootHashesForSig(r,i,s,l,f),p=c.filter(w=>!w.leafHash).map(w=>Du(s.signSchnorr(w.hash),i.sighashType))[0],m=c.filter(w=>!!w.leafHash).map(w=>({pubkey:zu(s.publicKey),signature:Du(s.signSchnorr(w.hash),i.sighashType),leafHash:w.leafHash}));return p&&this.data.updateInput(r,{tapKeySig:p}),m.length&&this.data.updateInput(r,{tapScriptSig:m}),this}signInputAsync(r,i,s){return Promise.resolve().then(()=>{if(!i||!i.publicKey)throw new Error("Need Signer to sign input");const l=Vt(this.data.inputs,r);return Jn(l)?this._signTaprootInputAsync(r,l,i,void 0,s):this._signInputAsync(r,i,s)})}signTaprootInputAsync(r,i,s,l){return Promise.resolve().then(()=>{if(!i||!i.publicKey)throw new Error("Need Signer to sign input");const f=Vt(this.data.inputs,r);if(Jn(f))return this._signTaprootInputAsync(r,f,i,s,l);throw new Error(`Input #${r} is not of type Taproot.`)})}_signInputAsync(r,i,s=[wt.SIGHASH_ALL]){const{hash:l,sighashType:f}=e0(this.data.inputs,r,i.publicKey,this.__CACHE,s);return Promise.resolve(i.sign(l)).then(c=>{const p=[{pubkey:i.publicKey,signature:ms.encode(c,f)}];this.data.updateInput(r,{partialSig:p})})}async _signTaprootInputAsync(r,i,s,l,f=[wt.SIGHASH_DEFAULT]){const c=this.checkTaprootHashesForSig(r,i,s,l,f),p=[],m=c.filter(g=>!g.leafHash)[0];if(m){const g=Promise.resolve(s.signSchnorr(m.hash)).then(v=>({tapKeySig:Du(v,i.sighashType)}));p.push(g)}const w=c.filter(g=>!!g.leafHash);if(w.length){const g=w.map(v=>Promise.resolve(s.signSchnorr(v.hash)).then(_=>({tapScriptSig:[{pubkey:zu(s.publicKey),signature:Du(_,i.sighashType),leafHash:v.leafHash}]})));p.push(...g)}return Promise.all(p).then(g=>{g.forEach(v=>this.data.updateInput(r,v))})}checkTaprootHashesForSig(r,i,s,l,f){if(typeof s.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${r}.`);const c=Kc(r,i,this.data.inputs,s.publicKey,this.__CACHE,l,f);if(!c||!c.length)throw new Error(`Can not sign for input #${r} with the key ${je(s.publicKey)}`);return c}toBuffer(){return Bc(this.__CACHE),this.data.toBuffer()}toHex(){return Bc(this.__CACHE),this.data.toHex()}toBase64(){return Bc(this.__CACHE),this.data.toBase64()}updateGlobal(r){return this.data.updateGlobal(r),this}updateInput(r,i){return i.witnessScript&&nl(i.witnessScript),Gp(this.data.inputs[r],i,"updateInput"),this.data.updateInput(r,i),i.nonWitnessUtxo&&Gc(this.__CACHE,this.data.inputs[r],r),this}updateOutput(r,i){const s=this.data.outputs[r];return Xp(s,i,"updateOutput"),this.data.updateOutput(r,i),this}addUnknownKeyValToGlobal(r){return this.data.addUnknownKeyValToGlobal(r),this}addUnknownKeyValToInput(r,i){return this.data.addUnknownKeyValToInput(r,i),this}addUnknownKeyValToOutput(r,i){return this.data.addUnknownKeyValToOutput(r,i),this}clearFinalizedInput(r){return this.data.clearFinalizedInput(r),this}}const zS=e=>new Cy(e);class Cy{constructor(r=Uint8Array.from([2,0,0,0,0,0,0,0,0,0])){ht(this,"tx");this.tx=wt.fromBuffer(r),XS(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(r){if(r.hash===void 0||r.index===void 0||!(r.hash instanceof Uint8Array)&&typeof r.hash!="string"||typeof r.index!="number")throw new Error("Error adding input.");const i=typeof r.hash=="string"?lf(gi(r.hash)):r.hash;this.tx.addInput(i,r.index,r.sequence)}addOutput(r){if(r.script===void 0||r.value===void 0||!(r.script instanceof Uint8Array)||typeof r.value!="bigint")throw new Error("Error adding output.");this.tx.addOutput(r.script,r.value)}toBuffer(){return this.tx.toBuffer()}}function WS(e,r,i){switch(i){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return Yp(1,e.partialSig);case"multisig":const s=ml({output:r});return Yp(s.m,e.partialSig,s.pubkeys);default:return!1}}function Bc(e){if(e.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function Yp(e,r,i){if(!r)return!1;let s;if(i?s=i.map(l=>{const f=ux(l);return r.find(c=>Ee(c.pubkey,f)===0)}).filter(l=>!!l):s=r,s.length>e)throw new Error("Too many signatures");return s.length===e}function Py(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function qp(e){return r=>!(Ee(e.fingerprint,r.masterFingerprint)||Ee(e.derivePath(r.path).publicKey,r.pubkey))}function ju(e){if(typeof e!="number"||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function KS(e,r,i){const s=r.__FEE_RATE||e.getFeeRate(),l=r.__EXTRACTED_TX.virtualSize(),f=s*l;if(s>=i.maximumFeeRate)throw new Error(`Warning: You are paying around ${(f/1e8).toFixed(8)} in fees, which is ${s} satoshi per byte for a transaction with a VSize of ${l} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function ps(e,r){e.forEach(i=>{if(Jn(i)?NS(i,r):AS(i,r))throw new Error("Can not modify transaction, signatures exist.")})}function GS(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:r,sighashType:i}=e;r.forEach(s=>{const{hashType:l}=ms.decode(s.signature);if(i!==l)throw new Error("Signature sighash does not match input sighash type")})}function by(e,r,i){if(!Sl(e,r))throw new Error(`Can not ${i} for this input with the key ${je(e)}`)}function XS(e){if(!e.ins.every(i=>i.script&&i.script.length===0&&i.witness&&i.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function YS(e,r){e.ins.forEach(i=>{Ny(r,i)})}function Ny(e,r){const i=je(lf(Uint8Array.from(r.hash)))+":"+r.index;if(e.__TX_IN_CACHE[i])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[i]=1}function Uy(e,r){return(i,s,l,f)=>{const c=e({redeem:{output:l}}).output;if(Ee(s,c))throw new Error(`${r} for ${f} #${i} doesn't match the scriptPubKey in the prevout`)}}const Qp=Uy(As,"Redeem script"),Zp=Uy(Ts,"Witness script");function Jp(e,r,i,s){if(!i.every(Py))throw new Error(`PSBT must be finalized to calculate ${r}`);if(e==="__FEE_RATE"&&s.__FEE_RATE)return s.__FEE_RATE;if(e==="__FEE"&&s.__FEE)return s.__FEE;let l,f=!0;if(s.__EXTRACTED_TX?(l=s.__EXTRACTED_TX,f=!1):l=s.__TX.clone(),Ly(i,l,s,f),e==="__FEE_RATE")return s.__FEE_RATE;if(e==="__FEE")return s.__FEE}function qS(e,r,i,s,l,f){const c=Dy(i);if(!WS(r,i,c))throw new Error(`Can not finalize input #${e}`);return QS(i,c,r.partialSig,s,l,f)}function QS(e,r,i,s,l,f){let c,p;const m=JS(e,r,i),w=f?Ts({redeem:m}):null,g=l?As({redeem:w||m}):null;return s?(w?p=el(w.witness):p=el(m.witness),g&&(c=g.input)):g?c=g.input:c=m.input,{finalScriptSig:c,finalScriptWitness:p}}function e0(e,r,i,s,l){const f=Vt(e,r),{hash:c,sighashType:p,script:m}=By(r,f,s,!1,l);return by(i,m,"sign"),{hash:c,sighashType:p}}function By(e,r,i,s,l){const f=i.__TX,c=r.sighashType||wt.SIGHASH_ALL;Oy(c,l);let p,m;if(r.nonWitnessUtxo){const v=xl(i,r,e),_=f.ins[e].hash,I=v.getHash();if(Ee(_,I)!==0)throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const C=f.ins[e].index;m=v.outs[C]}else if(r.witnessUtxo)m=r.witnessUtxo;else throw new Error("Need a Utxo input item for signing");const{meaningfulScript:w,type:g}=_l(m.script,e,"input",r.redeemScript,r.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(g)>=0)p=f.hashForWitnessV0(e,w,m.value,c);else if(El(w)){const v=ks({hash:w.slice(2)}).output;p=f.hashForWitnessV0(e,v,m.value,c)}else{if(r.nonWitnessUtxo===void 0&&i.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${je(w)}`);!s&&i.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),p=f.hashForSignature(e,w,c)}return{script:w,sighashType:c,hash:p}}function ZS(e,r,i,s){const l=[];if(r.tapInternalKey){const c=Hy(e,r,s);c&&l.push(c)}if(r.tapScriptSig){const c=r.tapScriptSig.map(p=>p.pubkey);l.push(...c)}return l.map(c=>Kc(e,r,i,c,s)).flat()}function Hy(e,r,i){const{script:s}=hf(e,r,i);return Ay(s)?s.subarray(2,34):null}function t0(e){return e.length===64?e:e.subarray(0,64)}function Kc(e,r,i,s,l,f,c){const p=l.__TX,m=r.sighashType||wt.SIGHASH_DEFAULT;Oy(m,c);const w=i.map((C,N)=>hf(N,C,l)),g=w.map(C=>C.script),v=w.map(C=>C.value),_=[];if(r.tapInternalKey&&!f){const C=Hy(e,r,l)||Uint8Array.from([]);if(Ee(zu(s),C)===0){const N=p.hashForWitnessV1(e,g,v,m);_.push({pubkey:s,hash:N})}}const I=(r.tapLeafScript||[]).filter(C=>Sl(s,C.script)).map(C=>{const N=Hr({output:C.script,version:C.leafVersion});return Object.assign({hash:N},C)}).filter(C=>!f||Ee(f,C.hash)===0).map(C=>{const N=p.hashForWitnessV1(e,g,v,m,C.hash);return{pubkey:s,hash:N,leafHash:C.hash}});return _.concat(I)}function Oy(e,r){if(r&&r.indexOf(e)<0){const i=nx(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${i}`)}}function JS(e,r,i){let s;switch(r){case"multisig":const l=tx(e,i);s=ml({output:e,signatures:l});break;case"pubkey":s=q0({output:e,signature:i[0].signature});break;case"pubkeyhash":s=ks({output:e,pubkey:i[0].pubkey,signature:i[0].signature});break;case"witnesspubkeyhash":s=vl({output:e,pubkey:i[0].pubkey,signature:i[0].signature});break}return s}function ex(e,r,i){const s=i.__TX,l={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(l.isP2SH=!!r.redeemScript,l.isP2WSH=!!r.witnessScript,r.witnessScript)l.script=r.witnessScript;else if(r.redeemScript)l.script=r.redeemScript;else if(r.nonWitnessUtxo){const f=xl(i,r,e),c=s.ins[e].index;l.script=f.outs[c].script}else r.witnessUtxo&&(l.script=r.witnessUtxo.script);return(r.witnessScript||El(l.script))&&(l.isSegwit=!0),l}function n0(e,r,i){const s=Vt(r,e);if(!s.bip32Derivation||s.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");const l=s.bip32Derivation.map(c=>{if(Ee(c.masterFingerprint,i.fingerprint)===0)return c}).filter(c=>!!c);if(l.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return l.map(c=>{const p=i.derivePath(c.path);if(Ee(c.pubkey,p.publicKey)!==0)throw new Error("pubkey did not match bip32Derivation");return p})}function tx(e,r){return ml({output:e}).pubkeys.map(s=>(r.filter(l=>Ee(l.pubkey,s)===0)[0]||{}).signature).filter(s=>!!s)}function Ry(e){let r=0;function i(c){return r+=c,e.slice(r-c,r)}function s(){const c=xo(e,r);return r+=Dn(c.bigintValue),c.numberValue}function l(){return i(s())}function f(){const c=s(),p=[];for(let m=0;m<c;m++)p.push(l());return p}return f()}function nx(e){let r=e&wt.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(e&31){case wt.SIGHASH_ALL:r+="SIGHASH_ALL";break;case wt.SIGHASH_SINGLE:r+="SIGHASH_SINGLE";break;case wt.SIGHASH_NONE:r+="SIGHASH_NONE";break}return r}function Gc(e,r,i){e.__NON_WITNESS_UTXO_BUF_CACHE[i]=r.nonWitnessUtxo;const s=wt.fromBuffer(r.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[i]=s;const l=e,f=i;delete r.nonWitnessUtxo,Object.defineProperty(r,"nonWitnessUtxo",{enumerable:!0,get(){const c=l.__NON_WITNESS_UTXO_BUF_CACHE[f],p=l.__NON_WITNESS_UTXO_TX_CACHE[f];if(c!==void 0)return c;{const m=p.toBuffer();return l.__NON_WITNESS_UTXO_BUF_CACHE[f]=m,m}},set(c){l.__NON_WITNESS_UTXO_BUF_CACHE[f]=c}})}function Ly(e,r,i,s){let l=0n;e.forEach((m,w)=>{if(s&&m.finalScriptSig&&(r.ins[w].script=m.finalScriptSig),s&&m.finalScriptWitness&&(r.ins[w].witness=Ry(m.finalScriptWitness)),m.witnessUtxo)l+=m.witnessUtxo.value;else if(m.nonWitnessUtxo){const g=xl(i,m,w),v=r.ins[w].index,_=g.outs[v];l+=_.value}});const f=r.outs.reduce((m,w)=>m+w.value,0n),c=l-f;if(c<0)throw new Error("Outputs are spending more than Inputs");const p=r.virtualSize();i.__FEE=c,i.__EXTRACTED_TX=r,i.__FEE_RATE=Math.floor(Number(c/BigInt(p)))}function xl(e,r,i){const s=e.__NON_WITNESS_UTXO_TX_CACHE;return s[i]||Gc(e,r,i),s[i]}function Fy(e,r,i){const{script:s}=hf(e,r,i);return s}function hf(e,r,i){if(r.witnessUtxo!==void 0)return{script:r.witnessUtxo.script,value:r.witnessUtxo.value};if(r.nonWitnessUtxo!==void 0){const l=xl(i,r,e).outs[i.__TX.ins[e].index];return{script:l.script,value:l.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function rx(e,r,i,s){const l=Fy(i,r,s),{meaningfulScript:f}=_l(l,i,"input",r.redeemScript,r.witnessScript);return Sl(e,f)}function ix(e,r,i,s){const l=s.__TX.outs[i].script,{meaningfulScript:f}=_l(l,i,"output",r.redeemScript,r.witnessScript);return Sl(e,f)}function ox(e){if(!e)return;const r=_t(e);if(!r)return;const i=r[r.length-1];if(!(!(i instanceof Uint8Array)||My(i)||lx(i)||!_t(i)))return i}function sx(e){if(!e)return;const r=Ry(e),i=r[r.length-1];if(!(My(i)||!_t(i)))return i}function ux(e){if(e.length===65){const r=e[64]&1,i=e.slice(0,33);return i[0]=2|r,i}return e.slice()}function My(e){return e.length===33&&D2(e)}function lx(e){return Lr(e)}function _l(e,r,i,s,l){const f=ky(e),c=f&&s&&Wp(s),p=Wp(e);if(f&&s===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((p||c)&&l===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let m;return c?(m=l,Qp(r,e,s,i),Zp(r,s,l,i),nl(m)):p?(m=l,Zp(r,e,l,i),nl(m)):f?(m=s,Qp(r,e,s,i)):m=e,{meaningfulScript:m,type:c?"p2sh-p2wsh":f?"p2sh":p?"p2wsh":"raw"}}function nl(e){if(El(e)||ky(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function Dy(e){return El(e)?"witnesspubkeyhash":kS(e)?"pubkeyhash":xS(e)?"multisig":_S(e)?"pubkey":"nonstandard"}function ys(e){return[...Array(e).keys()]}const ax=546n,jy=10,cx=68,fx=31;async function dx(e,r=3){const i=e==="bitcoin:mainnet"?"https://blockstream.info/api":"https://blockstream.info/testnet/api";try{const s=await fetch(`${i}/fee-estimates`);if(!s.ok)throw new Error(`fee-estimates ${s.status}`);const l=await s.json(),f=l==null?void 0:l[r];if(typeof f=="number"&&Number.isFinite(f)&&f>0)return f}catch(s){console.warn("Falling back to default fee rate:",s)}return jy}function r0(e){try{return Vc(e,$n),"bitcoin:mainnet"}catch{}try{return Vc(e,b0),"bitcoin:testnet"}catch{}return null}async function hx(e,r){const i=r0(e);i&&i!==r&&console.warn(`Address network mismatch: address appears to be ${i} but network is set to ${r}. Using ${r} API.`);const s=r==="bitcoin:mainnet"?"https://blockstream.info/api":"https://blockstream.info/testnet/api";try{const l=await fetch(`${s}/address/${e}/utxo`);if(!l.ok){const c=await l.text();if(l.status===400&&c.includes("invalid network")){const p=r0(e);if(p&&p!==r)throw new Error(`Network mismatch: Address ${e} appears to be on ${p} but the app is configured for ${r}. Please switch the network in the app settings.`)}throw new Error(`Failed to fetch UTXOs: ${l.status} ${l.statusText} - ${c}`)}const f=await l.json();if(!Array.isArray(f))throw new Error(`Unexpected response format: ${JSON.stringify(f)}`);return f.map(c=>({txid:c.txid,vout:c.vout,value:c.value,scriptPubKey:c.scriptpubkey?{hex:c.scriptpubkey}:void 0}))}catch(l){throw new Error(`Error fetching UTXOs: ${l instanceof Error?l.message:"Unknown error"}`)}}function i0(e,r,i=jy){const s=10+e*cx+r*fx;return BigInt(Math.ceil(s*i))}function px(e,r,i){const s=r+i;let l=0n;const f=[],c=[...e].sort((p,m)=>m.value-p.value);for(const p of c)if(f.push(p),l+=BigInt(p.value),l>=s)break;if(l<s)throw new Error("Insufficient funds");return f}async function yx(e,r,i,s){var B;const l=s==="bitcoin:mainnet"?$n:b0,f=s==="bitcoin:mainnet"?"https://blockstream.info/api":"https://blockstream.info/testnet/api",c=await hx(e,s);if(c.length===0)throw new Error("No UTXOs found for sender address");const p=await dx(s);let m=i0(1,2,p),w=[],g=0n,v=0n,_=0n;for(;;){if(w=px(c,i,m),g=w.reduce((Y,X)=>Y+BigInt(X.value),0n),v=i0(w.length,2,p),g<i+v){m=v;continue}_=g-i-v;break}if(_<0n)throw new Error("Insufficient funds after fee calculation");_>0n&&_<ax&&(v+=_,_=0n);const I=new tl({network:l});for(const Y of w){const X=(B=Y.scriptPubKey)==null?void 0:B.hex;if(X)I.addInput({hash:Y.txid,index:Y.vout,witnessUtxo:{script:vp.from(X,"hex"),value:BigInt(Y.value)}});else{const L=await fetch(`${f}/tx/${Y.txid}/hex`);if(!L.ok)throw new Error(`Failed to fetch transaction hex for ${Y.txid}`);const $=await L.text(),V=vp.from($,"hex");I.addInput({hash:Y.txid,index:Y.vout,nonWitnessUtxo:V})}}I.addOutput({address:r,value:i}),_>0n&&I.addOutput({address:e,value:_});const C=I.toBuffer();return{psbt:new Uint8Array(C),inputCount:w.length}}function gx(){const{network:e}=Fr(),{selectedAccount:r,statsConnectProvider:i}=Oc(),{selectedConnectionType:s,selectedWallet:l}=Mr(),f=Ce.useCallback(async(p,m)=>{var C;if(!l)throw new Error("Wallet not connected");if(!r)throw new Error("Account not selected");const w=l.features[Qm];if(!w)throw new Error("Wallet does not support transaction signing and sending");const{psbt:g,inputCount:v}=await yx(r.address,p,m,e),_=[{account:r,signingIndexes:Array.from({length:v},(N,B)=>B)}],I=await w.signAndSendTransaction({psbt:g,inputsToSign:_,chain:e});if(I.length===0||!((C=I[0])!=null&&C.txId))throw new Error("Transaction failed: no transaction ID returned");return I[0].txId},[l,r,e]),c=Ce.useCallback(async(p,m)=>{if(!r)throw new Error("Wallet not connected");if(!i)throw new Error("Sats Connect provider not available");const w=e==="bitcoin:mainnet"?En.Mainnet:En.Testnet;return await new Promise((v,_)=>e2({getProvider:async()=>i,payload:{network:{type:w},recipients:[{address:p,amountSats:m}],senderAddress:r.address},onFinish:I=>{var C;return v(((C=I==null?void 0:I.result)==null?void 0:C.txId)||(I==null?void 0:I.txId))},onCancel:()=>_(new Error("Transaction cancelled"))}))},[r,i,e]);return Ce.useCallback(async(p,m)=>{if(!r)throw new Error("Wallet not connected");if(!s)throw new Error("Connection type not selected");switch(s){case zt.Standard:return f(p,m);case zt.SatsConnect:return c(p,m);default:throw new Error(`Unsupported connection type: ${s}`)}},[r,s,f,c])}const pf=({children:e,loading:r,...i})=>J.jsxs("button",{...i,disabled:r||i.disabled,style:{backgroundColor:"#512da8",color:"#ffffff",border:"none",borderRadius:"4px",padding:"0.5rem 1rem",cursor:r?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"bold",textTransform:"uppercase",opacity:r?.7:1,...i.style},children:[e,r&&J.jsx("span",{style:{marginLeft:"0.5rem",display:"inline-block",width:"1rem",height:"1rem",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})]}),$y=document.createElement("style");$y.textContent=`
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
`;document.head.appendChild($y);const mx=(e,r)=>e==="bitcoin:mainnet"?`https://mempool.space/tx/${r}`:`https://mempool.space/testnet/tx/${r}`,wx=({hash:e,...r})=>{const{network:i}=Fr();return J.jsx(P0,{...r,content:e,explorerUrl:mx(i,e)})},vx=()=>{const e=gx(),{selectedAccount:r,connected:i}=Mr(),s=r==null?void 0:r.address,[l,f]=Ce.useState(),[c,p]=Ce.useState(""),[m,w]=Ce.useState(1e3),[g,v]=Ce.useState(!1),_=Ce.useCallback(N=>{p(N.target.value)},[]),I=Ce.useCallback(N=>{w(Number(N.target.value)||0)},[]),C=Ce.useCallback(async()=>{if(!s)throw new Error("Wallet not connected");v(!0);try{const N=await e(c,BigInt(m));f(N)}finally{v(!1)}},[s,c,m,e]);return J.jsxs("div",{children:[J.jsxs("div",{style:{marginBottom:"1rem"},children:[J.jsx("label",{htmlFor:"address",children:"Destination Address"}),J.jsx("input",{type:"text",value:c,onChange:_,style:{width:"90%",padding:"0.5rem",marginTop:"0.5rem"}})]}),J.jsxs("div",{style:{marginBottom:"1rem"},children:[J.jsx("label",{htmlFor:"amount",children:"Amount (sats)"}),J.jsx("input",{type:"number",value:m,onChange:I,style:{width:"90%",padding:"0.5rem",marginTop:"0.5rem"}})]}),J.jsx("div",{style:{display:"flex",gap:"1rem"},children:J.jsx(pf,{onClick:C,disabled:!i||!c||m<=0,loading:g,children:"Send Payment"})}),l&&J.jsxs("div",{style:{marginTop:"1rem"},children:[J.jsx("h3",{children:"Transaction"}),J.jsx(wx,{hash:l})]})]})};function Ex(){const{network:e}=Fr(),{selectedConnectionType:r,statsConnectProvider:i,selectedWallet:s,selectedAccount:l}=Mr(),f=Ce.useCallback(async p=>{var w;if(!s)throw new Error("Wallet not connected");if(!l)throw new Error("Account not selected");const m=s.features[Zm];if(!m)throw new Error("Wallet does not support message signing");try{return(w=(await m.signMessage({account:l,message:p}))[0])==null?void 0:w.signature}catch(g){throw new Error(`Failed to sign message: ${g instanceof Error?g.message:"Unknown error"}`)}},[s,l]),c=Ce.useCallback(async p=>{if(!l)throw new Error("Wallet not connected");if(!i)throw new Error("Sats Connect provider not available");const m=e==="bitcoin:mainnet"?En.Mainnet:En.Testnet;return await new Promise((g,v)=>Z1({getProvider:async()=>i,payload:{address:l.address,message:Lc.from(p).toString("utf8"),network:{type:m}},onFinish:_=>g(_),onCancel:()=>v(new Error("Signature cancelled"))}))},[l,i,e]);return Ce.useCallback(async p=>{if(!l)throw new Error("Wallet not connected");if(!r)throw new Error("Connection type not selected");switch(r){case zt.Standard:return f(p);case zt.SatsConnect:return c(p);default:throw new Error(`Unsupported connection type: ${r}`)}},[l,r,f,c])}const Sx=()=>{const e=Ex(),{selectedAccount:r}=Mr(),[i,s]=Ce.useState(null),[l,f]=Ce.useState("Hello, Bitcoin!"),[c,p]=Ce.useState(!1),m=Ce.useCallback(g=>{f(g.target.value)},[]),w=Ce.useCallback(async()=>{if(!r||!e)throw new Error("Wallet not connected");p(!0);try{const g=new TextEncoder().encode(l),v=await e(g);s(v)}finally{p(!1)}},[r,e,l]);return J.jsxs("div",{"data-testid":It.testPage.signMessage.id,children:[J.jsxs("div",{style:{marginBottom:"1rem"},children:[J.jsx("label",{htmlFor:"message",children:"Message:"}),J.jsx("input",{"data-testid":It.testPage.signMessage.message,type:"text",value:l,onChange:m,style:{width:"90%",padding:"0.5rem",marginTop:"0.5rem"}})]}),J.jsx(pf,{"data-testid":It.testPage.signMessage.signMessage,onClick:w,disabled:!r,loading:c,children:"Sign Message"}),i&&J.jsxs(J.Fragment,{children:[J.jsx("h3",{children:"Signed Message"}),J.jsx("pre",{"data-testid":It.testPage.signMessage.signedMessage,className:"signedTransactions",children:i})]})]})};function xx(){const{network:e}=Fr(),{selectedAccount:r,statsConnectProvider:i,selectedConnectionType:s,selectedWallet:l}=Mr(),f=Ce.useCallback(async(p,m=[])=>{if(!l)throw new Error("Wallet not connected");if(!r)throw new Error("Account not selected");const w=l.features[qm];if(!w)throw new Error("Wallet does not support message signing");const g=await w.signTransaction({psbt:Lc.from(p,"base64"),inputsToSign:m.map(v=>({account:r,signingIndexes:v.signingIndexes,sigHash:"ALL"})),chain:e});return{psbtBase64:Lc.from(g[0].signedPsbt.buffer).toString("base64"),txId:""}},[r,e,l]),c=Ce.useCallback(async(p,m,w=[],g)=>{if(!i)throw new Error("Sats Connect provider not available");const v=e==="bitcoin:mainnet"?En.Mainnet:En.Testnet;return await new Promise((I,C)=>t2({getProvider:async()=>i,payload:{network:{type:v},psbtBase64:p,message:m,inputsToSign:w,broadcast:g},onFinish:N=>I((N==null?void 0:N.result)||N),onCancel:()=>C(new Error("Transaction signing cancelled"))}))},[i,e]);return Ce.useCallback(async(p,m,w=[])=>{if(!r)throw new Error("Wallet not connected");if(!s)throw new Error("Connection type not selected");switch(s){case zt.Standard:return f(p,w);case zt.SatsConnect:return c(p,m,w);default:throw new Error(`Unsupported connection type: ${s}`)}},[r,s,f,c])}const _x="Sign this transaction",kx=()=>{var g,v,_,I,C;const e=xx(),{selectedAccount:r}=Mr(),[i,s]=Ce.useState(null),[l,f]=Ce.useState(""),[c,p]=Ce.useState(!1),m=Ce.useCallback(N=>{f(N.target.value)},[]),w=Ce.useCallback(async()=>{if(!r||!e)throw new Error("Wallet not connected");if(!l.trim())throw new Error("PSBT is required");p(!0);try{const N=[{address:r.address,signingIndexes:[0]}],B=await e(l.trim(),_x,N);s(B)}finally{p(!1)}},[r,e,l]);return J.jsxs("div",{"data-testid":(g=It.testPage.signTransaction)==null?void 0:g.id,children:[J.jsxs("div",{style:{marginBottom:"1rem"},children:[J.jsx("label",{htmlFor:"psbt",children:"PSBT (Base64):"}),J.jsx("textarea",{"data-testid":(v=It.testPage.signTransaction)==null?void 0:v.psbt,value:l,onChange:m,placeholder:"Enter base64 encoded PSBT...",style:{width:"90%",padding:"0.5rem",marginTop:"0.5rem",minHeight:"100px",fontFamily:"monospace",fontSize:"0.8rem"}})]}),J.jsx(pf,{"data-testid":(_=It.testPage.signTransaction)==null?void 0:_.signTransaction,onClick:w,disabled:!(r!=null&&r.address)||!l.trim(),loading:c,children:"Sign Transaction"}),i&&J.jsxs(J.Fragment,{children:[J.jsx("h3",{children:"Signed Transaction"}),J.jsxs("div",{style:{marginBottom:"1rem"},children:[J.jsx("h4",{children:"Signed PSBT:"}),J.jsx("pre",{"data-testid":(I=It.testPage.signTransaction)==null?void 0:I.signedPsbt,className:"signedTransactions",children:i.psbtBase64})]}),i.txId&&J.jsxs("div",{children:[J.jsx("h4",{children:"Transaction ID:"}),J.jsx("pre",{"data-testid":(C=It.testPage.signTransaction)==null?void 0:C.txId,className:"signedTransactions",children:i.txId})]})]})]})},Hc=({title:e,children:r})=>{const{connected:i}=Mr();return J.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",textAlign:"left"},children:[J.jsx("div",{style:{color:"#ffffff",backgroundColor:"#512da8",padding:"0.5rem 1rem",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},children:J.jsx("h3",{style:{margin:0},children:e})}),J.jsx("div",{style:{padding:"1rem"},children:i?r:J.jsx("p",{children:"Not Connected"})})]})},Ax=()=>(Fr(),J.jsxs("div",{style:{padding:"1rem"},children:[J.jsx("div",{style:{marginBottom:"2rem"},children:J.jsx(u2,{})}),J.jsxs("div",{className:"grid",children:[J.jsx(Hc,{title:"Sign Message",children:J.jsx(Sx,{})},"signMessage"),J.jsx(Hc,{title:"Send Test Payment",children:J.jsx(vx,{})},"sendTestTransaction"),J.jsx(Hc,{title:"Sign Transaction",children:J.jsx(kx,{})},"signTransaction")]})]})),Tx=()=>J.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"100vh",width:"100vw",padding:"1rem",boxSizing:"border-box"},children:J.jsx("div",{style:{width:"100%",maxWidth:"1600px",margin:"0 auto",textAlign:"center"},children:J.jsx(Ax,{})})}),Ix=()=>J.jsx(nw,{children:J.jsx(rw,{children:J.jsx(Tx,{})})});jm.createRoot(document.getElementById("root")).render(J.jsx(Ce.StrictMode,{children:J.jsx(Ix,{})}));
